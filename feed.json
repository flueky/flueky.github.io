{
  "version": "https://jsonfeed.org/version/1.1",
  "title": "Flueky's 技术小站",
  "home_page_url": "https://vuepress-theme-hope.github.io/",
  "feed_url": "https://vuepress-theme-hope.github.io/feed.json",
  "favicon": "https://vuepress-theme-hope.github.io/favicon.ico",
  "items": [
    {
      "title": "C语言编程之你不知道的事——回调函数",
      "url": "https://vuepress-theme-hope.github.io/c-callback.html",
      "id": "https://vuepress-theme-hope.github.io/c-callback.html",
      "summary": "说起回调函数，我们通常想到的就是Java编程里面的Callback，基于接口实现。使用的时候传入一个对象的引用然后再在需要的地方调用对象里的方法即可。众所周知，Java编程里引用的概念即指C语言里指针传址的实现。所以参照Java里回调函数的实现模式，在C语言里也能很轻松的实现回调的功能。",
      "content_html": "<p>说起回调函数，我们通常想到的就是Java编程里面的Callback，基于接口实现。使用的时候传入一个对象的引用然后再在需要的地方调用对象里的方法即可。众所周知，Java编程里<code>引用</code>的概念即指C语言里指针传址的实现。所以参照Java里回调函数的实现模式，在C语言里也能很轻松的实现回调的功能。</p>\n<!-- more -->\n<h1>定义头文件</h1>\n<p>callback.h</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> CALLBACK_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> CALLBACK_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void*</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> callback</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> name);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> set_callback</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">callback</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">cb</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> test_call</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#endif</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> /* CALLBACK_H_ */</span></span></code></pre>\n</div><h1>定义源文件</h1>\n<p>callback.cpp</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;stdio.h&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"callback.h\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">callback </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_cb;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void*</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> default_callback</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"default callback </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%s</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, name);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> set_callback</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">callback</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">cb</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t_cb </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> cb;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> test_call</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (_cb </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tdefault_callback</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(name);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t_cb</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(name);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h1>使用</h1>\n<p>main.cpp</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"callback.h\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;stdio.h&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void*</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> my_callback</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"my callback </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%s</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, name);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\ttest_call</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"flueky\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tset_callback</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(my_callback);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\ttest_call</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"heheda\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><h1>小结</h1>\n<p>以上三个文件，简单的实现了C语言回调函数的demo。提供一个默认的<code>callback</code>和用户自定义一个<code>callback</code>。 当没有执行<code>set_callback</code>函数，<code>test_call</code>方法将调用默认的<code>callback</code>。执行代码<code>set_callback(my_callback)</code>，会将字符串“heheda”传入<code>my_callback</code>函数，用户在<code>my_callback</code>函数里继续实现自己的逻辑，是不是和<code>Java</code>的<code>callback</code>很相似呢？</p>\n<p>这里的关键就是用<code>typedef</code>定义的一个函数指针类型<code>callback</code>。<code>callback</code>指向的是<code>void*</code>类型的函数地址，当<code>_cb</code>未赋值时，<code>_cb==NULL</code>，执行函数<code>default_callback</code>，当<code>_cb</code>指向<code>my_callback</code>时，就通过<code>_cb</code>调用了函数<code>my_callback</code>。</p>\n",
      "date_published": "2024-10-20T13:34:03.000Z",
      "date_modified": "2024-10-20T13:34:03.000Z",
      "authors": [],
      "tags": [
        "C/C++"
      ]
    },
    {
      "title": "浅谈动态规划算法设计",
      "url": "https://vuepress-theme-hope.github.io/dynamic-programming.html",
      "id": "https://vuepress-theme-hope.github.io/dynamic-programming.html",
      "summary": "和分治法一样，动态规划算法是通过组合子问题的解来解决整个问题。不同的是，分治法是指将问题划分成一些独立的子问题，递归的求解个个子问题，最经典的案例就是快速排序算法的应用。而动态规划适用于处理子问题不是独立的情况，也就是各个子问题包含公共子子问题。动态规划算法对每个子子问题只求解一次，存放在一张表里。",
      "content_html": "<p>和分治法一样，动态规划算法是通过组合子问题的解来解决整个问题。不同的是，分治法是指将问题划分成一些独立的子问题，递归的求解个个子问题，最经典的案例就是快速排序算法的应用。而动态规划适用于处理子问题不是独立的情况，也就是各个子问题包含公共子子问题。动态规划算法对每个子子问题只求解一次，存放在一张表里。</p>\n<!-- more -->\n<p>关于更多详细的动态规划算法的设计，还请阅读课本或其他专业性资料进行了解。本文只简要介绍动态规划的两个要素：最优子结构和重叠子问题。然后用一个详细的代码用例来加深对该算法的理解。</p>\n<h1>引入问题</h1>\n<p>现有一种编码方式是将26个字母按照字母表的顺序依次用阿拉伯数字表示，如1表示A、2表示B、12表示L。（为降低问题的复杂度，此处只采用大写字母）。现在将一串数字组成的字符串解码成用26个英文字母表示。问题的难点在于其结果的不唯一性。如之前所说，12既可以是AB也可以是L，123可以表示成：ABC、AW、LC。现在给定一个数字串，要求计算出所有能表示的字母串的个数。若可以，再输出所有可能的字母串。</p>\n<h1>分析问题</h1>\n<p>假设n个数字能表示成的字母串的个数用T(n)表示，要求计算出T(n)的最大值，结合问题，只要求出T(n-1)的最大值，那么当拼接上最后一个数字时，就能得到T(n)的最大值。因此这里的最有子结构就是T(n-1)的最大值。所谓的重叠子问题就更好理解，T(n-2)是T(n-1)的子问题同时也是T(n)的子问题。搞懂了这两个概念，那么接下来就开始分析问题，即我理解成的找规律。</p>\n<p>当n=1时，毫无疑问T(n)=1;当n=2时，需要考虑到两种情况。因为第一个数字是1，第二个数字是1<sub>9都可能表示两种情况。同样，第一个数字是2，第二个数字是1</sub>6也表示两种情况。所以T(2)=1或T(2)=2。推广到一般情况，T(n)=T(n-1)，若最后两个数字满足上述情况，还要对T(n)执行T(n)+=T(n-2)。在这里，有点难理解。同样用数字串123表示，T(1)=1,T(2)=2,T(3) = T(2)+T(1)=3。若是数字串129，那么T(3)=T(2)=2。说白了就是T(n-1)（前N-1个字母）再加第N个字母能组成一个字母串，若第N-1和第N个字母能组合成 一个字母，还要再加上T(n-2)。</p>\n<p>由于页面排版问题，这里就不整理递归表达式了。下面，附上解决这个问题的代码：</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void*</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> revertString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> strlen</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(nums);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //整个字符串的长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> var </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //用来保存，第i个位置，解的个数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">\tvar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当字符串只有一位时，只有一个解</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> ||</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '2'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '6'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t//当遇到12的情况，可以是AB也可以是L</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">\t\tvar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\telse</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">\t\tvar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tfor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len; i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t//从第三个字符开始，var[i]=var[i-1]，若nums[i-1]num[i]可以组成一个字母，那么var[i]+=var[i-2]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> ||</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '9'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t//当字符串中包含不合法的数字</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">\t\tvar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> var</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">\t\t\t\t||</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '2'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '6'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">\t\t\tvar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">+=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> var</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tfor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len; i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">var</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>最后一个for循环，是输出每一个子问题最多能表示字母串的个数。数组var相当于用来保存每个子问题最优解的表。用数字串12351726测试输出结果是1 2 3 3 3 6 6 12 。表示总共有12个情况。</p>\n<p>要想进一步输出这个12个字母串，上述代码显的有点无能为力。所以本宝宝又写了一段代码。定义了一个链表，每个结点存储一个可能表示的字母串。遍历整个数字串，依次向整个链表里添加字母。代码如下：</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tchar*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strs;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储每个节点长度的字符串</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tchar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> last;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //字符串长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> next;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void*</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> revertString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> strlen</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(nums);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //整个字符串的长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    //生成一个head，指向第一个节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode head;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    //生成第一个节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode first;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    memset</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">len</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">first;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    for</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len; i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        //从第二个字符开始</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //标记上一个字符，A或B就添加一个节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        while</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> c </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> nums</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">len</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> ||</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'B'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> c </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> c </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'F'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> c;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //标记最后一个字符</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">len</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">!=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                //新增节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">                struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> add </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> ( </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">( </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> strNode));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">                memset</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">                memcpy</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">len</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">len</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">  temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">len</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">last</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                c </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">len</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                //插入节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> add;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            }</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">first;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    while</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%s</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">strs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h1>测试结果</h1>\n<p>共12个字母串</p>\n<pre><code>ABCEAGBF\nABCEAGZ\nABCEQBF\nABCEQZ\nAWEAGBF\nAWEAGZ\nAWEQBF\nAWEQZ\nLCEAGBF\nLCEAGZ\nLCEQBF\nLCEQZ\n</code></pre>\n<h1>总结</h1>\n<p>关于动态规划的问题有好多，经典的如：装配线调度、矩阵链乘和最长公共子序列。只要分析出问题的最优子结构，再设计出一张表保存重叠子问题的解，便能顺利得到问题的解。上述两段代码中，分别采用数组和链表保存重叠子问题的解。第一个保存字母串的个数，第二个保存字母串的内容。因此导致两段算法的时间复杂度依次是O(n)和O(n^2)。</p>\n<p><strong>注：上述问题仅用来表示处理动态规划类的问题的方法，在实际中，考虑到字母J表示10和字母T表示20，第一个1或者2不能单独的表示成A或者B。所以请不要用带有数字0的数字串的测试用例来验证上述两个代码片段。最后，祝小伙伴们假期愉快。</strong></p>\n",
      "date_published": "2024-10-20T13:31:54.000Z",
      "date_modified": "2024-10-20T13:31:54.000Z",
      "authors": [],
      "tags": [
        "算法",
        "C/C++"
      ]
    },
    {
      "title": "设计模式之策略模式",
      "url": "https://vuepress-theme-hope.github.io/design-pattern/stragety.html",
      "id": "https://vuepress-theme-hope.github.io/design-pattern/stragety.html",
      "summary": "设计模式介绍 设计模式是什么？百度百科这么说的：设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。 引入问题 如果还不懂，那就先请看下面这一段看上去似乎没有问题的代码。 Animal类 测试用的Main方法 以下是上述代码的输...",
      "content_html": "\n<p>设计模式是什么？百度百科这么说的：设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。</p>\n<h1>引入问题</h1>\n<p>如果还不懂，那就先请看下面这一段看上去似乎没有问题的代码。</p>\n<p>Animal类</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * @date 2016年4月7日 下午9:43:50</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Type</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//动物种类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tsuper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tthis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> type;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 动物移动方法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * @date 2016年4月7日 下午9:49:44</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (type </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">FISH</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tSystem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">out</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">println</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"鱼在水里游\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (type </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DOG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tSystem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">out</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">println</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"狗在地上跑\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (type </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">BIRD</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tSystem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">out</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">println</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"鸟在空中飞\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 动物类型</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * @date 2016年4月7日 下午9:44:06</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tenum</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">\t\tFISH</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> DOG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> BIRD</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>测试用的Main方法</p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] args) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tAnimal</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> fish </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">FISH</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tfish</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tAnimal</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> dog </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DOG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tdog</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tAnimal</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> bird </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">BIRD</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tbird</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span></span></code></pre>\n</div><p>以下是上述代码的输出。</p>\n<pre><code>鱼在水里游\n狗在地上跑\n鸟在空中飞\n</code></pre>\n<p>现假设引入一个新的动物——乌龟。它只能在地上爬的份了。Animal类就得这样改</p>\n<ul>\n<li><strong>枚举类型Type中添加一个枚举TORTOISE</strong></li>\n<li><strong>move 方法中新增else if 判断 Type.TORTOISE</strong></li>\n</ul>\n<p>如果你也同样觉得只是改两个地方，so easy！倘若这个类是别人封装在jar包中供你使用的类，现在需要扩展，要求能够描述乌龟的移动动作，那是否又是只有哭的份了？</p>\n<h1>解决方案</h1>\n<p>现将上述代码重构如下：</p>\n<ul>\n<li><strong>抽象出动作接口</strong></li>\n</ul>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 动作接口</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * @date 2016年4月7日 下午10:16:27</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> interface</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Action</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 移动</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * @date 2016年4月7日 下午10:16:42</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><ul>\n<li><strong>抽象出动物类的动作，在动物类的move方法中调用动作接口的move方法</strong></li>\n</ul>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * @date 2016年4月7日 下午9:43:50</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Action</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> action</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 动物的动作</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 动物移动方法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * @date 2016年4月7日 下午9:49:44</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\taction</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><ul>\n<li><strong>实现动物类的子类，bird</strong></li>\n</ul>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * bird类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * @date 2016年4月7日 下午10:21:26</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Bird</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Bird</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t// 给bird 赋值跑的动作</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\taction </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Fly</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><ul>\n<li><strong>实现bird类的移动动作，fly</strong></li>\n</ul>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 飞的动作</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * @date 2016年4月7日 下午10:19:41</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Fly</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> implements</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Action</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tSystem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">out</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">println</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"鸟在空中飞\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] args) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tAnimal</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> fish </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Fish</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tfish</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tAnimal</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> dog </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Dog</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tdog</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tAnimal</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> bird </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Fish</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tbird</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">move</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span></span></code></pre>\n</div><blockquote>\n<p>注意：此处指提供bird类和fly类源码，其余类可以参照这两个类的实现。</p>\n</blockquote>\n<p>也许会觉得在定义这些接口和实现这些类的地方，代码过于繁琐。由刚刚的一个类变成现在的七个类。但是这种设计，却将工程的扩展性大大提高，新增一个乌龟类的爬行动作，只需要新增两个类，不需要在原有代码的基础上再做修改。<strong>这就是设计模式的好处</strong></p>\n",
      "date_published": "2024-10-20T13:27:01.000Z",
      "date_modified": "2024-10-20T13:27:01.000Z",
      "authors": [],
      "tags": [
        "Java",
        "设计模式"
      ]
    },
    {
      "title": "回溯法解数独游戏",
      "url": "https://vuepress-theme-hope.github.io/sudoku.html",
      "id": "https://vuepress-theme-hope.github.io/sudoku.html",
      "summary": "前言 采用回溯法最经典的例子是解决8皇后和迷宫的问题。不习惯走别人的路，所以下面介绍下用回溯法解数独游戏。写这个算法的起因是之前在玩数独游戏时，遇到了难解的专家模式，就想着写程序来暴力破解，是不是很无赖，啊哦…… 数独介绍 数独（すうどく，Sūdoku），是源自18世纪瑞士发明，流传到美国，再由日本发扬光大的一种数学游戏。是一种运用纸、笔进行演算的逻辑...",
      "content_html": "\n<p>采用回溯法最经典的例子是解决8皇后和迷宫的问题。不习惯走别人的路，所以下面介绍下用回溯法解数独游戏。写这个算法的起因是之前在玩数独游戏时，遇到了难解的专家模式，就想着写程序来暴力破解，是不是很无赖，啊哦……</p>\n<h1>数独介绍</h1>\n<p>数独（すうどく，Sūdoku），是源自18世纪瑞士发明，流传到美国，再由日本发扬光大的一种数学游戏。是一种运用纸、笔进行演算的逻辑游戏。玩家需要根据9×9盘面上的已知数字，推理出所有剩余空格的数字，并满足每一行、每一列、每一个粗线宫内的数字均含1-9，不重复。</p>\n<p>数独盘面是个九宫，每一宫又分为九个小格。在这八十一格中给出一定的已知数字和解题条件，利用逻辑和推理，在其他的空格上填入1-9的数字。使1-9每个数字在每一行、每一列和每一宫中都只出现一次，所以又称“九宫格”。下图是一个完整的数独例子。</p>\n<img src=\"/assets/image/209/1.png\" width=\"300\">\n<p>下图是iPad上一个数独游戏专家模式下的截图。81个格子，只给了17个数字，确实有点难度哈。</p>\n<img src=\"/assets/image/209/2.png\" width=\"300\">\n<p>将上图转化成程序能够识别的输入，{1,1,9}表示第一行第一列的格子数字是9。</p>\n<div class=\"language-\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>{1,1,9},{1,2,1},{1,8,4},{3,4,5},{3,6,3},{4,1,5},{4,3,6},{4,6,8},{4,7,3},{6,5,1},{6,8,2},{6,9,4},{7,1,8},{7,3,5},{8,3,3},{9,5,4},{9,9,1}</span></span></code></pre>\n</div><p>运行程序，得出如下解：</p>\n<p><strong>9</strong>  <strong>1</strong>  7 | 6  8  2 | 5  <strong>4</strong>  3<br><br>\n3  5  2 | 1  9  4 | 7  6  8<br><br>\n6  8  4 | <strong>5</strong>  7  <strong>3</strong> | 1  9  2<br></p>\n",
      "date_published": "2024-10-20T13:23:41.000Z",
      "date_modified": "2024-10-20T13:23:41.000Z",
      "authors": [],
      "tags": [
        "C/C++",
        "算法"
      ]
    },
    {
      "title": "Java压缩zip格式文件",
      "url": "https://vuepress-theme-hope.github.io/java-zip.html",
      "id": "https://vuepress-theme-hope.github.io/java-zip.html",
      "summary": "三个主要的类： import java.util.zip.ZipFile;//打开zip格式文件。 import java.util.zip.ZipEntry; //标记被压缩文件的属性，主要是文件名和路径。 import java.util.zip.ZipOutputStream;//zip格式输出流。 压缩文件夹时，需要挨个节点，递归压缩文件夹中所...",
      "content_html": "<p>三个主要的类：</p>\n<ul>\n<li>import java.util.zip.ZipFile;//打开zip格式文件。</li>\n<li>import java.util.zip.ZipEntry; //标记被压缩文件的属性，主要是文件名和路径。</li>\n<li>import java.util.zip.ZipOutputStream;//zip格式输出流。</li>\n</ul>\n<blockquote>\n<p>压缩文件夹时，需要挨个节点，递归压缩文件夹中所有的文件。</p>\n</blockquote>\n<p>代码如下：</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> zipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> filePath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> zipPath) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\ttry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tFile</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> inFile </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(filePath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tFile</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> outFile </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(zipPath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tFileOutputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> fos </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> FileOutputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(outFile)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tZipOutputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> zos </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> ZipOutputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(fos)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tzipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(filePath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> inFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> zos)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tzos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tfos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Exception</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t// TODO Auto-generated catch block</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\te</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 压缩文件夹</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * @date 2016年4月13日 下午7:47:11</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> folderPath</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> zipPath</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> zipFolder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> folderPath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> zipPath) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\ttry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tFile</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> inFile </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(folderPath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tFile</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> outFile </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(zipPath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tFileOutputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> fos </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> FileOutputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(outFile)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tZipOutputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> zos </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> ZipOutputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(fos)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tzipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(folderPath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> inFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> zos)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tzos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tfos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">FileNotFoundException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\te</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IOException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t// TODO Auto-generated catch block</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\te</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 递归压缩文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * @date 2016年4月13日 下午7:47:28</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> folderPath</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> file</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> zos</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> zipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> folderPath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> ZipOutputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> zos) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tint</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> index </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> folderPath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">lastIndexOf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">separator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\ttry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">isDirectory</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 文件夹,递归遍历文件夹下文件压缩</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\t\tFile</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] files </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">listFiles</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (files </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\t\tfor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">File</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> f </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> files)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\t\t\t\tzipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(folderPath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> zos)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tzos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">putNextEntry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> ZipEntry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getAbsolutePath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">substring</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(index)));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">\t\t\tbyte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] buffer </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1024</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\tint</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> length </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tFileInputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> fis </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> FileInputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(file)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> ((length </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> fis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">read</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(buffer)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\tzos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(buffer, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, length);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tfis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IOException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\te</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 解压文件.zip格式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@author</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> flueky flueky@sina.com</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * @date 2016年4月13日 下午3:12:23</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> zipFilePath</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> outFolderPath</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> unzipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> zipFilePath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> outFolderPath) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\ttry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tZipFile</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> zipFile </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> ZipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(zipFilePath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\tEnumeration</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">ZipEntry</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> zList </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Enumeration</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">ZipEntry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">zipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">entries</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">zList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hasMoreElements</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\t\tZipEntry</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> zipEntry </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> zList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nextElement</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">zipEntry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">startsWith</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"__MACOSX\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// Mac</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 系统自带压缩工具生成,屏蔽</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\t\tcontinue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">zipEntry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">isDirectory</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 只解压文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\t\t\tInputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> is </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> zipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(zipEntry);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\t\t\tStringBuffer</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> name </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> StringBuffer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(outFolderPath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">lastIndexOf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">separator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> !=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\t\t\tname</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">separator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\t\tname</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">zipEntry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">());</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\t\t\tFile</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> outFile </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">toString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">outFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getParentFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">exists</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\t\t\toutFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getParentFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkdirs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\t\toutFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">createNewFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\t\t\t\tFileOutputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> fos </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> FileOutputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(outFile)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\t\tint</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> length </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">\t\t\t\t\tbyte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] buffer </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1024</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\t\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> ((length </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> is</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">read</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(buffer)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\t\t\tfos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(buffer, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, length);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t\t\t// 关闭流</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\t\tis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\t\tfos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t\t\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\tzipFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">FileNotFoundException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\te</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IOException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\te</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-20T13:19:49.000Z",
      "date_modified": "2024-10-20T13:19:49.000Z",
      "authors": [],
      "tags": [
        "Java"
      ]
    },
    {
      "title": "Android平台的跨进程通信——AIDL（上）",
      "url": "https://vuepress-theme-hope.github.io/aidl.html",
      "id": "https://vuepress-theme-hope.github.io/aidl.html",
      "summary": "什么是AIDL AIDL:Android Interface Definition Language,即Android接口定义语言。Android系统中的进程之间不能共享内存，因此，需要提供一些机制在不同进程之间进行数据通信，AIDL应运而生。 有些Android小伙伴也许就不服了，认为用Intent不就可以了？跳转Activity 和发送BroadC...",
      "content_html": "\n<p>AIDL:<strong>Android Interface Definition Language</strong>,即Android接口定义语言。Android系统中的进程之间不能共享内存，因此，需要提供一些机制在不同进程之间进行数据通信，AIDL应运而生。</p>\n<p>有些Android小伙伴也许就不服了，认为用Intent不就可以了？跳转Activity 和发送BroadCast都可以用intent传递数据。Content Provider的功能更是毋庸置疑。如:获取手机联系人就是系统应用提供的接口。**关于Content Provider的原理在后续文章中会讲解。**那么只剩Service，机智的小伙伴已经猜想到AIDL就和Service有关。</p>\n<h1>AIDL开发步骤</h1>\n<ul>\n<li>定义aidl文件</li>\n<li>定义Service</li>\n<li>实现客户端</li>\n</ul>\n<blockquote>\n<p>关于更多AIDL的概念还请自行Google。虽说实践要和理论结合，把那千篇一律的理论粘贴过来，不符合笔者的风格也浪费读者的时间。喜欢上图、上代码，够简单够粗暴……</p>\n</blockquote>\n<h1>新建AIDL文件</h1>\n<ul>\n<li>定义了AIDLDemo 和AIDLDemoService两个工程</li>\n<li>两个工程里的aidl文件相同，并且是在同名目录下。会对应生成java文件。</li>\n</ul>\n<img src=\"/assets/image/212/1.png\" width=\"400\">\n<img src=\"/assets/image/212/2.png\" width=\"350\">\n<img src=\"/assets/image/212/3.png\" width=\"450\">\n<img src=\"/assets/image/212/4.png\" width=\"450\">\n<blockquote>\n<p>根据aidl文件生成的java类，eclipse在gen目录下，AndroidStudio在app/build目录下。</p>\n</blockquote>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * This file is auto-generated.  DO NOT MODIFY.</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * Original file: /AIDLDemo/src/com/flueky/aidl/FluekyAidlInterface.aidl</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#C678DD\"> com.flueky.aidl</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// Declare any non-default types here with import statements</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> interface</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> FluekyAidlInterface</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E06C75\"> android.os.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IInterface</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/** Local-side IPC implementation stub class. */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> abstract</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Stub</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E06C75\"> android.os.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Binder</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> implements</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E06C75\"> com.flueky.aidl.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">FluekyAidlInterface</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> java</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">lang</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> DESCRIPTOR </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"com.flueky.aidl.FluekyAidlInterface\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/** Construct the stub at attach it to the interface. */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Stub</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">attachInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, DESCRIPTOR);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * Cast an IBinder object into an com.flueky.aidl.FluekyAidlInterface interface,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * generating a proxy if needed.</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> com</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">flueky</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">aidl</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">FluekyAidlInterface</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> asInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> ((obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IInterface</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> iin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">queryLocalInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DESCRIPTOR);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (((iin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(iin </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">instanceof</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> com</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">flueky</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">aidl</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">FluekyAidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">))) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> ((</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">com</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">flueky</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">aidl</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">FluekyAidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)iin);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> com.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">flueky</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">aidl</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">FluekyAidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Stub</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Proxy</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(obj);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IBinder</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> asBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> boolean</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onTransact</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> code</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Parcel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Parcel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> reply</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> flags</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> throws</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.RemoteException</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">switch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (code)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">case</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> INTERFACE_TRANSACTION</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">reply</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DESCRIPTOR);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">case</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> TRANSACTION_basicTypes</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">enforceInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DESCRIPTOR);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _arg0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_arg0 </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">readInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">long</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _arg1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_arg1 </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">readLong</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">boolean</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _arg2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_arg2 </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">readInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">());</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">float</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _arg3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_arg3 </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">readFloat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _arg4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_arg4 </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">readDouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">java</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">lang</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _arg5</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_arg5 </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">readString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(_arg0, _arg1, _arg2, _arg3, _arg4, _arg5);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">reply</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeNoException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> super</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onTransact</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(code, data, reply, flags);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Proxy</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> implements</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E06C75\"> com.flueky.aidl.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">FluekyAidlInterface</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IBinder</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> mRemote</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Proxy</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> remote</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">mRemote </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> remote;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IBinder</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> asBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> mRemote;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> java</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">lang</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getInterfaceDescriptor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> DESCRIPTOR;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * Demonstrates some basic types that you can use as parameters</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * and return values in AIDL.</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> anInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">long</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aLong</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">boolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aBoolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">float</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aFloat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aDouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">java</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">lang</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> throws</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.RemoteException</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Parcel</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Parcel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">obtain</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#E45649;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Parcel</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> _reply</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Parcel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">obtain</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeInterfaceToken</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DESCRIPTOR);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(anInt);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeLong</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(aLong);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(((aBoolean)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">?</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeFloat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(aFloat);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeDouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(aDouble);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">writeString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(aString);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">mRemote</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">transact</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Stub</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">TRANSACTION_basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, _data, _reply, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_reply</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">readException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">finally</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_reply</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">recycle</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">_data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">recycle</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> TRANSACTION_basicTypes </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">os</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">IBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">FIRST_CALL_TRANSACTION</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * Demonstrates some basic types that you can use as parameters</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * and return values in AIDL.</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> anInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">long</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aLong</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">boolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aBoolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">float</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aFloat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aDouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">java</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">lang</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> throws</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.RemoteException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>分析代码段记住如下三点：</p>\n<ol>\n<li>内部类：Stub</li>\n<li>静态方法：asInterface</li>\n<li>aidl文件里声明的方法（这里指<strong>basicTypes</strong>）</li>\n</ol>\n<h1>写Server端</h1>\n<p>AidlService类</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#C678DD\"> com.flueky.aidldemoservice</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.app.Service</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.content.Intent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.IBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.RemoteException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.util.Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> com.flueky.aidl.FluekyAidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> AidlService</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Service</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> AidlService</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> IBinder</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onBind</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Intent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> intent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Stub</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Stub</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> FluekyAidlInterface</span><span style=\"--shiki-light:#C18401;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stub</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        /**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * Demonstrates some basic types that you can use as parameters</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * and return values in AIDL.</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> anInt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> aLong</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> aBoolean</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> aFloat</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> aDouble</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> aString</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> anInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">long</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aLong</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">boolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aBoolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">float</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aFloat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aDouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> aString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> throws</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> RemoteException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"TAG\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, anInt </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aLong </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aBoolean </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aFloat </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aDouble </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aString);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>AndroidManifest.xml</p>\n<div class=\"language-xml line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;?</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">xml</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"1.0\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> encoding</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"utf-8\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">?&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> xmlns:android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"http://schemas.android.com/apk/res/android\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"com.flueky.aidldemoservice\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">application</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:allowBackup</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"true\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:icon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"@mipmap/ic_launcher\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:label</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"@string/app_name\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:supportsRtl</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"true\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:theme</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"@style/AppTheme\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">service</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">            android:name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\".AidlService\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">            android:enabled</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"true\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">            android:exported</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"true\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">intent-filter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">action</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> android:name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"com.flueky.aidl.action.aidl\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">/&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">intent-filter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">service</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">application</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>记住Server端的包名<strong>com.flueky.aidldemoservice</strong>和AidlService的action <strong>com.flueky.aidl.action.aidl</strong>。</p>\n</blockquote>\n<h1>写client端</h1>\n<p>MainActivity类</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#C678DD\"> com.flueky.aidldemo</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> com.flueky.aidl.FluekyAidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.app.Activity</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.app.Service</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.content.ComponentName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.content.Intent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.content.ServiceConnection</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.Bundle</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.IBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.RemoteException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.util.Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> MainActivity</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Activity</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> FluekyAidlInterface</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> aidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> ServiceConnection</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> conn </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> ServiceConnection</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">() {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onServiceDisconnected</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">ComponentName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tpublic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onServiceConnected</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">ComponentName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IBinder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> service</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t// 获取aidl对象</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\taidlInterface </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> FluekyAidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Stub</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">asInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(service);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\ttry</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\tLog</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"TAG\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"开始调用\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\taidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">false</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1.2f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1.3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"flueky\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\tLog</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"TAG\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"调用结束\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">RemoteException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t\t// TODO Auto-generated catch block</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\t\t\te</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">\t}</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onCreate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Bundle</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> savedInstanceState</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tsuper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onCreate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(savedInstanceState);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tsetContentView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">R</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">layout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tIntent</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> intent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Intent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"com.flueky.aidl.action.aidl\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t// android 5.0 不支持隐式跳转，需要指定包名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tintent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setPackage</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"com.flueky.aidldemoservice\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t// 绑定服务</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tbindService</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(intent, conn, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Service</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">BIND_AUTO_CREATE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onDestroy</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tsuper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onDestroy</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tunbindService</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(conn);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><ul>\n<li>在MainActivity中通过action 和应用包名（Android 5.0以上不支持隐式跳转）绑定AIDL的Service。</li>\n<li>通过静态方法asInterface 获取aidl接口的实例。</li>\n<li>通过实例调用在aidl文件中声明的方法。</li>\n</ul>\n<h1>检查结果</h1>\n<p>关键代码块</p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    // 获取aidl对象</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    aidlInterface </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> FluekyAidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Stub</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">asInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(service);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"TAG\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"开始调用\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        aidlInterface</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">false</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1.2f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1.3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"flueky\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"TAG\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"调用结束\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">RemoteException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // TODO Auto-generated catch block</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span></code></pre>\n</div><div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> basicTypes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> anInt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> long</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> aLong</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> boolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> aBoolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> float</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> aFloat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> aDouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> aString) throws RemoteException {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"TAG\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, anInt </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aLong </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aBoolean </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aFloat </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aDouble </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \" \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> aString);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span></code></pre>\n</div><img src=\"/assets/image/212/5.png\" width=\"450\">\n<p>分析运行结果，已成功将基本类型数据传递至Server端，关于传递对象数据和Sever端将数据传回Client端，将在下一篇讲解。</p>\n",
      "date_published": "2024-10-20T13:18:06.000Z",
      "date_modified": "2024-10-20T13:18:06.000Z",
      "authors": [],
      "tags": [
        "Android"
      ]
    },
    {
      "title": "指针与引用",
      "url": "https://vuepress-theme-hope.github.io/point-refer.html",
      "id": "https://vuepress-theme-hope.github.io/point-refer.html",
      "summary": "初学者分析指针和引用最常用的方式是写一个swap函数，分析传值还是传址的交换。 普通变量交换 程序输出 交换前:1 2 交换后:2 1 这里没什么好分析的。 指针交换 正确交换： 交换前:1 2 交换前:1 2 交换后:1 2 交换后:2 1 现在就变得有意思了。最初p、q分别指向a和b的地址。表示p->a,q->b。经过交换之后，p->b,q->a。...",
      "content_html": "<p>初学者分析指针和引用最常用的方式是写一个swap函数，分析传值还是传址的交换。</p>\n<h1>普通变量交换</h1>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">[]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><p>程序输出</p>\n<blockquote>\n<p>交换前:1 2 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<p>这里没什么好分析的。</p>\n<h1>指针交换</h1>\n<p>正确交换：</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">[]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:1 2 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<p>现在就变得有意思了。最初p、q分别指向a和b的地址。表示p-&gt;a,q-&gt;b。经过交换之后，p-&gt;b,q-&gt;a。</p>\n<p>错误交换：</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">[]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//注意这里的不同</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n</blockquote>\n<blockquote>\n<p>交换后:2 2 <br><br>\n交换后:2 2 <br></p>\n</blockquote>\n<p>代码<code>*p = *q</code>等价于<code>a=b</code>。所以第一个会输出2 2。需要注意的是，此时p 和 q 依然指向不同的地址。执行完代码<code>q = temp</code> q 和p 指向相同的地址了。因为最初<code>temp = p</code>。</p>\n<p>也有的人写成这样的交换方式：</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n</div><blockquote>\n<p>案例1 <br><br>\n交换后:2 1 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<blockquote>\n<p>案例2 有<code>*q = temp</code> <br><br>\n交换后:1 1 <br><br>\n交换后:1 1 <br></p>\n</blockquote>\n<blockquote>\n<p>案例2 没有<code>*q = temp</code> <br><br>\n交换后:1 2 <br><br>\n交换后:2 2 <br></p>\n</blockquote>\n<p>关于案例1，等价于普通变量的交换。最终交换的是a 和 b的值。p和q的指针不变。案例2中，先给temp赋a 的值，再将p的指针指向q，最后修改q指向的值。得出最终结果p = q-&gt;b = a = 1。如果没有\t<code>*q = temp</code>最终结果p = q-&gt;b = 2，a = 1</p>\n<h1>二重指针交换</h1>\n<p>正常交换</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">[]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n</blockquote>\n<blockquote>\n<p>交换后:1 2 <br><br>\n交换后:1 2 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<p>简单分析：最初时，pp-&gt;p-&gt;a,qq-&gt;q-&gt;b。交换后：qq-&gt;p-&gt;a,pp-&gt;q-&gt;b。弄懂了二重指针的道理，之后遇到三重、四重指针时，可以递归分析。</p>\n<p>错误交换</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">[]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//注意此处的不同</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换后:2 2 <br><br>\n交换后:2 2 <br><br>\n交换后:2 2 <br></p>\n</blockquote>\n<p>之前也说过了，此处<code>**pp = **qq</code>相当于<code>a = b</code>所以pp-&gt;p-&gt;a = 2；qq-&gt;q-&gt;b = 2;因此输出全是2。执行<code>qq = temp</code>使得qq=pp-&gt;p-&gt;a = 2，并没有改变q-&gt;b = 2。</p>\n<p>看到这里有没有晕？接下来举几个一定能让你晕的案例：</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例3</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例4</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例5</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> \t//案例6   </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//案例7</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>加上之前的两个，这里包含了二重指针置换的所有的可能的写法。</p>\n<blockquote>\n<p>案例1 <br><br>\n交换后:1 2 <br><br>\n交换后:2 2 <br><br>\n交换后:2 2 <br></p>\n</blockquote>\n<p>执行<code>*pp = *qq</code>，pp-&gt;p=q-&gt;b=2,qq-&gt;q-&gt;b=2。执行<code>qq = temp</code>，qq=pp-&gt;p=q-&gt;b=2。而此时a=1，b=2不变。</p>\n<blockquote>\n<p>案例2 <br><br>\n交换后:2 2 <br><br>\n交换后:2 2 <br><br>\n交换后:2 2 <br></p>\n</blockquote>\n<p>执行<code>**pp = **qq</code>，pp-&gt;p-&gt;a=b=2,qq-&gt;q-&gt;b=2。执行\t<code>*qq = temp</code>，pp-&gt;p-&gt;a=b=2,qq-&gt;q=p-&gt;a=2。<strong>分析这里时，可将<code>**pp = **qq</code>等价成<code>a = b</code>而<code>*qq = temp</code>等价成q = temp = p</strong>。</p>\n<blockquote>\n<p>案例3 <br><br>\n交换后:1 2 <br><br>\n交换后:2 1 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<p>用通俗的话讲，这里交换的是p和q 两个指针（等价于一重指针的正确案例）。pp-&gt;p-&gt;b = 2,qq-&gt;q-&gt;a = 1;</p>\n<blockquote>\n<p>案例4 <br><br>\n交换后:1 2 <br><br>\n交换后:1 1 <br><br>\n交换后:1 1 <br></p>\n</blockquote>\n<p>执行<code>pp = qq</code>，pp=qq-&gt;q-&gt;b=2,p-&gt;a=1。执行<code> *qq = temp</code>,等价于<code>q = p</code>,所以pp=qq-&gt;q=p-&gt;a=1，b=2。</p>\n<blockquote>\n<p>案例5 <br><br>\n交换后:1 1 <br><br>\n交换后:1 1 <br><br>\n交换后:1 1 <br></p>\n</blockquote>\n<p>执行<code>pp = qq</code>,pp=qq-&gt;q-&gt;b=2,p-&gt;a=1。执行<code>**qq = temp</code>等价于<code>**qq = **pp，b = a</code>，因此pp=qq-&gt;q-&gt;b=a = 1,p-&gt;a=1</p>\n<blockquote>\n<p>案例6 <br><br>\n交换后:1 1 <br><br>\n交换后:1 1 <br><br>\n交换后:1 1 <br></p>\n</blockquote>\n<p>执行<code>*pp = *qq</code>，等价于<code>p = q</code>，pp-&gt;p=q-&gt;b=2,qq-&gt;q-&gt;b=2,a=1。执行<code>**qq = temp</code>，pp-&gt;p=q-&gt;b=a=1,qq-&gt;q-&gt;b=a=1。</p>\n<blockquote>\n<p>案例7 <br><br>\n交换后:2 1 <br><br>\n交换后:2 1 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<p>一句话的总结就是：交换了a和b。pp-&gt;p-&gt;a = 2,qq-&gt;q-&gt;b = 1。</p>\n<h1>引用交换</h1>\n<p>引用是C++中才有的概念，因此在c文件中测试如下代码，会在编译时候产生语法错误。需要创建cpp文件测试。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> r </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> s </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,r,s);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> r;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    r </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> s;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    s </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,r,s);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:2 2 <br><br>\n交换后:2 2 <br></p>\n</blockquote>\n<p>运行后发现，这里并没有起到交换的作用。究其原因，定义temp 引用时，temp 和 r指向内存中同一块，也就是a所在的内存。引用之间只能够传值（指针之间可以传止，如p = q使 p=q-&gt;b=2，a=1），r = s = b = 2，于是temp = 2，a = 2。s = temp = 2。</p>\n<p>正确的交换应当是</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> r;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//注意这里的不同</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    r </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> s;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    s </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n</div><p>这样就得到了预期的运行结果。啊哦……</p>\n<blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:2 1 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<h1>函数交换</h1>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 普通交换</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> swap</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> a</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> b</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    swap</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(a, b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br></p>\n<p>交换后:1 2 <br></p>\n</blockquote>\n<p>swap 函数中的a、b是形参，main函数中，传入的是a、b 的值，所以在swap函数中交换的是形参a、b的值，不影响main函数中a、b的值。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 指针交换</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> swapP</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">a</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">b</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    swapP</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//    swapP(p, q);//等价上句</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:2 1 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<p>swapP函数两个参数都是指针类型，接收main函数中的指针p或a的地址（<strong>指针p 指向a的地址，同理b</strong>），因此在swap中交换的依然是a和b的值，不改变main函数中p-&gt;a,q-&gt;b。</p>\n<p>错误交换示例：</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 指针交换</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> swapP</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">a</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">b</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:1 2 <br><br>\n交换后:1 2 <br></p>\n</blockquote>\n<p>这里是对指针指向的地址进行交换，而这里的指针依然是形参，交换后的值不改变main函数中的p、q。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 二重指针交换</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> swapPP</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> pp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">qq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    swapPP</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(pp, qq);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//    swapPP(&amp;p, &amp;q);//等价上句</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">p,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">q);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:1 2 <br><br>\n交换后:2 1 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<blockquote>\n<p>交换前：pp-&gt;p-&gt;a = 1,qq-&gt;q-&gt;b = 2;<br>\n交换后：pp-&gt;p-&gt;b = 2,qq-&gt;q-&gt;a = 1;换句话说，交换了p和q指向的地址。</p>\n</blockquote>\n<p>错误交换示例：</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 二重指针交换</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> swapPP1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> pp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> **</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">qq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:1 2 <br><br>\n交换后:1 2 <br><br>\n交换后:1 2 <br></p>\n</blockquote>\n<p>原理同一重指针的错误交换示例。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 引用交换</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> swapR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> a</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> b</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> r </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> s </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换前:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,r,s);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    swapR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(r,s);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//    swapR(a,b);//等价上句</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,a,b);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"交换后:</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%d</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> %d</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,r,s);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>交换前:1 2 <br><br>\n交换前:1 2 <br></p>\n<p>交换后:2 1 <br><br>\n交换后:2 1 <br></p>\n</blockquote>\n<p>原理同一重指针的正确交换。这里传入的是a、b的地址。</p>\n<h1>总结</h1>\n<p>正确的交换代码片段：</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> a;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    a </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> b;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n</div><div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> p;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    p </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> q;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    q </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n</div><div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n</div><div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">qq </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n</div><div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> r;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    r </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> s;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    s </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> temp;</span></span></code></pre>\n</div><p><strong>注意二重指针的两种交换，在函数中只有一种是有效的</strong></p>\n<p><strong>谨以此篇博文，欢迎加入我们软件实验室的新生……</strong></p>\n",
      "date_published": "2024-10-20T13:14:55.000Z",
      "date_modified": "2024-10-20T13:14:55.000Z",
      "authors": [],
      "tags": [
        "C/C++"
      ]
    },
    {
      "title": "优化Android Log类，并保存日志内容至文件",
      "url": "https://vuepress-theme-hope.github.io/android-log-to-file.html",
      "id": "https://vuepress-theme-hope.github.io/android-log-to-file.html",
      "summary": "1 目的何在 为什么要优化log？举两个例子。 开发中遇到问题时，我们喜欢用log帮助自己分析问题，通常没有在解决问题之后删除日志输出代码的习惯，那么问题来了。别人也可以根据你开发时的日志信息来分析你程序的漏洞，所以安全公司一般建议在release包中删除日志输入代码。这时候不可能逐行删除（工作量太大）。 安卓系统更新快，机型多且杂。考虑到兼容性问题，...",
      "content_html": "<h2>1 目的何在</h2>\n<p>为什么要优化log？举两个例子。</p>\n<p>开发中遇到问题时，我们喜欢用log帮助自己分析问题，通常没有在解决问题之后删除日志输出代码的习惯，那么问题来了。别人也可以根据你开发时的日志信息来分析你程序的漏洞，所以安全公司一般建议在release包中删除日志输入代码。这时候不可能逐行删除（<strong>工作量太大</strong>）。</p>\n<p>安卓系统更新快，机型多且杂。考虑到兼容性问题，那么至少在主流的几个OS版本和品牌手机上测试。即使是专业的IT公司有足够的设备供你测试，也相信你是希望将这份测试工作交给专业的测试人员负责。这时候出现问题，总不能叫别人把手机拿过来给你连上电脑调试。因此有必要将日志输出内存保存至文件，然后直接分析日志文件即可。</p>\n<p>所以，接下来看如何进行封装。</p>\n<h2>2 枚举日志级别</h2>\n<p>分析原生log类，常用日志级别有6个，从依次是VERBOSE、DEBUG、INFO、WARN、ERROR、ASSERT，6个值依次对应6个整型常量。</p>\n<p>依此生成7个枚举变量（<strong>新增CLOSE</strong>，用来生成release包时，不输出日志）。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * 日志级别</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> enum</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    VERBOSE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">VERBOSE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    DEBUG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DEBUG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    INFO</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">INFO</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    WARN</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">WARN</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    ERROR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ERROR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    ASSERT</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ASSERT</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    CLOSE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ASSERT</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> value;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>3 封装原生方法</h2>\n<p>封装有三个目的：</p>\n<ol>\n<li>关于TAG，每次都需要申明一个静态常量或者每次写一个参数。重载函数，将参数String改成Object，这样可以直接用this关键字传递类对象并通过<code>target.getClass().getSimpleName()</code>获取类名称做TAG。</li>\n<li>之前申明7个枚举变量，用作日志筛选和关闭日志输出，因此在调用原生6个日志输出函数之前添加筛选逻辑代码。</li>\n<li>保存日志至问价有两个方式：用logcat命令（AS和eclipse的日志窗口使用）、在日志函数调用前手动保存。这里重点介绍该方式。</li>\n</ol>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">INFO</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"I\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">INFO</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"I\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg, throwable);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">VERBOSE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"V\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">VERBOSE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"V\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg, throwable);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DEBUG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"D\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DEBUG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"D\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg, throwable);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ERROR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"E\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ERROR</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"E\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg, throwable);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">WARN</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"W\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">currentLevel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">WARN</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">value</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isWriter) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"W\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(tag, msg, throwable);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    w</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getClass</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSimpleName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(),</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>4 保存日志内容至文件</h2>\n<p>封装原生方法的目的在于，我们可以插入write方法，保存日志内容至文件。<code>LOG_FORMAT</code> 是仿造AS的日志输出格式，后面会附上结果：</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * 写文件操作</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> tag</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">       日志标签</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> msg</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">       日志内容</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> level</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     日志级别</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> throwable</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> 异常捕获</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> tag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> msg</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> timeStamp </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> LOG_TIME_FORMAT</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">format</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Calendar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getTime</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">());</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">format</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(LOG_FORMAT, timeStamp, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Process</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">myPid</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(), </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Process</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">myTid</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(), pkgName, level, tag));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(msg);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">newLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        osWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        fos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (throwable </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">            saveCrash</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(throwable)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IOException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * 保存异常</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> throwable</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@throws</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> IOException</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> saveCrash</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> throwable) throws IOException {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    StringWriter</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> sWriter </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> StringWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    PrintWriter</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> pWriter </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> PrintWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(sWriter)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(pWriter);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    Throwable</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cause </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> throwable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getCause</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    while</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (cause </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        cause</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(pWriter);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        cause </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cause</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getCause</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    pWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    pWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    sWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> crashInfo </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">toString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    sWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">close</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">write</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(crashInfo);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">newLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    writer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    osWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    fos</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">flush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>保存的日志内容如下：</p>\n<div class=\"language-\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>08-14 17:15:03.665 24152-24152/com.flueky.app D/TAG:838E512687D20F6B40409A2E3A7B24156774F47C</span></span></code></pre>\n</div><h2>5 组件初始化</h2>\n<ol>\n<li>传入上下文是为了获取程序包名和程序的外部缓存目录：<code>/sdcard/Android/data/包名/</code>。这里的日志文件保存目录是：<code>/sdcard/Android/data/包名/log/日志文件</code>。</li>\n<li>isWriter 标记是否需要保存日志内容至文件。</li>\n<li>level设置日志输出级别。当level 等于CLOSE时，不输出日志也不保存至文件。</li>\n</ol>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * 日志组件初始化</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> appCtx</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">   application 上下文</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> isWriter</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> 是否保存文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> level</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    日志级别</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> initialize</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Context</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> appCtx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> boolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> level) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    currentLevel </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (level </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Level</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">CLOSE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        isWriter </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    Logger</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Logger</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//不保存日志到文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> logFoldPath </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> appCtx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getExternalCacheDir</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getAbsolutePath</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"/../log/\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    pkgName </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> appCtx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getPackageName</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    File</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> logFold </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(logFoldPath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    boolean</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> flag </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(flag </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> logFold</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">exists</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        flag </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> logFold</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkdirs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">flag) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        Logger</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    logFilePath </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> logFoldPath </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> FILE_NAME_FORMAT</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">format</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Calendar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getTime</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">())</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \".log\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        File</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> logFile </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(logFilePath)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(flag </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> logFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">exists</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            flag </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> logFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">createNewFile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        Logger</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> isWriter </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> flag</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Logger</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            fos </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> FileOutputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(logFile)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            osWriter </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> OutputStreamWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(fos)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            writer </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> BufferedWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(osWriter)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IOException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        Logger</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">isWriter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-20T13:10:58.000Z",
      "date_modified": "2024-10-20T13:10:58.000Z",
      "authors": [],
      "tags": [
        "Android"
      ]
    },
    {
      "title": "仿QQ空间的透明标题头",
      "url": "https://vuepress-theme-hope.github.io/qq-zone-title.html",
      "id": "https://vuepress-theme-hope.github.io/qq-zone-title.html",
      "summary": "1 目标 先看看QQ空间的样式。 透明背景标题头 白色背景标题头 2 思路 滚动页面时，当背景头部消失后，标题背景变成白色。即计算滑动距离，根据距离计算需要变更标题背景的时机，标题浮动在滚动视图上面。布局有两种设计方法: 方案一： 优点：标题独立于滚动视图，无需处理 缺点：滚动视图拉伸时，影响一体化体验 方案二： 优点：滚动视图拉伸时，标题一起下滑。 ...",
      "content_html": "<h2>1 目标</h2>\n<p>先看看QQ空间的样式。</p>\n<p><strong>透明背景标题头</strong></p>\n<img src=\"/assets/image/235/1.jpg\" height=\"650\">\n<p><strong>白色背景标题头</strong></p>\n<img src=\"/assets/image/235/2.jpg\" height=\"650\">\n<h2>2 思路</h2>\n<p>滚动页面时，当背景头部消失后，标题背景变成白色。即计算滑动距离，根据距离计算需要变更标题背景的时机，标题浮动在滚动视图上面。布局有两种设计方法:</p>\n<p>方案一：</p>\n<div class=\"language-xml\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">RelativeLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">ScrollView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        &lt;!-- 滚动视图内容 --&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">ScrollView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    &lt;!-- 标题 --&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">RelativeLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n</div><blockquote>\n<p>优点：标题独立于滚动视图，无需处理<br>\n缺点：滚动视图拉伸时，影响一体化体验</p>\n</blockquote>\n<p>方案二：</p>\n<div class=\"language-xml\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">ScrollView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">RelativeLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        &lt;!-- 滚动视图内容 --&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        &lt;!-- 标题 --&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">RelativeLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">ScrollView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n</div><blockquote>\n<p>优点：滚动视图拉伸时，标题一起下滑。<br>\n缺点：标题同滚动视图一起滑动，需要单独处理。</p>\n</blockquote>\n<p><strong>这里，选择方案二的理由是，解决方案二的缺点比解决方案一的缺点容易很多。</strong></p>\n<h2>3 实现</h2>\n<p>重写<code>ScrollView</code>,监听滑动距离，保持标题布局不变，并根据时机改变背景。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">@</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">protected</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onScrollChanged</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> l</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> t</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> oldl</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> oldt) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    super</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onScrollChanged</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(l, t, oldl, oldt);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (titleView </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        throw</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> IllegalStateException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"titleView 不能为空\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (headView </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        throw</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> IllegalStateException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"headView 不能为空\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">    titleView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setTranslationY</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(t);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//这里使标题视图不随ScrollView滚动</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    /**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        * 根据滚动距离计算</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">headView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> t </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> titleView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> *</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1.2f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 乘以倍数扩大处罚范围</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (isHeadShow </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> mScrollStateListener </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">            // 标题显示到消失，才执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            mScrollStateListener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">changed</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">isHeadShow);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        isHeadShow </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">headView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> t </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> titleView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> *</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1.8f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 乘以倍数扩大处罚范围</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">isHeadShow </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> mScrollStateListener </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">            // 标题消失到显示，才执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            mScrollStateListener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">changed</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">isHeadShow);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        isHeadShow </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (mScrollStateListener </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 计算头部视图显示的百分比</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        float</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> percent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (t </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> headView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> titleView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            percent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> t </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">*</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1.0f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> /</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">headView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> titleView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (t </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            percent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> percent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        /**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">            * 0.001 处理浮点数计算存在的误差</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">            */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Math</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">abs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> percent)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0.001</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            lastPercent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> percent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            percent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            mScrollStateListener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">openPercent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(percent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Math</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">abs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(percent)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0.001</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            lastPercent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> percent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">            percent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            mScrollStateListener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">openPercent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(percent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        //两次变化百分比小于0.1时，不作处理</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Math</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">abs</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(lastPercent </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> percent)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0.1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        mScrollStateListener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">openPercent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(percent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>事实告诉你，实现起来很容易，重写这一个方法就好。</p>\n<blockquote>\n<p>由于重写这个ScrollView的目的是修改标题背景，因此<code>headView</code>和<code>titleView</code>不能为空。它们存在的意义在于，获取它们的高度，根据高度和滑动距离计算变更标题背景的时机，和保持标题视图的稳定不变。</p>\n</blockquote>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    * 滚动状态监听</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> interface</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> ScrollStateListener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    /**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        * 背景图片完全显示时，openPercent 值是 1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> openPercent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">float</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> openPercent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    /**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        * 背景图片完全显示时，isOpen 值是 true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> changed</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">boolean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> isOpen</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><p>在<code>changed</code>方法中，根据<code>isOpen</code>就可以实现QQ空间的效果。但功能并不限于此。还可以根据<code>openPercent</code>方法值的变化，给标题背景设置渐变过度效果。</p>\n<h2>4 结束语</h2>\n<p>这个效果可以很方便的同当下流行的下拉刷新组件结合。详情见<a href=\"https://github.com/flueky/Android-PullToRefresh\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub:flueky/Android-PullToRefresh</a></p>\n<p>附上结合使用后的效果图：</p>\n<img src=\"/assets/image/235/3.gif\" height=\"650\">\n",
      "date_published": "2024-10-20T13:07:01.000Z",
      "date_modified": "2024-10-20T13:07:01.000Z",
      "authors": [],
      "tags": [
        "Android"
      ]
    },
    {
      "title": "Git常用命令",
      "url": "https://vuepress-theme-hope.github.io/git-commands.html",
      "id": "https://vuepress-theme-hope.github.io/git-commands.html",
      "summary": "init 毫无疑问，这是学习git使用的第一个命令。在本地初始化git仓库。 表示切换到Demo目录并在该目录初始化git仓库。会生成.git文件夹。 如图，是一个Android初始工程目录，创建git仓库后多出.git文件夹。 status 查看仓库中文件状态。 图中表示全部文件均未添加至仓库，无需要提交至仓库文件。 有些不需要提交至仓库的文件，可以...",
      "content_html": "<h2>init</h2>\n<p>毫无疑问，这是学习<code>git</code>使用的第一个命令。在本地初始化<code>git</code>仓库。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">cd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Demo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> init</span></span></code></pre>\n</div><p>表示切换到<code>Demo</code>目录并在该目录初始化<code>git</code>仓库。会生成<code>.git</code>文件夹。</p>\n<img src=\"/assets/image/002/1.png\" width=\"450\">\n<p>如图，是一个<code>Android</code>初始工程目录，创建<code>git</code>仓库后多出<code>.git</code>文件夹。</p>\n<h2>status</h2>\n<p>查看仓库中文件状态。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span></code></pre>\n</div><img src=\"/assets/image/002/2.png\" width=\"450\">\n<p>图中表示全部文件均未添加至仓库，无需要提交至仓库文件。</p>\n<p>有些不需要提交至仓库的文件，可以添加到<code>.gitignore</code>文件中。</p>\n<img src=\"/assets/image/002/3.png\" width=\"450\">\n<p><code>.gitignore</code>文件内容：</p>\n<pre><code>.idea\n.gradle\ngradle\ngradlew\ngradlew.bat\nlocal.properties\nbuild\n*.iml\n</code></pre>\n<h2>add</h2>\n<p>添加文件至仓库。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">fil</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">e&gt; </span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 添加一个文件至仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">1&gt; &lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">2&gt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">...</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 添加多个文件至仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 添加全部文件至仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">fil</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">e&gt; </span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 强制将已忽略的文件添加至仓库</span></span></code></pre>\n</div><img src=\"/assets/image/002/4.png\" width=\"450\">\n<p>可以每次只添加一个文件（夹），也可以每次添加多个文件（夹）。甚至可以使用<code>git add . </code>添加全部文件（夹）至仓库。</p>\n<p>最新添加至仓库的文件（夹）会有<code>new file</code>标记。</p>\n<p>在未commit之前，修改文件，也能看见修改标记。</p>\n<img src=\"/assets/image/002/5.png\" width=\"450\">\n<h2>commit</h2>\n<p>提交文件至仓库。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 描述</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> #提交已在仓中的文件，不包括修改的内容</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -am</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 描述</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> #提交已在仓库中的文件，包括修改的内容</span></span></code></pre>\n</div><p>创建三种场景：</p>\n<ol>\n<li>三个新文件。</li>\n<li>其中一个文件修改过。</li>\n<li>还有个文件夹未添加至版本库。</li>\n</ol>\n<img src=\"/assets/image/002/6.png\" width=\"450\">\n<p>执行commit命令之后，再次查看提交前后的状态发现，修改的文件和为添加至版本库的文件没有提交。准确说，修改文件中的修改内容未提交至版本库。</p>\n<h2>log</h2>\n<p>提交记录</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看提交记录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --pretty=oneline</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看精简后的提交记录</span></span></code></pre>\n</div><img src=\"/assets/image/002/7.png\" width=\"450\">\n<p>每条提交记录都对应一条40字节的id，该id在后面有很大用途。</p>\n<h2>branch</h2>\n<p>分支管理</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看全部分支，当前分支会有标记</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 创建名称为name的分支</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 将分支切换到name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -b</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 创建并切换到name分支</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 删除name分支</span></span></code></pre>\n</div><img src=\"/assets/image/002/8.png\" width=\"500\">\n<p>图中依次显示了上述指令用法。需要注意，删除指定分支时，不可以删除被<code>checkout</code>的分支。</p>\n<h2>tag</h2>\n<p>标签管理</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看全部标签</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 创建name标签</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 描述</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 创建name标签，并指定描述</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> id</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 在指定的提交id上创建标签,id 只需要写前几位</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> name</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 删除name标签</span></span></code></pre>\n</div><img src=\"/assets/image/002/9.png\" width=\"500\">\n<p>演示了创建标签，在指定id上创建标签，查看标签，删除标签。</p>\n<img src=\"/assets/image/002/10.png\" width=\"450\">\n<p>查看标签信息。</p>\n<img src=\"/assets/image/002/11.png\" width=\"600\">\n<p>查看自定义描述的标签信息。</p>\n<h2>remote</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 将本地仓库关联到远程库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 远程库名称 origin</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># git@github.com:user/project.git表示远程仓库地址。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git@github.com:user/project.git</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 查看本地仓库关联的远程仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 删除远程仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> rm</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span></span></code></pre>\n</div><p>如果需要同时关联多个远程仓库，如 GitHub 和 码云。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 远程仓库名 github 关联到 github 仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> github</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git@github.com:user/project.git</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 远程仓库名 gitee 关联到 gitee 仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gitee</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git@gitee.com:user/project.git</span></span></code></pre>\n</div><h2>push</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> master</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 将 master 分支推送到远程库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --tags</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 推送标签到远程服务</span></span></code></pre>\n</div><h2>pull</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">//</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 拉取远程分支</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 到本地分支</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pull</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch1:branch2</span></span></code></pre>\n</div>",
      "date_published": "2024-10-20T12:57:05.000Z",
      "date_modified": "2024-10-20T12:57:05.000Z",
      "authors": [],
      "tags": [
        "开发工具"
      ]
    },
    {
      "title": "数据结构（五）——二叉树",
      "url": "https://vuepress-theme-hope.github.io/data-structure/binary-tree.html",
      "id": "https://vuepress-theme-hope.github.io/data-structure/binary-tree.html",
      "summary": "定义 之前四篇博客分别介绍了线性结构中的顺序表、链表、栈、队列。从难度来讲，顺序表到链表是递增的。从实现来讲，栈和队列基于顺序表和链表（之前栈采用了顺序表的存储结构，队列采用了链表的存储结构）。此次介绍的二叉树虽是非线性结构的树形结构分支，但在其各个结点遍历的实现上，使用到了栈和队列的特性。 二叉树是一种特殊的线性结构，每个结点最多只有两个分支，称左孩...",
      "content_html": "\n<p>之前四篇博客分别介绍了线性结构中的<a href=\"list\">顺序表</a>、<a href=\"link\">链表</a>、<a href=\"stack\">栈</a>、<a href=\"queue\">队列</a>。从难度来讲，顺序表到链表是递增的。从实现来讲，栈和队列基于顺序表和链表（<strong>之前栈采用了顺序表的存储结构，队列采用了链表的存储结构</strong>）。此次介绍的二叉树虽是非线性结构的树形结构分支，但在其各个结点遍历的实现上，使用到了栈和队列的特性。</p>\n<p><strong>二叉树</strong>是一种特殊的线性结构，每个结点最多只有两个分支，称左孩子结点和右孩子结点。更多关于二叉树的特性，自行查阅资料。接下来只详细的介绍创建二叉树以及二叉树的遍历。</p>\n<h1>实现</h1>\n<h2>定义结构</h2>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> TreeType;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BitNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tTreeType key;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BitNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BitNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span></code></pre>\n</div><blockquote>\n<p>二叉树的结构和双向链表的结构一致，只是双向链表的两个指针构成线性结构，二叉树的两个指针构成非线性结构。</p>\n</blockquote>\n<h2>定义操作</h2>\n<h3>构造空二叉树</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 构造空二叉树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> initBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> root</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\troot</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\troot</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>将根结点的左右两个指针置空。</p>\n</blockquote>\n<h3>创建二叉树</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建二叉树(按照前序遍历方式构建二叉树)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> createBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tchar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> key </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getchar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tgetchar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (key </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '#'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //输入#表示该节点是叶子节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(BitTree));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\texit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">9</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent)-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> key;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tcreateBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">((</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent)-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tcreateBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">((</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent)-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>先序遍历的方式构建二叉树，输入#号表示当前结点的左孩子结点或右孩子结点为空。</p>\n</blockquote>\n<h3>递归先序遍历</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 递归先序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> preOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tpreOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//遍历左子树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tpreOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//遍历右子树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>先访问根结点，再依次递归访问左子树和右子树</p>\n</blockquote>\n<h3>递归中序遍历</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 递归中序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> inOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tinOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//遍历左子树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tinOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//遍历右子树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>先递归遍历左子树，再访问根节点，最后递归访问右子树。</p>\n</blockquote>\n<h3>递归后序遍历</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 递归后序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> postOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tpostOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//遍历左子树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tpostOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//遍历右子树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>先依次递归访问左子树和右子树，最后访问根结点。</p>\n</blockquote>\n<p>*<strong>三序遍历的递归方式简单的介绍到这里，三序遍历的非递归方式一个比一个难，这是本人自行思考写出的算法，若说阅读了参考资料那也是很久之前的事情。因此觉得，这三段代码还是很有阅读价值。</strong></p>\n<h3>非递归先序遍历</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 非递归先序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> preOrderTraverseNormal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tStack stack;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">initStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tBitTree topNode;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, topNode)) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //取栈顶元素，访问并出栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (node);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //访问栈顶元素</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存在右结点，则先将右结点入栈。因为左结点先遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存在左结点，左结点入栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>非递归遍历的重点是手动构造递归栈。首先将根结点入栈，然后在while循环中，先将栈顶结点出栈，并依次将该结点的右孩子结点和左孩子结点入栈（如果存在），知道栈为空pop函数返回0 结束循环。</p>\n</blockquote>\n<h3>非递归中序遍历</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 非递归中序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> inOrderTraverseNormal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tStack stack;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">initStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tBitTree topNode;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">top</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, topNode)) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //取栈顶结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t * 首先，一直遍历到最左边的结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //左孩子结点不为空，入栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//左孩子结点入栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\ttopNode </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//看下一个左孩子结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t * 其次，判断其是否存在右孩子结点。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t * 不存在右孩子结点，直接将该结点出栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;&amp;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, topNode);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//出栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(topNode);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tflag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> top</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, topNode);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//取栈顶结点，继续判断</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t * 存在右孩子结点，当前结点出栈，并将右孩子结点入栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, topNode)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(topNode);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>先将根结点入栈，然后根据根结点一直寻找到该左子树的最左边结点，访问该结点。如果该结点不存在右子树，直接将该结点出栈，并一直出栈到栈顶的结点存在右子树。此时将栈顶结点出栈，并将该结点的右孩子结点入栈，并寻找到该结点右子树的最左边结点。</p>\n</blockquote>\n<h3>非递归后序遍历</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 非递归后序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> postOrderTraverseNormal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 声明两个栈，遍历树的管理栈和备用栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 备用栈的作用：部分结点存在两次访问的，备用栈是记录第一次访问，然后入栈。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t * 也可以在结点中添加一个标签记录访问次数，备用栈的设计是为了避免修改结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tStack stack, backup;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">initStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">initStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(backup) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (parent </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tBitTree topNode;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //记录当前栈顶结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tBitTree backupNode;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //记录备用栈的栈顶结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tBitTree lastNode;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //上次访问的结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">top</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, topNode)) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //取栈顶结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> top</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(backup, backupNode);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //备用栈的栈顶元素,返回0表示备用栈为空。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (flag </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> ||</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> compareTreeNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(topNode, backupNode) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //该结点是第一次访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">\t\t\t\t\t&amp;&amp;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> compareTreeNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">), lastNode) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //左孩子结点不为空，且上次访问的不是左孩子结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\t\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //左孩子结点入栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\tcontinue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(backup, topNode);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">\t\t\t\t\t&amp;&amp;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> compareTreeNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">), lastNode) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //右孩子结点不为空，且上次访问的不是右孩子结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\t\tpush</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">topNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //右孩子结点入栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\t\tcontinue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //该节结点是第二次访问，直接出栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(backup, backupNode);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //备用栈栈顶元素出栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tpop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(stack, topNode);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前栈栈顶元素出栈</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(topNode);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //访问刚出栈的结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tlastNode </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> topNode;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //记录刚刚访问的结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>考虑到后续遍历的特殊性质，根结点会在左孩子结点和右孩子结点出栈时访问两次。多数资料上的实现方式都是通过在每个结点中添加一个标志记录根节点的访问次数。为了维护之前定义好的结构体的完整性。用一个备用栈，完美的解决问题。</p>\n</blockquote>\n<blockquote>\n<p>取递归栈中的栈顶元素和备用栈中的栈顶元素（如果存在）对比，如果相同，就是第二次遍历到该结点。分别将递归栈和备用栈中的栈顶元素出栈，访问并记录当前出栈的结点。如果不相同，就是第一次访问该结点，此时需要考虑当前递归栈中栈顶结点是否存在左子树或右子树以及上次出栈的结点是否是该结点的左孩子结点或右孩子结点。<br>\n当该结点不存在左子树或上次出栈的结点是该结点的左孩子结点，则标记当前递归栈中的栈顶结点已经访问过一次，将该结点添加到备用栈中。</p>\n</blockquote>\n<blockquote>\n<p>说了这么多，有点绕。经过长时间的思考以及两次优化之后的成果。越是难懂的算法不一定就是最高级的算法，此处 ，不对我的代码做任何评价。</p>\n</blockquote>\n<h3>层次遍历</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 层次遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> levelOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> parent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tQueue queue </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> createQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//创建队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tenterQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(queue, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">parent);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//根结点入队</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tBitTree node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">exitQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(queue, node)) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//队列中结点出队，队列为空，返回0，while循环结束</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tvisit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(child);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//访问队列中第一个结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//判断是否存在左孩子结点，将左孩子结点入队</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tenterQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(queue, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//判断是否存在右孩子结点，将右孩子结点入队</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tenterQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(queue, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>看完前面三个非递归的遍历算法，也许都晕了。层次遍历，没有递归或非递归而言，自顶向下、从左到右访问二叉树中所有的结点。先访问的结点子树上的全部结点一定比后访问结点子树上的全部结点先访问，所以层次遍历用到了队的特性。</p>\n</blockquote>\n<h3>访问结点</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> visit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">%c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>这只是模拟访问结点的操作，可根据需要自定定义该函数的功能。</p>\n</blockquote>\n<p>上述代码中用到的栈和队列中的函数，都是复用了之前博客中介绍的栈和队列的操作函数。只是修改下每个元素的结点类型。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> STACK_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> STACK_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"tree.h\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LIST_INIT_SIZE</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LISTINCREMENT</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> BitTree StackType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //栈中每个元素的结点类型是二叉树</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> stackNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tStackType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">elem;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储空间基地址</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> listsize;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前分配的存储容量（以sizeof(ElemType)为单位）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">……</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> QUEUE_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> QUEUE_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"tree.h\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> BitTree QueueType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//队列中每个元素的结点类型是二叉树</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tQueueType key;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> queueNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //队列的头指针</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">end</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //队列的尾指针</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">……</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>最后，附上头文件的定义，部分方法未实现。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * tree.h</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *  Created on: 2016年9月25日</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *      Author: flueky</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"stack.h\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"queue.h\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> TREE_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> TREE_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> TreeType;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BitNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tTreeType key;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BitNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">left</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BitNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">right</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 构造空二叉树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> initBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 销毁二叉树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> destoryBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建二叉树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> createBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">**</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 将二叉树清为空树</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> clearBitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 递归先序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> preOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 非递归先序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> preOrderTraverseNormal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 递归中序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> inOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 非递归中序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> inOrderTraverseNormal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 递归后序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> postOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 非递归后序遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> postOrderTraverseNormal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 层次遍历</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> levelOrderTraverse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 比较两个结点，相同返回1，不同返回0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> compareTreeNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 访问</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> visit</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BitTree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#endif</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> /* TREE_H_ */</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "数据结构",
        "C/C++"
      ]
    },
    {
      "title": "数据结构（二）——链表",
      "url": "https://vuepress-theme-hope.github.io/data-structure/link.html",
      "id": "https://vuepress-theme-hope.github.io/data-structure/link.html",
      "summary": "定义 相对于顺序表而言，“勤拿少取”这是对链表最形象的描述。意指，它需要一个结点，就在内存中分配一块内存单元。比顺序表不足的是，链表的每个结点中，需要一个存储单元保存指向下一个结点的地址。 链表的访问需要从第一个结点（或称头结点）开始寻找，（顺序表可以根据下标直接访问）。链表的插入和删除只需对指定位置的结点操作即可。 常见的链表，根据指向下个链表的指针...",
      "content_html": "\n<p>相对于顺序表而言，“勤拿少取”这是对链表最形象的描述。意指，它需要一个结点，就在内存中分配一块内存单元。比顺序表不足的是，链表的每个结点中，需要一个存储单元保存指向下一个结点的地址。</p>\n<p>链表的访问需要从第一个结点（或称头结点）开始寻找，（顺序表可以根据下标直接访问）。链表的插入和删除只需对指定位置的结点操作即可。</p>\n<p>常见的链表，根据指向下个链表的指针可分为<strong>单向链表</strong>，<strong>双向链表</strong>。根据第一个结点是否存储元素可分为<strong>带头结点的链表</strong>和<strong>不带头结点的链表</strong>。再根据末尾结点next指针的指向可分为<strong>循环链表</strong>和<strong>非循环链表</strong>。</p>\n<p>*<strong>下面程序以单向带头结点的非循环链表为例</strong>。</p>\n<h1>实现</h1>\n<h2>定义结构</h2>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LinkType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储单元类型</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> linkNode {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkType key;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //结点的key值</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> linkNode </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">next;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //指向下一个结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} LNode, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">LinkList;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//LNode 是普通类型，LinkList是指针类型</span></span></code></pre>\n</div><blockquote>\n<p>定义LinkType类型，使该链表结构适合更多数据类型。每个链表的结点，包含一个值域key和一个指针域next。这里声明两种类型<code>LNode</code>和<code>LinkList</code>。以下两行代码是等价的。</p>\n</blockquote>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">LNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (LNode</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">LinkList node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (LinkList)</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">));</span></span></code></pre>\n</div><h2>定义操作</h2>\n<h3>创建头结点</h3>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建头结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">LinkList </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">createHead_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkList head </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (LinkList) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(LNode));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\thead</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> head;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>这里是动态分配一个内存单元存储头结点，也可以参照<a href=\"list\">顺序表</a>中，使用<code>LNode head</code>，由系统分配内存。</p>\n</blockquote>\n<h3>插入结点</h3>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 头插法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertFirst_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkList node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (LinkList) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(LNode));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> val;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\thead</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>在带头结点的链表中，头插法表示每次将结点插入到头结点的后面。在不带头结点的链表中，将待插入的结点放在链表中第一个结点的前面，代替之成为第一个结点。</p>\n</blockquote>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 尾插法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertLast_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkList temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> head;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //找到末尾结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\ttemp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkList node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (LinkList) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(LNode));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> val;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\ttemp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>对于尾插法而言，不区分带头结点和不带头结点的链表。只将待插入的结点插到链表的最后一个位置。因此需要先循环到链表的末尾。</p>\n</blockquote>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 指定位置插入，position表示插入后的位置，0表示头结点后的第一个结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insert_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> position</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (position </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //-1 从末尾添加，采用尾插法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tinsertLast_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(head, val);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\telse</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (position </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //从第一个结点插入，采用头插法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tinsertFirst_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(head, val);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\telse</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tLinkList temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">!=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> --</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">position </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //找到合适的位置结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\ttemp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tLinkList node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (LinkList) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(LNode));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> val;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\ttemp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>先根据下标找到待插入的位置，然后插入结点。对比顺序表，先移动指定位置的后续结点，再插入新的结点。</p>\n</blockquote>\n<h3>删除结点</h3>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 删除节点（指定位置）,下标从0开始</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeNode_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"指定下标值不正确</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkList node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> head;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\"> ||</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> index) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //寻找指定下标的节点，结束循环时，i==index</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tnode </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\ti</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> index) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //找到指定节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tLinkList temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //temp 是要被删除的节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\ttemp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tkey </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tfree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(temp);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //没找到</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"没找到指定下标的值\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>下标从0开始，表示头结点后的第一个结点。先找到待删除的结点，取出key值，再删除该结点。</p>\n</blockquote>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 删除节点（指定节点）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeNode_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkList node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> head;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> val)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\tbreak</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tnode </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //找到要删除的节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tLinkList temp </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //temp 是要被删除的节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> temp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\ttemp</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tfree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(temp);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"没找到要删除的节点</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">\\n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>首先根据val值，找到待删除的结点，最后删除之。</p>\n</blockquote>\n<h3>销毁链表</h3>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 销毁链表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> destory_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tLinkList node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\thead</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tfree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(node);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>释放掉除头结点之外的所有结点占用的内存。</p>\n</blockquote>\n<p>最后附上，头文件的定义</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * linklist.h</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 顺序表的链式存储结构</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *  Created on: 2016年8月30日</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *      Author: flueky</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LINKLIST_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LINKLIST_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LinkType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储单元类型</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> linkNode {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLinkType key;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //节点的key值</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> linkNode </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">next;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //指向下一个节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} LNode, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">LinkList;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//LNode 是普通类型，LinkList是指针类型</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建头结点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">LinkList </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">createHead_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 头插法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertFirst_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 尾插法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertLast_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 在指定位置插入</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insert_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> LinkType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 删除节点（指定位置）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeNode_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 删除节点（指定节点）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeNode_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 销毁链表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> destory_link</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">LinkList</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#endif</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> /* LINKLIST_H_ */</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "数据结构",
        "C/C++"
      ]
    },
    {
      "title": "数据结构（一）——顺序表",
      "url": "https://vuepress-theme-hope.github.io/data-structure/list.html",
      "id": "https://vuepress-theme-hope.github.io/data-structure/list.html",
      "summary": "定义 数据结构是相互之间存在一种或多种特定关系的数据元素的集合。根据数据元素之间关系的不同特性，通常有如下4类基本结构: 集合：结构中的数据元素之间除了“同属于一个集合”的关系外，别无其他的关系。如：广义表。 线性结构：结构中的数据元素之间存在一个对一个的关系。如：链表。 树形结构：结构中的数据元素之间存在一个对多个的关系。如：二叉树。 图（网）状结构...",
      "content_html": "\n<p>数据结构是相互之间存在一种或多种特定关系的数据元素的集合。根据数据元素之间关系的不同特性，通常有如下4类基本结构:</p>\n<ul>\n<li>集合：结构中的数据元素之间除了“同属于一个集合”的关系外，别无其他的关系。如：<strong>广义表</strong>。</li>\n<li>线性结构：结构中的数据元素之间存在一个对一个的关系。如：<strong>链表</strong>。</li>\n<li>树形结构：结构中的数据元素之间存在一个对多个的关系。如：<strong>二叉树</strong>。</li>\n<li>图（网）状结构：结构中的数据元素之间存在多个对多个的关系。如：<strong>图</strong>。</li>\n</ul>\n<p>在线性结构中，根据存储方式分为<strong>顺序表</strong>、<strong>链表</strong>，根据对表的操作限制，分为<strong>栈</strong>和<strong>队列</strong>。</p>\n<p>顺序表的特征是，在内存中占用连续的存储单元，可以简单的理解为顺序表就是数组。只是根据需要，在实际应用中动态分配顺序表占用的内存单元。而数组是在编译的时候，预分配了指定大小的内存单元，因此如下代码段会在编译的时候报错。</p>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> arr</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[len];</span></span></code></pre>\n</div><p>但是顺序表又会有数据全部的特点：可以根据下标直接访问、不方便插入和删除元素（因为需要移动后续的元素）。</p>\n<h1>实现</h1>\n<h2>定义结构</h2>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> SeqType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储单元类型</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tSeqType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">elem;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储空间基地址</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> listsize;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前分配的存储容量（以sizeof(ElemType)为单位）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} SqList;</span></span></code></pre>\n</div><blockquote>\n<p>结构体内，有三个元素：存储空间基地址，类似于数组首地址；当前长度，记录顺序表中有效存储单元个数；当前分配的存储容量，顺序表中，最多容纳的存储单元个数。<strong>当顺序表中所有存储单元已经被使用，在下次插入元素之前，需要新增存储单元</strong>。这点是数组所不具有的特性。</p>\n</blockquote>\n<p>*<strong>注：定义一个存储单元类型<code>SeqType</code>是为了使顺序表适和更多数据类型，使用的时候修改<code>SeqType</code>类型即可</strong>。</p>\n<h2>定义操作</h2>\n<h3>创建顺序表</h3>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">SqList </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">createList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//SqList list;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//return list;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tSqList</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> list </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (SqList</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(SqList));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">list;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>这里提供两种创建顺序表的代码，一种是由系统分配list占用的内存，一种是自己动态分配的内存，需要在程序运行之前手动释放占用的内存空间。</p>\n</blockquote>\n<h3>初始化顺序表</h3>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 初始化顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 返回1 表示初始化成功</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 返回0 表示初始化失败</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> initList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //只有在C++中才会有引用的存在</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (SeqType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(SeqType) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LIST_INIT_SIZE);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //内存分配失败，存储空间不够</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //表示顺序表为空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LIST_INIT_SIZE;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //表示顺序表里，最大存储单元个数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>分配顺序表的存储单元，初始化顺序表属性的值。</p>\n</blockquote>\n<h3>插入元素</h3>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 插入顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 下标是负数就插入到结尾</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> SeqType </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储的下表超出顺序表实际的长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"插入的下标超出顺序表的实际长度\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //下标是负数，插入到结尾</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tindex </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //顺序表的存储单元已经存满</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"顺序表的存储单元已满，继续分配新的存储单元。\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tSeqType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> newBase </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (SeqType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">realloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t\t(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LISTINCREMENT) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(SeqType));</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //继续分配存储单元</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">newBase) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"分配内存单元失败\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> newBase;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LISTINCREMENT;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//寻找合适的插入位置，index后面的元素向后移动</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tfor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> index; i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">--</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">];</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //向后移动</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[index] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> val;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //插入元素</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>将元素插入到指定的位置。插入之前，需要先判断顺序表中是否已经存满，再根据需要新增存储单元，最后插入元素。</p>\n</blockquote>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 插入顺序表（结尾的位置）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 与上面的函数是重名函数，这叫函数重载，在C++里面支持</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> SeqType </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(L, </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, val);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><p>*<strong>引用和重载，是C++中才支持，因此需要在cpp文件中编译。</strong></p>\n<h3>删除元素</h3>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 删除指定的元素</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 返回0 找不到指定的元素，删除失败。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 返回1 找到待删除的元素，删除成功。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> SeqType </span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //记录匹配到的下标</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tfor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> val) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t\t\t//找到匹配的val，结束循环</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tindex </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\tbreak</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tfor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (; index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; index</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[index] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">--</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>删除指定元素，需要先找到下标。依次移动下标后面的结点，修改length值。</p>\n</blockquote>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 根据下标删除是指定的结点，并返回元素的值</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 返回0 下标超出顺序表长度，删除失败。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 返回1 下标正确，删除元素，并且将已删除元素值转给elem</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> SeqType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&gt;=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //下标超出顺序表的长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tindex </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> index </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ?</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> :</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> index;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //下标负数表示删除最后一个节点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\telem </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[index];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tfor</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> index; i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">; i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[i </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">--</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>先取到指定下标的元素，赋值给elem，然后依次移动下标后面的结点。最后修改length值。</p>\n</blockquote>\n<h3>销毁顺序表</h3>\n<div class=\"language-c\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 销毁顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> destoryList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tfree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">L</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //释放存储空间</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//\tfree(&amp;L);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>重点释放顺序表的存储单元。如果顺序表自身的内存也是动态分配的，需要手动释放。</p>\n</blockquote>\n<p>最后附上，头文件的定义。</p>\n<div class=\"language-c line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c\" data-title=\"c\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * sqlist.h</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 线性表的顺序存储</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *  Created on: 2016年8月30日</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *      Author: flueky</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SQLIST_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SQLIST_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LIST_INIT_SIZE</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 50</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LISTINCREMENT</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> SeqType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储单元类型</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tSeqType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">elem;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储空间基地址</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> listsize;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前分配的存储容量（以sizeof(ElemType)为单位）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} SqList;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">SqList </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">createList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 初始化顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> initList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 插入顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SeqType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 插入顺序表（结尾的位置）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> insertList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SeqType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 在顺序表中移除指定位置元素，下标从0开始</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SeqType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 在顺序表中删除指定元素</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> removeList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SeqType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 销毁顺序表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> destoryList_sq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">SqList </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#endif</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> /* SQLIST_H_ */</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "数据结构",
        "C/C++"
      ]
    },
    {
      "title": "数据结构（四）——队列",
      "url": "https://vuepress-theme-hope.github.io/data-structure/queue.html",
      "id": "https://vuepress-theme-hope.github.io/data-structure/queue.html",
      "summary": "定义 在栈中提到，队列是操作受限制的特殊的线性表。 在队列的一端只能插入元素，这一端叫做队尾。 在队列的另一端只能删除元素，这一端叫做队首。 同样举个栗子。 在食堂排队打饭，跑的快的同学排在队列的前面，最先打到饭菜。后续到的同学只能依次排列在队尾。买到饭菜的同学离开队列叫做出队，进入队列等候叫做入队。食堂阿姨给队列中第一个同学打饭叫做访问队首元素。 总...",
      "content_html": "\n<p>在<a href=\"stack\">栈</a>中提到，队列是操作受限制的特殊的线性表。<br>\n在队列的一端只能插入元素，这一端叫做队尾。<br>\n在队列的另一端只能删除元素，这一端叫做队首。</p>\n<p>同样举个栗子。<br>\n在食堂排队打饭，跑的快的同学排在队列的前面，最先打到饭菜。后续到的同学只能依次排列在队尾。买到饭菜的同学离开队列叫做出队，进入队列等候叫做入队。食堂阿姨给队列中第一个同学打饭叫做访问队首元素。</p>\n<p>总结：队列有先进先出的特性，FIFO（First In First Out）。每次只能在线性表的两端操作元素。</p>\n<h1>实现</h1>\n<p>考虑到每次出队和入队都要移动队首和队尾指针。若采用顺序存储，将会有可能造成顺序表前段部分存储单元的浪费。虽说可以采用循环队列的方式复用存储单元，若遇到队列满的情况，将队列扩容比较麻烦。因此建议用链表的方式实现队列。</p>\n<h2>定义结构</h2>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> QueueType;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tQueueType key;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> queueNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//队列的头指针</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">end</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//队列的尾指针</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span></code></pre>\n</div><blockquote>\n<p>这里定义了连个结构体，链表和队列。队列中只保存两个指针——<strong>队首</strong>、<strong>队尾</strong>。后面的入队、出队的操作，只需要操作这两个指针就好。</p>\n</blockquote>\n<h2>定义操作</h2>\n<h3>创建队列</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> createQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tQueue queue;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">end</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> queue;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>采用静态方式分配队列存储单元。初始化队首和队尾指针。</p>\n</blockquote>\n<h3>判断队列是否为空</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 判断队列是否是空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> isEmpty</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\telse</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>队首指针指向空结点，表示队列为空。</p>\n</blockquote>\n<h3>访问队首元素</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 获取队列第一个元素</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getFirst</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">QueueType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\telem </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>队首指针可作为链表的头结点。通过头结点访问链表的第一个结点。</p>\n</blockquote>\n<h3>出队</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 退出队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> exitQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">QueueType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> val</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">isEmpty</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(queue) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //空队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tval </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tfree</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(node);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">end</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>通过队首指针，删除队列第一个结点。如果删除后队列为空，将队尾指针置空，否则队尾指针仍然指向最后一个元素。队列为空，删除失败，返回0 。删除成功返回1。</p>\n</blockquote>\n<h3>入队</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 进入队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> enterQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">QueueType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> node</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\tsizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(struct LinkQueue));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (node </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> NULL</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">key</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> key;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tnode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">end</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">end</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">else</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//修改队尾指针</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">end</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">next</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">end</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tqueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">head</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> node;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>队列为空时，队首和队尾指针指向同一个结点就好。队列不为空时，修改队尾指针指向新插入的结点。入队成功返回1，入队失败返回0。</p>\n</blockquote>\n<p>最后附上头文件的定义</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * queue.h</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *  Created on: 2016年9月30日</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *      Author: flueky</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> QUEUE_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> QUEUE_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> QueueType;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tQueueType key;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">next</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> queueNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">head</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //队列的头指针</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tstruct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LinkQueue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">end</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //队列的尾指针</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 创建队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> createQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 判断队列是否是空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> isEmpty</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 获取队列第一个元素</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getFirst</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">QueueType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 进入队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> enterQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">QueueType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 退出队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> exitQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">QueueType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 清空队列</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> clearQueue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Queue</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#endif</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> /* QUEUE_H_ */</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "数据结构",
        "C/C++"
      ]
    },
    {
      "title": "数据结构（三）——栈",
      "url": "https://vuepress-theme-hope.github.io/data-structure/stack.html",
      "id": "https://vuepress-theme-hope.github.io/data-structure/stack.html",
      "summary": "定义 在线性表中，根据存储结构可分为：顺序表 和 链表。顺序表和链表可以访问任意位置结点，在任意位置插入和删除结点。倘若对上述操作加以限制，如： 在线性表的一端插入、删除、访问结点。 在线性表的一端插入结点、另一端删除、访问结点。 *注：对线性表操作的限制有很多，上述只介绍两种主流的限制，在数据结构中叫做栈和队列。 栈的概念比较抽象，举个栗子（对，就是...",
      "content_html": "\n<p>在线性表中，根据存储结构可分为：<a href=\"list\">顺序表</a> 和 <a href=\"link\">链表</a>。顺序表和链表可以访问任意位置结点，在任意位置插入和删除结点。倘若对上述操作加以限制，如：</p>\n<ol>\n<li>在线性表的一端插入、删除、访问结点。</li>\n<li>在线性表的一端插入结点、另一端删除、访问结点。</li>\n</ol>\n<p>*注：对线性表操作的限制有很多，上述只介绍两种主流的限制，在数据结构中叫做<strong>栈</strong>和<strong>队列</strong>。</p>\n<p>栈的概念比较抽象，举个栗子（<strong>对，就是板栗的栗子</strong>）。</p>\n<p>一群人依次走进一个死胡同，宽度只够通行一个人。如果他们要出来，只能依次退出来。最后进去的人最先出来，在外面的人也只看的见最后进去的人是谁。这里，进去一个人叫做插入结点，出来一个人叫做删除结点。看的见最后进去的人，叫访问结点。</p>\n<p>总结：栈有先进后出的特性，简称FILO（First in Last Out）。只能在线性表的一端插入和删除结点。</p>\n<h1>实现</h1>\n<p>栈是操作受限制的线性表，根据不同的存储结构可分成顺序栈和链式栈。<br>\n在顺序栈中，可以将顺序表的有效长度作为栈顶指针，在顺序表的末尾删除和插入节点。<br>\n在链式栈中，可以将链表的头结点作为栈顶指针，入栈采用头插法。</p>\n<h2>定义结构</h2>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LIST_INIT_SIZE</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LISTINCREMENT</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> StackType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储单元类型</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> stackNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tStackType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">elem;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储空间基地址</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> listsize;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前分配的存储容量（以sizeof(ElemType)为单位）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span></code></pre>\n</div><blockquote>\n<p>这里定义的实际上是顺序表的结构，所以实现的也就是顺序栈。只是操作方法比顺序表的操作少很多。</p>\n</blockquote>\n<h2>定义操作</h2>\n<h3>初始化栈</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> initStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tstack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (StackType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">malloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(StackType) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LIST_INIT_SIZE);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //内存分配失败，存储空间不够</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tstack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tstack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LIST_INIT_SIZE;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>给栈的基地址分配一段连续的存储单元，并标记栈的长度为0。初始化成功返回1，初始化失败返回0。</p>\n</blockquote>\n<h3>判断栈是否为空</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> isEmptyStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>栈为空，返回0，不为空返回非0。</p>\n</blockquote>\n<h3>访问栈顶元素</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> top</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">StackType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\telem </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>取出栈顶元素，传值给形参elem，但不删除栈顶元素。由于采用的是引用的方式，因此形参值的改变可以传给实参。如果栈为空，返回0，栈非空，返回1。</p>\n</blockquote>\n<h3>出栈</h3>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> pop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">StackType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\telem </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">--</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><blockquote>\n<p>取出并删除栈顶元素，传值给形参elem。由于采用的是引用的方式，因此形参值的改变可以传给实参。如果栈为空，返回0，栈非空，返回1。</p>\n</blockquote>\n<h3>入栈</h3>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> push</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">StackType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> ==</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //顺序表的存储单元已经存满</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"顺序表的存储单元已满，继续分配新的存储单元。\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tStackType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> newBase </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (StackType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">realloc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\t\t(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LISTINCREMENT) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> sizeof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(StackType));</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //继续分配存储单元</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tif</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">newBase) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t\tprintf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"分配内存单元失败\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\t\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tstack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> newBase;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\t\tstack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">listsize</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> +=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> LISTINCREMENT;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tstack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">elem</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">] </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> data;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tstack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>在栈顶插入元素。若，当前栈已满，继续分配内存单元再插入。返回1表示入栈成功，返回0表示入栈失败。</p>\n</blockquote>\n<p>最后附上头文件的定义</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * stack.h</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *  Created on: 2016年9月26日</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *      Author: flueky</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#ifndef</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> STACK_H_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> STACK_H_</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LIST_INIT_SIZE</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#define</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> LISTINCREMENT</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> StackType;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储单元类型</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">typedef</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> struct</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> stackNode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tStackType </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">elem;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //存储空间基地址</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> listsize;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //当前分配的存储容量（以sizeof(ElemType)为单位）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> initStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> isEmptyStack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> top</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">StackType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> push</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">StackType</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> pop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Stack</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">StackType</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#endif</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> /* STACK_H_ */</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "数据结构",
        "C/C++"
      ]
    },
    {
      "title": "C++面向对象（一）——类与对象",
      "url": "https://vuepress-theme-hope.github.io/c__/class-object.html",
      "id": "https://vuepress-theme-hope.github.io/c__/class-object.html",
      "summary": "定义类 关键字class开头，后跟类的名称。类的主体被包在花括号中。类定义后必须跟着一个分号或列表。 定义对象 声明类的对象，就像声明基本类型的变量一样。注意区分普通变量和引用变量的区别。 普通变量的内存占用由编译器去管理 。指针变量的内存占用由开发人员手动管理 访问数据成员 普通变量和指针变量访问数据成员的方式不一样，都只能访问公共成员变量和函数——...",
      "content_html": "\n<p>关键字class开头，后跟类的名称。类的主体被包在花括号中。类定义后必须跟着一个分号或列表。</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span></code></pre>\n</div><h1>定义对象</h1>\n<p>声明类的对象，就像声明基本类型的变量一样。<strong>注意区分普通变量和引用变量的区别。</strong></p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Line line1 ;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//声明普通变量</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Line</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//声明指针变量</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">delete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2;</span></span></code></pre>\n</div><blockquote>\n<p>普通变量的内存占用由编译器去管理 。指针变量的内存占用由开发人员手动管理</p>\n</blockquote>\n<h1>访问数据成员</h1>\n<p>普通变量和指针变量访问数据成员的方式不一样，都只能访问公共成员变量和函数——用public 声明。</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Line line1 ;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Line</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10.0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">11.1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">cout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line1 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">cout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line2 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">delete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2;</span></span></code></pre>\n</div><blockquote>\n<p>普通变量的公共成员用运算符（.）访问。指针变量的公共成员用运算符（-&gt;）访问。</p>\n</blockquote>\n<h1>类成员函数</h1>\n<p>类的成员函数是指那些把定义和原型写在类定义内部的函数，就像类定义中的其他变量一样。类成员函数是类的一个成员，它可以操作类的任意对象，可以访问对象中的所有成员。</p>\n<blockquote>\n<p>成员函数可以定义在类定义内部，或者单独使用范围解析运算符（::）来定义。在类定义中定义的成员函数把函数声明为<strong>内联</strong>的，即便没有使用 inline 标识符。</p>\n</blockquote>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义在类内部，也就是内联函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by print\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *类的外部使用范围解析运算符 :: 定义该函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h1>内联函数</h1>\n<p>内联函数从源代码层看，有函数的结构，而在编译后，却不具备函数的性质。内联函数不是在调用时发生控制转移，而是在编译时将函数体嵌入在每一个调用处。编译时，类似宏替换，使用函数体替换调用处的函数名。一般在代码中用inline修饰，但是能否形成内联函数，需要看编译器对该函数定义的具体处理。</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//用关键字inline定义内联函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">inline</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> printLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by printLine\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><h1>构造函数与析构函数</h1>\n<p><strong>构造函数</strong>是一种特殊的成员函数，会在每次创建类的新对象时执行。<strong>析构函数</strong>函数则在每次删除所创建的对象时执行。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">特征</th>\n<th style=\"text-align:left\">构造函数</th>\n<th style=\"text-align:left\">析构函数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">名称</td>\n<td style=\"text-align:left\">类名</td>\n<td style=\"text-align:left\">~类名</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">返回类型</td>\n<td style=\"text-align:left\">无</td>\n<td style=\"text-align:left\">无</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">参数</td>\n<td style=\"text-align:left\">可以有参数</td>\n<td style=\"text-align:left\">不可以有参数</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">用途</td>\n<td style=\"text-align:left\">为某些成员变量设置初始值</td>\n<td style=\"text-align:left\">在跳出程序前释放资源</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">其他</td>\n<td style=\"text-align:left\">能够重载</td>\n<td style=\"text-align:left\">不能够重载</td>\n</tr>\n</tbody>\n</table>\n<p>关于函数重载将在后后续博文中介绍</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by print\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//没有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//带有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//析构函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"object is created \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"object is created \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Line::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"object is deleted\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">12</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) ;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用无参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10.0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">11.1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line1 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line2 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tdelete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用析构函数。程序结束时编译器自动释放line1 的资源，再次调用析构函数一次</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>运行结果</p>\n<pre><code>object is created 12\nobject is created 0\nline1 10\nline2 11.1\nobject is deleted\nobject is deleted\n</code></pre>\n<blockquote>\n<p>分析运行结果得知，定义两个变量，构造函数和析构函数各调用两次。其中，指针变量需要手动<code>delete</code>才能调用析构函数。<strong>有兴趣的可以自行验证</strong>。</p>\n</blockquote>\n<h1>拷贝构造函数</h1>\n<p>一种特殊的构造函数，它在创建对象时，是使用同一类中之前创建的对象来初始化新创建的对象。<br>\n拷贝构造函数通常用于：</p>\n<ol>\n<li>通过使用另一个同类型的对象来初始化新创建的对象。</li>\n<li>复制对象，把它作为参数传递给函数。</li>\n<li>复制对象，并从函数返回这个对象</li>\n</ol>\n<blockquote>\n<p>如果在类中没有定义拷贝构造函数，编译器会自行定义一个。**如果类带有指针变量，并有动态内存分配，则它必须有一个拷贝构造函数。**定义拷贝构造函数，参照如下形式：</p>\n</blockquote>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">classname</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> classname </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">obj) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t// 构造函数的主体</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><p>给Line类添加上拷贝构造函数</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by print\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//没有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//带有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//析构函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//拷贝构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">obj){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"copy Line\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">12</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) ;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用无参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10.0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">11.1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprintLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(line1);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line1 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line2 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tdelete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用析构函数。程序结束时编译器自动释放line1 的资源，再次调用析构函数一次</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><pre><code>object is created 12\nobject is created 0\ncopy Line\nline's length is 10\ncalled by printLine\nobject is deleted\nline1 10\nline2 11.1\nobject is deleted\nobject is deleted\n</code></pre>\n<blockquote>\n<p>眼尖的伙伴也许发现了这里调用了三次析构函数。分析第三行到第6行的输出，调用函数<code>printLine</code>首先会调用拷贝构造函数给形参复初始化，再执行<code>printLine</code>的函数体，最后释放形参暂用的资源。</p>\n</blockquote>\n<h1>友元函数</h1>\n<ul>\n<li>友元可以是一个函数，该函数被称为友元函数。友元也可以是一个类，该类被成为友元类。在这种情况下，整个类及其所有成员都是友元。</li>\n<li>友元函数是定义在类的外部却可以访问类的内部成员（private 和protected）。友元函数的原型在类的内部定义，但是不是类的成员函数。通常用关键字 friend 修饰声明的函数为一个类的友元。</li>\n</ul>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by print\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//没有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//带有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//析构函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//拷贝构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tfriend</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义为line类的友元函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">inline</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> printLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by printLine\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//printf不是任何类的成员函数，因此不需要修饰符::</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> printf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//友元函数可以直接访问该类的任何成员</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by printLine\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>对比友元函数、内联函数、成员函数的定义。成员函数和友元函数可以访问类的内部成员。但是友元函数必须基于类的对象访问类的内部成员。友元函数和内联函数不需要范围解析运算符，因为他们不属于类的成员函数。</p>\n</blockquote>\n<h1>this指针</h1>\n<p>每一个对象都能通过 this 指针来访问自己的地址。this 指针是所有成员函数的隐含参数。因此，在成员函数内部，它可以用来指向调用对象。</p>\n<p><strong>友元函数没有 this 指针，因为友元不是类的成员。只有成员函数才有 this 指针。</strong></p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">changeLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tthis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//第一个length是类的成员变量，第二个length是形参</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by changeLine\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//返回自己的地址</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">12</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) ;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用无参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10.0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">11.1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprintLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(line1);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line1 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line2 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine line3 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">changeLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">23</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line3 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tdelete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用析构函数。程序结束时编译器自动释放line1,line3的资源，再次调用析构函数两次</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><pre><code>object is created 12\nobject is created 0\ncopy Line\nline's length is 10\ncalled by printLine\nobject is deleted\nline1 10\nline2 11.1\nline's length is 23\ncalled by changeLine\ncopy Line\nline3 23\nobject is deleted\nobject is deleted\nobject is deleted\n</code></pre>\n<blockquote>\n<p>分析第9~13行的输出，<code>return *this;</code>会再次生成一个line对象。因此后续会依次释放line1、line2、line3 的资源。</p>\n</blockquote>\n<h1>静态成员</h1>\n<p>在类的定义中，用static 关键字把类的成员定义为静态的。无论创建多少个对象，静态成员都只有一个副本。访问静态成员的方式：classname :: staticmember。静态成员可以是成员变量也可以是成员函数。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//完整版Line类</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;iostream&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">using</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> namespace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> std</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tstatic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> objcount;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//声明静态成员变量</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tdouble</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by print\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//没有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//带有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//析构函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> &amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//拷贝构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tfriend</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义为line类的友元函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tLine</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> changeLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tstatic</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getCount</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line::objcount </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义并初始化静态成员变量</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"object is created \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tobjcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">objcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\" objects left\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"object is created \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tobjcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">objcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\" objects left\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Line::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"object is deleted\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tobjcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">--</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">objcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\" objects left\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getCount</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> objcount;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">obj){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"copy Line\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> obj</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tobjcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">objcount</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\" objects left\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tlength </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> len;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">inline</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> printLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by printLine\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//printf不是任何类的成员函数，因此不需要修饰符::</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//友元函数可以直接访问该类的任何成员</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by printLine\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">changeLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">double</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tthis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> length;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line's length is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">length</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"called by changeLine\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">12</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) ;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用有参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Line;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用无参数的构造函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10.0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tline2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">setLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">11.1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprintLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(line1);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line1 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line2 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tLine line3 </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> line2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">changeLine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">23</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"line3 \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">line3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getLength</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"obj count is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Line</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getCount</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tdelete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> line2;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//调用析构函数。程序结束时编译器自动释放line1 的资源，再次调用析构函数一次</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><pre><code>object is created 12\n1 objects left\nobject is created 0\n2 objects left\ncopy Line\n3 objects left\nline's length is 10\ncalled by printLine\nobject is deleted\n2 objects left\nline1 10\nline2 11.1\nline's length is 23\ncalled by changeLine\ncopy Line\n3 objects left\nline3 23\nobj count is 3\nobject is deleted\n2 objects left\nobject is deleted\n1 objects left\nobject is deleted\n0 objects left\n</code></pre>\n<p>最后，自行分析程序运行结果。</p>\n",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "C/C++"
      ]
    },
    {
      "title": "C++面向对象（三）——封装和多态",
      "url": "https://vuepress-theme-hope.github.io/c__/encapsulation-polymorphism.html",
      "id": "https://vuepress-theme-hope.github.io/c__/encapsulation-polymorphism.html",
      "summary": "封装 什么是封装 封装(encapsulation)又叫隐藏实现(Hiding the implementation)。就是只公开代码单元的对外接口，而隐藏其具体实现。 实现封装 在程序设计里，封装往往是通过访问控制实现的。C++，Java，Objective-C中都有 Public, Protected, Private 等访问控制符。通过用Publ...",
      "content_html": "\n<h2>什么是封装</h2>\n<p>封装(encapsulation)又叫隐藏实现(Hiding the implementation)。就是只公开代码单元的对外接口，而隐藏其具体实现。</p>\n<h2>实现封装</h2>\n<p>在程序设计里，封装往往是通过访问控制实现的。C++，Java，Objective-C中都有 Public, Protected, Private 等访问控制符。通过用Public将信息暴露，Private，Protected将信息隐藏，来实现封装。</p>\n<p>一个优秀的OOP程序员会尽量不对外公开代码，即最喜欢用Private关键字。因为在OOP中，对代码访问控制得越严格，日后你对代码修改的自由就越大。</p>\n<h2>封装的好处</h2>\n<ol>\n<li>封装使得对代码的修改更加安全和容易。将代码分成了一个个相对独立的单元。</li>\n<li>封装使整个软件开发复杂度大大降低。</li>\n<li>封装还避免了命名冲突的问题。</li>\n</ol>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;iostream&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;ctime&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">using</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> namespace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> std</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring species;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//物种</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tstring</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> species;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//哺乳动物继承动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\ttime_t</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> birthday;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//生日</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring type;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tBreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> spec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tint</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getAge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(string spec){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tspecies </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> spec;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tbirthday </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> time</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//生成构造函数时，生成出生日期</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">BreastfeedAnimal::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getAge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> time</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">birthday;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义陆生生物</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LandAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义羊，继承自哺乳动物和陆生生物</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> :</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LandAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tSheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//如果父类显示定义构造方法，子类构造方法必须调用父类构造方法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">():</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"sheep\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Sheep::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//\tAnimal* sheep = new BreastfeedAnimal(\"sheep\");</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tSheep</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> sheep </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"the animal's species is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">\t//生成一个耗时操作，阻塞程序运行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">999999999</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\twhile</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">--&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"the animal's age is \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getAge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>定义哺乳动物类<code>BreastfeedAnimal</code>,它有物种名称和出生日期两个属性。由于这两个属性在生成对象之后是不可以改变的，所以需要用private隐藏起来。与此同时，获取该对象的年龄，只需要用当前时间减去生成这个对象的时间。换句话来说，获取对象的年龄也只是个只读权限，同时也是不可修改的。这就是封装的简单用途。</p>\n</blockquote>\n<h2>设计策略</h2>\n<p>通常情况下，我们都会设置类成员状态为私有（private），除非我们真的需要将其暴露，这样才能保证良好的封装性。</p>\n<p>这通常应用于数据成员，但它同样适用于所有成员，包括虚函数。</p>\n<h1>多态</h1>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;iostream&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;ctime&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">using</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> namespace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> std</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring species;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//物种</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tstring</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"animal species\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> species;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//哺乳动物继承动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\ttime_t</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> birthday;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//生日</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring type;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tBreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> spec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tint</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getAge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(string spec){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tspecies </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> spec;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tbirthday </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> time</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//生成构造函数时，生成出生日期</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">BreastfeedAnimal::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getAge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> time</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">-</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">birthday;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义陆生生物</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LandAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义羊，继承自哺乳动物和陆生生物</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> :</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LandAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tSheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tstring</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//如果父类显示定义构造方法，子类构造方法必须调用父类构造方法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">():</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"sheep\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Sheep::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"sheep species\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> species;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义牛</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Ox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LandAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tOx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Ox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();\t\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tstring</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Ox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Ox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">():</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"ox\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Ox::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Ox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Ox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"ox species\"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> species;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tAnimal sheep;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tAnimal ox;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tsheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>运行结果</p>\n<pre><code>animal species\nanimal species\n</code></pre>\n<blockquote>\n<p>并没有达到期望中预想的值。有人说将sheep 和ox<strong>强制类型转换</strong>（以下简称：强转）成Sheep 和Ox 对象，事实上编译器会报错。<strong>怎样做，编译器才能够正确强转</strong>？而怎样做，才能正确调用sheep和ox的<code>getSpecies()</code>函数？</p>\n</blockquote>\n<p>修改main函数</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tAnimal</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> sheep </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tAnimal ox;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tsheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//\t((Ox)ox).getSpecies();//这种强转会报错</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t((Sheep </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)sheep)-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//强转通过</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tdelete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> sheep;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//\tdelete ((Sheep *)sheep)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><pre><code>Animal 构造函数\nSheep 构造函数\nAnimal 构造函数\nanimal species\nanimal species\nsheep species\nAnimal 析构函数\nAnimal 析构函数\n</code></pre>\n<blockquote>\n<p>程序中分别用两种方式声明sheep和ox对象。分析前三行，sheep是Sheep类的对象，因此会先调用基类（Animal类）的构造函数，再调用Sheep类的构造函数。ox是Animal类的对象，所以只调用Animal类的构造函数。分析第六行，正确强转之后就会调用Sheep类的<code>getSpecies()</code>函数。分析最后两行，ox是编译器释放资源时调用的，此处只调用Animal的析构函数。sheep 是delete之后，调用析构函数。预期情况是先调用Sheep类的析构函数再调用Animal类的析构函数。然而，此处sheep 是Animal类的实例，所以只调用Animal类的析构函数。修改main函数如下，自行分析输出。</p>\n</blockquote>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tSheep</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> sheep </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tOx ox;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tsheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tdelete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> sheep;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><pre><code>Animal 构造函数\nSheep 构造函数\nAnimal 构造函数\nOx 构造函数\nsheep species\nox species\nSheep 析构函数\nAnimal 析构函数\nOx 析构函数\nAnimal 析构函数\n</code></pre>\n<p>再回到上一个问题：<strong>而怎样做，才能正确调用sheep和ox的<code>getSpecies()</code>函数</strong>？这里引入两个概念：<strong>静态多态</strong>和<strong>虚函数</strong></p>\n<p><strong>静态多态</strong>或静态链接是指函数调用在程序执行前就准备好了。有时候这也被称为<strong>早绑定</strong>，因为 <code>getSpecies()</code>函数在程序编译期间就已经设置好了。出问题的原因是被设置为基类的版本。</p>\n<h2>虚函数</h2>\n<p><strong>虚函数</strong>是在基类中使用关键字 virtual 声明的函数。在派生类中重新定义基类中定义的虚函数时，会告诉编译器不要静态链接到该函数。</p>\n<p>我们想要的是在程序中任意点可以根据所调用的对象类型来选择调用的函数，这种操作被称为<strong>动态链接</strong>或后期绑定。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring species;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//物种</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvirtual</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> string</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义为虚函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tAnimal</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> sheep </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tAnimal ox;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tsheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tox</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tdelete</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> sheep;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><pre><code>Animal 构造函数\nSheep 构造函数\nAnimal 构造函数\nsheep species\nanimal species\nAnimal 析构函数\nAnimal 析构函数\n</code></pre>\n<blockquote>\n<p>分析输出，sheep已经正确调用了Sheep类中的 <code>getSpecies()</code>，而ox仍然调用Animal中的 <code>getSpecies()</code>函数。之前已经提到，ox是Animal的对象，自然只能调用Animal的函数。</p>\n</blockquote>\n<h2>纯虚函数</h2>\n<p>纯虚函数是一种特殊的虚函数，在许多情况下，在基类中不能对虚函数给出有意义的实现，而把它声明为纯虚函数，它的实现留给该基类的派生类去做。这就是纯虚函数的作用。</p>\n<p>纯虚函数可以让类先具有一个操作名称，而没有操作内容，让派生类在继承时再去具体地给出定义。凡是含有纯虚函数的类叫做抽象类。这种类不能声明对象，只是作为基类为派生类服务。除非在派生类中完全实现基类中所有的的纯虚函数，否则，派生类也变成了抽象类，不能实例化对象。</p>\n<p>一般而言<strong>纯虚函数</strong>的函数体是缺省的，但是也可以给出纯虚函数的函数体（此时纯虚函数变为虚函数），这一点经常被人们忽视，调用纯虚函数的方法为baseclass::virtual function。</p>\n<div class=\"language-c++\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring species;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//物种</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvirtual</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> string</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//纯虚函数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span></code></pre>\n</div><blockquote>\n<p>= 0告诉编译器，函数没有主体，所以<code>getSpecies()</code>就是纯虚函数，Animal类因此也成为了抽象类。学过Java的也许会联想到抽象类和接口中才有的抽象函数。</p>\n</blockquote>\n<h1>抽象类</h1>\n<p>设计抽象类的目的，是为了给其他类提供一个可以继承的适当的基类。抽象类不能被用于实例化对象，它只能作为接口使用。如果试图实例化一个抽象类的对象，会导致编译错误。</p>\n<p>因此，如果一个抽象类的子类需要被实例化，则必须实现每个虚函数，这也意味着 C++ 支持使用抽象类声明接口。如果没有在派生类中重载纯虚函数，就尝试实例化该类的对象，会导致编译错误。</p>\n<p>子类没有实现抽象父类中的函数，则子类也是抽象类，该子类不能实例化对象。可用于实例化对象的类被称为具体类。</p>\n",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "C/C++"
      ]
    },
    {
      "title": "C++面向对象（二）——继承",
      "url": "https://vuepress-theme-hope.github.io/c__/inheritance.html",
      "id": "https://vuepress-theme-hope.github.io/c__/inheritance.html",
      "summary": "面向对象程序设计的三大特征：继承、封装、多态。",
      "content_html": "<p>面向对象程序设计的<strong>三大特征</strong>：继承、封装、多态。</p>\n<!-- more -->\n<h1>基类和派生类</h1>\n<p>继承是指根据一个类，定义一个新的类。创建一个类时，您不需要重新编写新的数据成员和成员函数，只需指定新建的类继承了一个已有的类的成员即可。这使得创建和维护一个应用程序变得更容易。这样做，也达到了重用代码功能和提高执行时间的效果。已有的类叫<strong>基类</strong>（父类），新建的类称为<strong>派生类</strong>（子类）。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring species;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//物种</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tstring</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSpecies</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\treturn</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> species;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//哺乳动物继承动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring type;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tBreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> spec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(string spec){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tspecies </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> spec;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">BreastfeedAnimal::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>分析代码，定义一个子类的格式<code>class 派生类名:访问修饰符 基类名</code>。</p>\n</blockquote>\n<h1>访问控制和继承</h1>\n<p>访问修饰符：<strong>private</strong>、<strong>protected</strong>、<strong>public</strong>。</p>\n<img src=\"/assets/image/214/1.png\" width=\"200\">\n<p>派生类可以访问基类中所有的非私有成员（public和protected）。因此基类成员如果不想被派生类的成员函数访问，则应在基类中声明为 private。</p>\n<p>一个派生类继承了所有的基类（<strong>非私有</strong>）方法，但下列情况除外：</p>\n<ol>\n<li>基类的构造函数、析构函数和拷贝构造函数。</li>\n<li>基类的重载运算符。</li>\n<li>基类的友元函数。</li>\n</ol>\n<h1>继承类型</h1>\n<p>当一个类派生自基类，该基类可以被继承为 public、protected 或 private 几种类型。<br>\n<strong>我们几乎不使用 protected 或 private 继承</strong>，通常使用 public 继承。当使用不同类型的继承时，遵循以下几个规则：</p>\n<ol>\n<li><strong>公有继承</strong>（public）：当一个类派生自公有基类时，基类的公有成员也是派生类的公有成员，基类的保护成员也是派生类的保护成员，基类的私有成员不能直接被派生类访问，但是可以通过调用基类的公有和保护成员来访问。</li>\n<li><strong>保护继承</strong>（protected）： 当一个类派生自保护基类时，基类的公有和保护成员将成为派生类的保护成员。</li>\n<li><strong>私有继承</strong>（private）：当一个类生自私有基类时，基类的公有和保护成员将成为派生类的私有成员。</li>\n</ol>\n<h1>多继承</h1>\n<p>多继承是指一个类继承多个基类的情况。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//哺乳动物继承动物类</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Animal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprotected:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tstring type;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tBreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">string</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> spec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(string spec){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tspecies </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> spec;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">BreastfeedAnimal::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义陆生生物</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LandAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//定义羊，继承自哺乳动物和陆生生物</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> :</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> LandAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tSheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\t~Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//如果父类显示定义构造方法，子类构造方法必须调用父类构造方法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">():</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">BreastfeedAnimal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"sheep\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">Sheep::</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#56B6C2\">~</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Sheep</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h1>构造函数原则</h1>\n<p><strong>如果没有显式的构造函数，编译器会给一个默认的构造函数，并且该默认的构造函数仅仅在没有显式地声明构造函数情况下创建。</strong></p>\n<ol>\n<li>\n<p>如果子类没有定义构造方法，则调用父类的无参数的构造方法。</p>\n</li>\n<li>\n<p>如果子类定义了构造方法，不论是无参数还是带参数，在创建子类的对象的时候,首先执行父类无参数的构造方法，然后执行自己的构造方法。</p>\n</li>\n<li>\n<p>在创建子类对象时候，如果子类的构造函数没有显示调用父类的构造函数，则会调用父类的默认无参构造函数。</p>\n</li>\n<li>\n<p>在创建子类对象时候，如果子类的构造函数没有显示调用父类的构造函数且父类自己提供了无参构造函数，则会调用父类自己的无参构造函数。</p>\n</li>\n<li>\n<p>在创建子类对象时候，如果子类的构造函数没有显示调用父类的构造函数且父类只定义了自己的有参构造函数，则会出错（如果父类只有有参数的构造方法，则子类必须显示调用此带参构造方法）。</p>\n</li>\n<li>\n<p>如果子类调用父类带参数的构造方法，需要用初始化父类成员对象的方式。</p>\n</li>\n</ol>\n",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "C/C++"
      ]
    },
    {
      "title": "C++高级编程（一）——运算符重载",
      "url": "https://vuepress-theme-hope.github.io/c__/operation-overload.html",
      "id": "https://vuepress-theme-hope.github.io/c__/operation-overload.html",
      "summary": "C++ 允许在同一作用域中的某个函数和运算符指定多个定义，分别称为函数重载和运算符重载。 重载声明是指一个与之前已经在该作用域内声明过的函数或方法具有相同名称的声明，但是它们的参数列表和定义（实现）不相同。 当您调用一个重载函数或重载运算符时，编译器通过把您所使用的参数类型与定义中的参数类型进行比较，决定选用最合适的定义。选择最合适的重载函数或重载运算...",
      "content_html": "<p>C++ 允许在同一作用域中的某个函数和运算符指定多个定义，分别称为<strong>函数重载</strong>和<strong>运算符重载</strong>。</p>\n<p>重载声明是指一个与之前已经在该作用域内声明过的函数或方法具有相同名称的声明，但是它们的参数列表和定义（实现）不相同。</p>\n<p>当您调用一个重载函数或重载运算符时，编译器通过把您所使用的参数类型与定义中的参数类型进行比较，决定选用最合适的定义。选择最合适的重载函数或重载运算符的过程，称为<strong>重载决策</strong>。</p>\n<!-- more -->\n<h1>函数重载</h1>\n<p>同众多面向对象编程语言一样，C++也支持函数重载。</p>\n<p>函数重载是指：定义函数时，函数名相同，形参个数和类型不同。返回类型可以不同，函数实现可以不同。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;iostream&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">using</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> namespace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> std</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> a</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> b</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\" \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> a</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> b</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">float</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> c</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\t\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">a</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\" \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">b</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\" \"</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">c</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">endl; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> argc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> *</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\">argv</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\tprint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'z'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1.2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>上述代码中，两个<code>print</code>函数就是重载的函数。注意，形参个数和类型相同返回类型不同的不算函数重载，而是会报错。</p>\n</blockquote>\n<h1>运算符重载</h1>\n<p>准确说，运算符重载是C++的特性。我承认C# 也支持运算符重载，只是个人觉得他更像C++和Java混合的产物，因此它支持运算符重载也就不足为奇了。</p>\n<p>C++中的绝大多数运算符都可以被重载。重载的运算符是带有特殊名称的函数，函数名是由关键字<strong>operator</strong>和其后要重载的运算符符号构成的。与其他函数一样，重载运算符有一个返回类型和一个参数列表。</p>\n<p>可重载运算符和不可重载运算符如图：</p>\n<img src=\"/assets/image/216/1.png\" width=\"500\">\n<h1>运算符重载示例</h1>\n<h2>一元运算符重载</h2>\n<p>一元运算符，指对一个操作数进行操作。</p>\n<p>C++中，一元运算符有：-，~，!，++，--。</p>\n<div class=\"language-c++ line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"c++\" data-title=\"c++\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">#include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> &lt;iostream&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">using</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> namespace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> std</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Point</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tprivate:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> x;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> y;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\tpublic:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">\t\tPoint</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> x</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> y</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">\t\tvoid</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tPoint</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> operator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//重载运算符-</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tPoint</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> operator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">~();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//重载运算符~</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tPoint</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> operator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">!();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//重载运算符！</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tPoint</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> operator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">++();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//重载运算符++前缀</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tPoint</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> operator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">++(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//重载运算符++后缀</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tPoint</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&amp;</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> operator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">--();</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//重载运算符--前缀</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">\t\tPoint</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> operator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">--(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">//重载运算符--后缀</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">Point</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Point</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> x,</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> y){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tthis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">x</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> x;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">\tthis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">-&gt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">y</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> y;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> Point</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">::</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">print</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(){</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">\tcout</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">&lt;&lt;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-18T15:20:24.000Z",
      "date_modified": "2024-10-18T15:20:24.000Z",
      "authors": [],
      "tags": [
        "C/C++"
      ]
    },
    {
      "title": "第一个Android工程——HelloWord",
      "url": "https://vuepress-theme-hope.github.io/hello-android.html",
      "id": "https://vuepress-theme-hope.github.io/hello-android.html",
      "summary": "1 创建工程 打开AndroidStudio程序，首页如下图： 创建新的 AndroidStudio 工程。 打开已有的 AndroidStudio 工程。 从版本控制器导出工程。 分析或调试 APK。 从 Gradle/Eclipse 工程导入。 导入 Android 代码示例。 选择创建新的工程： 支持创建手机、平板、穿戴设备、电视等多个平台的工程...",
      "content_html": "<h2>1 创建工程</h2>\n<p>打开<code>AndroidStudio</code>程序，首页如下图：</p>\n<img src=\"/assets/image/012/14.png\" width=\"400\">\n<ol>\n<li>创建新的 <code>AndroidStudio</code> 工程。</li>\n<li>打开已有的 <code>AndroidStudio</code> 工程。</li>\n<li>从版本控制器导出工程。</li>\n<li>分析或调试 <code>APK。</code></li>\n<li>从 <code>Gradle/Eclipse</code> 工程导入。</li>\n<li>导入 <code>Android</code> 代码示例。</li>\n</ol>\n<p>选择创建新的工程：</p>\n<img src=\"/assets/image/012/15.png\" width=\"500\">\n<p>支持创建手机、平板、穿戴设备、电视等多个平台的工程。入门阶段选择第一个就好。 任意选一个Activity模板，例如：BasicActivity。</p>\n<img src=\"/assets/image/012/16.png\" width=\"500\">\n<p>输入项目名称，包名，保存的位置以及兼容的最低系统版本，图中是 API 15，Android 4.0.3 版本。支持 <code>Java</code> 和 <code>Kotlin</code> 两种编程语言。</p>\n<p>完成之后，会下载部分依赖的组件，如图：</p>\n<img src=\"/assets/image/012/17.png\" width=\"500\">\n<p>最后，进入工程页面，图中正在下载 gradle 4.10.1 版本。</p>\n<img src=\"/assets/image/012/18.png\" width=\"800\">\n<p>如果在下载 <code>gradle</code> 的时候遇到等了很久却下载失败的情况。</p>\n<img src=\"/assets/image/012/19.png\" width=\"800\">\n<p>可以复制下载的地址，使用浏览器或迅雷等工具下载。下载成功之后，将 zip 文件复制到到相同版本名称的目录下，请忽略随机串。</p>\n<img src=\"/assets/image/012/20.png\" width=\"400\">\n<p>图中是正确配置的结果，需要手动 解压 zip 文件，并删除 <code>part</code> 文件，最后新建一个 <code>ok</code> 文件，保证 <code>lck</code> 文件 和 <code>ok</code> 文件都是 0 KB。</p>\n<p>重启 <code>AndroidStudio</code> ,会自动跳过 <code>gradle</code> 下载。除非修该改 gradle-wrapper.properties 中的 <code>gradle</code> 版本。</p>\n<img src=\"/assets/image/012/21.png\" width=\"800\">\n<p>初次编译时，需要等待一段时间下载工程依赖的第三方库，编译成功之后，注意图中标记处的前后对比。</p>\n<h2>2 连接手机</h2>\n<p>如果，你是一只计算机小白，那么这个地方可能让你头大，笔者曾经也是这么过来的。强烈推荐在电脑上安装<strong>豌豆荚</strong>,其他类手机助手软件也可以。助手软件会帮助你安装好手机驱动，提示你打开开发者模式。</p>\n<p>如果，你是计算机高手，那么可以自行安装手机驱动程序，使电脑能够访问手机数据存储。其次，自行百度具体品牌手机，打开开发者模式的方式。</p>\n<p>至于，使用 Mac 和 Linux 的小伙伴们大可放心。因为 Android 和 Mac 都使用 Linux 内核，因此 Android 设备和 Mac/Linux 系统可以很方便的进行连接，不需要单独安装驱动。但是，打开<strong>开发者选项</strong>和<strong>USB调试</strong>的方式，同上。</p>\n<h2>3 打开开发者模式</h2>\n<p>通用步骤：设置 -&gt; 关于手机 -&gt; 系统信息 中反复点击<strong>版本号</strong>直至提示开发者模式已经开始。回到设置页面，可以找到<strong>开发者选项</strong>菜单。进入开发者选项配置页面，打开<strong>USB调试</strong>。</p>\n<img src=\"/assets/image/012/3.jpg\" width=\"300\">\n<p>重新插拔手机，弹出窗口，提示需要授权电脑进行调试手机。</p>\n<img src=\"/assets/image/012/4.jpg\" width=\"300\">\n<p>如果是自己的电脑，建议勾选底部的一律允许使用这台计算机进行调试。</p>\n<p>oppo 手机比较恶心，每隔一段时间，会自动终止 <code>adb</code> 服务，并关闭 <code>USB</code> 调试。需要重新打开。当遇见 <code>OV</code> 系列的手机，出现连不上手机的情况或者联上手机但无法进行调试的情况，请检查<strong>开发者选项</strong>和<strong>USB调试</strong>开关。</p>\n<p>小米手机打开开发者模式的方式有些特殊，等有机会使用小米手机再举例。</p>\n<h2>4 使用模拟器</h2>\n<h2>5 运行工程</h2>\n<p>点击 <code>app</code> 右边的三角形，运行程序。在弹出的框中选择真机或模拟器。</p>\n<img src=\"/assets/image/012/23.png\" width=\"500\">\n<p><code>Demo</code>  成功运行起来之后的样子，如下图。</p>\n<img src=\"/assets/image/012/22.jpg\" width=\"300\">\n<p>创建好 <code>Demo</code> 工程，并正确编译运行之后，若想对 <code>AndroidStudio</code> 工程的各个目录和文件有更深刻的认识，请阅读<a href=\"start-android\">从零构建Android工程</a></p>\n",
      "date_published": "2024-10-16T16:46:05.000Z",
      "date_modified": "2024-10-16T16:46:05.000Z",
      "authors": [],
      "tags": [
        "Android"
      ]
    },
    {
      "title": "安装AndroidStudio",
      "url": "https://vuepress-theme-hope.github.io/install-androidstudio.html",
      "id": "https://vuepress-theme-hope.github.io/install-androidstudio.html",
      "summary": "公司准备招聘一批具备 Java 基础的实习生学习 Android 开发。因此，后续会出一系列的 Android 开发入门、基础、高级教程。那么，从第零步，搭建开发环境开始。由于 Android 是基于 Java 平台开发的，因此还需要安装 Java 环境。",
      "content_html": "<p>公司准备招聘一批具备 Java 基础的实习生学习 Android 开发。因此，后续会出一系列的 Android 开发入门、基础、高级教程。那么，从第零步，搭建开发环境开始。由于 Android 是基于 Java 平台开发的，因此还需要<a href=\"install-java\">安装 Java 环境</a>。</p>\n<!-- more -->\n<p>网上有很多搭建 Android 开发环境的教程，主要是基于 Eclipse 和  AndroidStudio 。其中，在下载 SDK 模块时，讲到需要设置代理。个人认为该方式可有可无，目前已经可以在大陆下载全部 SDK 代码，和访问 <a href=\"https://developer.android.google.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">Android 官网</a>。</p>\n<h2>1 下载AndroidStudio</h2>\n<p>AndroidStudio 3.3下载</p>\n<ol>\n<li>\n<p><a href=\"https://redirector.gvt1.com/edgedl/android/studio/install/2024.2.1.10/android-studio-2024.2.1.10-windows.exe\" target=\"_blank\" rel=\"noopener noreferrer\">android-studio-2024.2.1.10-windows</a></p>\n</li>\n<li>\n<p><a href=\"https://redirector.gvt1.com/edgedl/android/studio/install/2024.2.1.10/android-studio-2024.2.1.10-mac.dmg\" target=\"_blank\" rel=\"noopener noreferrer\">android-studio-2024.2.1.10-mac</a></p>\n</li>\n<li>\n<p><a href=\"https://redirector.gvt1.com/edgedl/android/studio/install/2024.2.1.10/android-studio-2024.2.1.10-mac_arm.dmg\" target=\"_blank\" rel=\"noopener noreferrer\">android-studio-2024.2.1.10-mac_arm</a></p>\n</li>\n<li>\n<p><a href=\"https://redirector.gvt1.com/edgedl/android/studio/ide-zips/2024.2.1.10/android-studio-2024.2.1.10-linux.tar.gz\" target=\"_blank\" rel=\"noopener noreferrer\">android-studio-2024.2.1.10-linux</a></p>\n</li>\n</ol>\n<h2>2 安装AndroidStudio</h2>\n<p>安装步骤如下：</p>\n<img src=\"/assets/image/101/1.png\" width=\"400\">\n<img src=\"/assets/image/101/2.png\" width=\"400\">\n<img src=\"/assets/image/101/3.png\" width=\"400\">\n<img src=\"/assets/image/101/4.png\" width=\"400\">\n<img src=\"/assets/image/101/5.png\" width=\"400\">\n<img src=\"/assets/image/101/6.png\" width=\"400\">\n<img src=\"/assets/image/101/7.png\" width=\"400\">\n<h2>3 配置AndroidStudio</h2>\n<p>第一次启动AndroidStudio，会弹出配置提示。如果电脑中已经安装过AS，可以使用上一个AS的配置，在这里，展示如何第一次配置AS。步骤如下：</p>\n<img src=\"/assets/image/101/8.png\" width=\"400\">\n<p>建议采用自定义配置模式。</p>\n<img src=\"/assets/image/101/9.png\" width=\"400\">\n<img src=\"/assets/image/101/10.png\" width=\"400\">\n<p>为不增加配置后的下载时间，此处暂不下载安卓模拟器和硬件加速插件。指定的sdk路径即之前下载的SDK Tools 解压后的路径。</p>\n<img src=\"/assets/image/101/11.png\" width=\"400\">\n<p>下图显示需要下载的组件大小，点击finish后，开始下载模式。</p>\n<img src=\"/assets/image/101/12.png\" width=\"400\">\n<img src=\"/assets/image/101/13.png\" width=\"400\">\n<p>如果安装<code>jdk11</code>之后，无法正确打开<code>AndroidStudio</code>。请检查是否配置<code>jre</code>目录。其他版本 <code>jdk</code> 不存在这个问题。如果是下载的 <code>zip</code> 包，建议将 <code>studio.exe</code> 添加到桌面快捷方式，而不是 <code>studio64.exe</code></p>\n<p>创建第一个Android工程，<a href=\"hello-android\">请跳转</a>。</p>\n",
      "date_published": "2024-10-16T16:46:05.000Z",
      "date_modified": "2024-10-16T16:46:05.000Z",
      "authors": [],
      "tags": [
        "开发工具"
      ]
    },
    {
      "title": "Arch 安装教程",
      "url": "https://vuepress-theme-hope.github.io/install-arch.html",
      "id": "https://vuepress-theme-hope.github.io/install-arch.html",
      "summary": "Arch 安装教程，支持UEFI和BIOS两种方式。官方教程地址。",
      "content_html": "<p>Arch 安装教程，支持UEFI和BIOS两种方式。官方教程<a href=\"https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\" target=\"_blank\" rel=\"noopener noreferrer\">地址</a>。</p>\n<!-- more -->\n<h2>环境准备</h2>\n<h3>真机</h3>\n<h4>引导模式</h4>\n<p>在真机上装 Arch ，尤其是准备装双系统，建议了解下自己主板兼容的引导模式。开机时 按下 F2 键，进入主板系统界面。</p>\n<img src=\"/assets/image/103/014.jpg\">\n<p>如图示的主板信息，支持 Legacy （传统模式，记BIOS）和 UEFI 模式。不同的模式，在后续分区操作、安装引导程序时略有区别。如需安装双系统，建议使用 UEFI 模式。</p>\n<h4>制作启动盘</h4>\n<p>Arch 系统镜像比较小，约 700MB 。官方<a href=\"https://archlinux.org/download/\" target=\"_blank\" rel=\"noopener noreferrer\">下载地址</a>，通常比较慢，建议使用国内镜像下载地址：<a href=\"https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/2021.01.01/\" target=\"_blank\" rel=\"noopener noreferrer\">清华镜像</a>，<a href=\"https://mirrors.ustc.edu.cn/archlinux/iso/2021.01.01/\" target=\"_blank\" rel=\"noopener noreferrer\">中科大镜像</a>。</p>\n<p>使用 <a href=\"https://cn.ultraiso.net/\" target=\"_blank\" rel=\"noopener noreferrer\">UtraIso</a> 工具将下载下来的 ios 文件写入 U 盘中。具体破解方式和制作启动盘的方式百度有很多。</p>\n<p>最后在开机时，按住 F12 出现如下页面，选择从 U 盘启动。</p>\n<img src=\"/assets/image/103/015.jpg\">\n<p><strong>不同主板之间略有差异，F2 和 F12 支持多数主板，如无效，则需要确认好主板厂商，了解到具体的设置方式。</strong></p>\n<p>安装过程中，需要一根网线直连路由器，比在安装过程中使用拨号连接和 wifi 连接方便。</p>\n<h3>虚拟机</h3>\n<p>推荐使用 VirtualBox 虚拟机，<a href=\"https://www.virtualbox.org/wiki/Downloads\" target=\"_blank\" rel=\"noopener noreferrer\">下载地址</a>。</p>\n<img src=\"/assets/image/103/001.png\">\n<p>新建虚拟电脑。</p>\n<img src=\"/assets/image/103/002.png\">\n<p>设置系统类型。</p>\n<img src=\"/assets/image/103/003.png\">\n<p>设置内存大小，根据实际内存大小分配。最少1G，建议2G。如果内存够大，请任性些。<strong>1GB=1024MB</strong>。</p>\n<img src=\"/assets/image/103/004.png\">\n<p>创建虚拟硬盘。</p>\n<img src=\"/assets/image/103/005.png\">\n<p>选择虚拟硬盘文件类型。</p>\n<img src=\"/assets/image/103/006.png\">\n<p>设置使用动态分配的方式。即，设置虚拟硬盘100G，最后根据实际的系统占用空间，占用物理硬盘空间。</p>\n<img src=\"/assets/image/103/007.png\">\n<p>确认虚拟硬盘文件位置和大小后，创建虚拟电脑。再次打开设置。</p>\n<img src=\"/assets/image/103/008.png\">\n<p>设置系统启动顺序。硬盘第一，光驱第二。<br>\n设置是否启用 EFI 。同主板的 BIOS 和 UEFI 区别。</p>\n<img src=\"/assets/image/103/009.png\">\n<p>如果主机是多核多线程 CPU ，可以适当添加 CPU 数量。</p>\n<img src=\"/assets/image/103/010.png\">\n<p>设置显存大小，建议模式。</p>\n<img src=\"/assets/image/103/011.png\">\n<p>对虚拟光驱，添加下载下来的安装镜像文件。</p>\n<img src=\"/assets/image/103/013.png\">\n<p>网络模式中，选择 NAT 模式。这样，虚拟电脑可以使用真机网络。</p>\n<img src=\"/assets/image/103/012.png\">\n<p>配置完成后，启动虚拟电脑。</p>\n<h2>安装系统</h2>\n<p><strong>为方便截图，后续操作都在虚拟机中执行</strong>。</p>\n<p>启动后，可以见到下面两图中的一个。第一个是 BIOS 模式启动，第二个是 UEFI 模式启动。</p>\n<img src=\"/assets/image/103/016.png\">\n<img src=\"/assets/image/103/017.png\">\n<p>启动后，在图示状态下，判断联网情况。真机安装模式下，需要将网线连接路由器，虚拟机安装模式下，需要使用 NAT 联网方式（见虚拟机的配置）。</p>\n<img src=\"/assets/image/103/018.png\">\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ping</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> www.baidu.com</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 若 ping 测试发现联网失败，启用 dhcp 服务</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> enable</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dhcpcd</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 启用</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> start</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dhcpcd</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 启动</span></span></code></pre>\n</div><h3>硬盘分区</h3>\n<p>真机安装时，硬盘通常已有分区。如无重要数据，可以直接格式化全盘。如，保留硬盘中数据，或安装双系统，请确保至少有一个空的磁盘分区。</p>\n<p>Linux 中磁盘概念与 Windows 不一样。第一块硬盘记 sda ，多块硬盘依次记 sda sdb sdc ... 。第一块硬盘的第一个分区记 sda1 ，多个分区依次记 sda1 sda2 sda3 ...。</p>\n<p>虚拟机安装时，之前创建的是一块空硬盘，因此还需要设置分区表。如果在真机上安装时，允许全盘格式化硬盘，也可以重新设置分区表。</p>\n<p>分区表有两种，MBR 和 GPT 。对应不同的主板模式。建议 BIOS + MBR ，UEFI + GPT 。换种组合，可能导致，无法正确进入系统，尤其是双系统安装的场景。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 以下是修改硬盘分区时涉及到的命令，不一定需要全部执行。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">fdisk</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看硬盘及分区情况</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">parted</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 修改硬盘分区表，只有新硬盘需执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    mktable</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     # 设置分区表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        gpt</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     # GPT 分区表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        msdos</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">   # MBR 分区表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    quit</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        # 退出 parted</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cfdisk</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 对硬盘进行分区。可以只操作硬盘中的一个分区。</span></span></code></pre>\n</div><p>cfdisk 命令弹出可交互式命令终端。真机安装时，希望只在其中一个硬盘分区中安装 Arch ，直接通过方向键选中待安装的分区，如，sda4 ，选择 Delete 删除分区信息。 New 新建分区，输入待分区大小。选择 Type 设置分区类型，主要有三个 ：EFI System，Linux swap Linux filesystem 。选择 Write 写入分区信息。选择 Quit ，退出分区程序。分区示例，如下。</p>\n<img src=\"/assets/image/103/019.png\">\n<h3>分区建议</h3>\n<h4>BIOS+MBR</h4>\n<ol>\n<li>交换空间，4G。挂载点，（可选）。</li>\n<li>根分区，40G，挂载点 / 。</li>\n<li>用户分区，剩余可用空间，挂载点 /home （可选）。</li>\n</ol>\n<h4>UEFI+GPT</h4>\n<ol>\n<li>EFI 系统分区，300M，挂载点 /boot/efi。</li>\n<li>交换空间，4G。挂载点，（可选）。</li>\n<li>根分区，40G，挂载点 / 。</li>\n<li>用户分区，剩余可用空间，挂载点 /home （可选）。</li>\n</ol>\n<blockquote>\n<ul>\n<li>真机安装时，如果内存够大，如8G，则无须使用交换空间。</li>\n<li>用户分区非必须。若重装系统时，根分区需要格式化，用户分区则不需要。相当于 windows下 C 盘和 D 盘的区别。</li>\n</ul>\n</blockquote>\n<h3>格式化分区</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkfs.ext4</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda3</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 格式化根分区，Linux filesystem类型</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkfs.ext4</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda4</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 格式化用户分区</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkfs.vfat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda1</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 格式化EFI系统分区，EFI System类型</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkswap</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda2</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 格式化交换空间，Linux swap 类型</span></span></code></pre>\n</div><h3>挂载分区</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mount</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         # 挂载根分区到 /mnt 目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkdir</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> home</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                   # 建立用户分区目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mount</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda4</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt/home</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 挂载用户分区到 /mnt/home 目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkdir</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt/boot</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mkdir</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt/boot/efi</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">          # 建议efi分区目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">mount</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt/boot/efi</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 挂载 EFI系统分区到 /mnt/boot/efi</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">swapon</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda2</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">             # 挂载交换空间</span></span></code></pre>\n</div><p>以上命令根据实际分区情况执行。</p>\n<h3>修改安装源</h3>\n<p>安装过程，需要下载大量的系统文件，配置国内的安装源，有利于加快安装速度。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">vim</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/pacman.d/mirrorlist</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 编辑安装源清单文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 以下是对 vim 的一些操作方式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    /China</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 搜索 China 字符串</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        回车</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 执行搜索</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        n</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">   # 搜索下一个</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    2dd</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    #     看Server，找到 ustc 的地址，剪切两行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    gg</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     # 回到第一行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    p</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">      # 移动光标到适当位置，粘贴</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    esc</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 退出编辑状态</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    !</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">wq</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 保存并退出 vim </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 正确修改安装源之后，更新源</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -Syy</span></span></code></pre>\n</div><img src=\"/assets/image/103/020.png\">\n<h3>安装系统文件</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 下载 arch 基础组件和 linux 内核，后面过程，全部回车</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacstrap</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -i</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> base</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> linux</span></span></code></pre>\n</div><img src=\"/assets/image/103/021.png\">\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 生成 fstab 文件，用于启动时挂载硬盘</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">genfstab</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -U</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &gt;&gt; </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">/mnt/etc/fstab</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt/etc/fstab</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看刚刚生成的文件</span></span></code></pre>\n</div><img src=\"/assets/image/103/022.png\">\n<h3>配置系统</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">arch-chroot</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /mnt</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         # 进入安装的系统</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">passwd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">              # 设置 root 账户密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dhcpcd</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         # 下载 dhcp 服务</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> enable</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dhcpcd</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 启用 dhcp 服务</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> start</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dhcpcd</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">   # 启动 dhcp 服务</span></span></code></pre>\n</div><div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacamn</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> grub</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">               # 安装 grub 引导程序</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> efibootmgr</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">         # 安装 efi 启动程序，可选</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 双系统需要安装读 ntfs 分区和检测windows系统程序</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> os-prober</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ntfs-3g</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装 BIOS+MBR 的引导程序</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grub-install</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --target=i386-pc</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装 UEFI+GPT 的引导程序</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grub-install</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --target=x86_64-efi</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --efi-directory=/boot/efi</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --bootloader-id=Arch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 生成引导文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grub-mkconfig</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -o</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /boot/grub/grub.cfg</span></span></code></pre>\n</div><img src=\"/assets/image/103/023.png\">\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">exit</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 退出系统</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">reboot</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 重启虚拟机或电脑</span></span></code></pre>\n</div><p>重新启动后，输入密码如图示：</p>\n<img src=\"/assets/image/103/024.png\">\n<h3>设置时区</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 设置时区</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ln</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -sf</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/share/zoneinfo/Asia/Shanghai</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/localtime</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 设置在线同步时间</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">timedatectl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> set-ntp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 查看时间信息 UTC，格林威治时间，CST 北京时间。差8个时区</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">tiemdatectl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span></code></pre>\n</div><img src=\"/assets/image/103/025.png\">\n<h3>添加用户</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">useradd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -G</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> wheel</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -s</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin/bash</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zkf</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> #用户名，做开发 首字母</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">passwd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zkf</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 设置 zkf 用户密码 ，需要输入两次 </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 提权操作，默认的 zkf 账户，无法获取 root 权限</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> vi</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sudo</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 安装必备程序</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">visudo</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">            # 编辑提权文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 同 vim 的操作，删除 %wheel ALL=(ALL) ALL 或其下面一行之前的井号。下面使用 sudo 命令不需要密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    /wheel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    :wq</span></span></code></pre>\n</div><h3>本地化</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> vim</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 安装 vim，之前可以用 vim 是安装包附带的，新系统需要重新安装</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">vim</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/locale.gen</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 修改本地化配置文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 打开 en_US.UTF-8 ,zh_CN.UTF-8前的井号</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">locale-gen</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 生成配置</span></span></code></pre>\n</div><p>至此，Arch 系统即安装配置完成。后续还会有图形化系统安装和桌面美化。</p>\n<p>下次开机时，即可登录刚创建的 zkf 账户。或者输入 exit 退出 root ，直接登录 zkf 也可以。</p>\n<p>最后两个命令</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">poweroff</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 关机 </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">restart</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 重启</span></span></code></pre>\n</div>",
      "date_published": "2024-10-16T16:46:05.000Z",
      "date_modified": "2024-10-16T16:46:05.000Z",
      "authors": [],
      "tags": [
        "Arch"
      ]
    },
    {
      "title": "安装Java环境-Windows",
      "url": "https://vuepress-theme-hope.github.io/install-java.html",
      "id": "https://vuepress-theme-hope.github.io/install-java.html",
      "summary": "1 下载jdk jdk 8 下载链接 jdk 10 下载链接 2 安装jdk 双击下载下来的exe文件执行安装。安装过程截图如下： 安装后，使用快捷键 win+R 输入cmd 运行终端程序，在终端中 输入 java -version 校验安装结果。 如图所示，安装成功。 3 配置环境变量 打开系统属性 点击高级系统设置 点击环境变量 在系统变量中新建变...",
      "content_html": "<h2>1 下载jdk</h2>\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener noreferrer\">jdk 8 下载链接</a></p>\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html\" target=\"_blank\" rel=\"noopener noreferrer\">jdk 10 下载链接</a></p>\n<h2>2 安装jdk</h2>\n<p>双击下载下来的exe文件执行安装。安装过程截图如下：</p>\n<img src=\"/assets/image/100/6.png\" width=\"400\">\n<br>\n<img src=\"/assets/image/100/1.png\" width=\"400\">\n<br>\n<img src=\"/assets/image/100/2.png\" width=\"400\">\n<br>\n<img src=\"/assets/image/100/7.png\" width=\"400\">\n<br>\n<img src=\"/assets/image/100/3.png\" width=\"500\">\n<br>\n<img src=\"/assets/image/100/4.png\" width=\"500\">\n<br>\n<img src=\"/assets/image/100/5.png\" width=\"400\">\n<p>安装后，使用快捷键 win+R 输入cmd 运行终端程序，在终端中 输入 <code>java -version</code> 校验安装结果。</p>\n<img src=\"/assets/image/100/8.png\" width=\"400\">\n<p>如图所示，安装成功。</p>\n<h2>3 配置环境变量</h2>\n<ol>\n<li>打开系统属性</li>\n</ol>\n<img src=\"/assets/image/100/9.png\" width=\"800\">\n<ol start=\"2\">\n<li>点击高级系统设置</li>\n</ol>\n<img src=\"/assets/image/100/10.png\" width=\"400\">\n<ol start=\"3\">\n<li>点击环境变量</li>\n</ol>\n<img src=\"/assets/image/100/11.png\" width=\"500\">\n<ol start=\"4\">\n<li>在系统变量中新建变量</li>\n</ol>\n<p>新建<code>JAVA_HOME</code>变量，变量值是<code>jdk</code>安装目录。</p>\n<img src=\"/assets/image/100/15.png\" width=\"350\">\n<ol start=\"5\">\n<li>在系统变量中选择Path变量</li>\n</ol>\n<img src=\"/assets/image/100/12.png\" width=\"700\">\n<ol start=\"6\">\n<li>编辑Path变量，在变量值的末尾添加下面的内容。</li>\n</ol>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk1.8.0_181\\bin;C:\\Program Files\\Java\\jdk1.8.0_181\\jre\\bin</p>\n</blockquote>\n<p>或者使用</p>\n<blockquote>\n<p>%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin</p>\n</blockquote>\n<ol start=\"7\">\n<li>保存退出后，再在终端中依次输入 <code>javac</code>、<code>javah</code>校验环境变量是否修改成功。</li>\n</ol>\n<img src=\"/assets/image/100/13.png\" width=\"700\">\n<img src=\"/assets/image/100/14.png\" width=\"700\">\n<h2>jdk 11</h2>\n<p>jdk 11 默认没有 <code>jre</code> 目录，需要手动生成。在 jdk 目录下执行下面的命令。</p>\n<blockquote>\n<p>bin\\jlink.exe --module-path jmods --add-modules java.desktop --output jre</p>\n</blockquote>\n<p>jdk 8 之后，不再支持 <code>javah</code> 命令生成头文件，使用 <code>javac -h</code> 替换。</p>\n",
      "date_published": "2024-10-16T16:46:05.000Z",
      "date_modified": "2024-10-16T16:46:05.000Z",
      "authors": [],
      "tags": [
        "开发工具",
        "Java"
      ]
    },
    {
      "title": "Arch 定制化安装与美化",
      "url": "https://vuepress-theme-hope.github.io/personalize-arch.html",
      "id": "https://vuepress-theme-hope.github.io/personalize-arch.html",
      "summary": "Arch 最大的魅力在于，他的高度可定制化安装。网上有提供好的资源，只需往系统中集成即可。但是有很多教程在图形化界面安装方面比较千篇一律。不论组件是否需要，全部安装。最终导致系统体积较大。 此篇教程的目的在于，最少化安装组件。装出最轻的系统。在前一篇教程的基础上，开始吧。",
      "content_html": "<p>Arch 最大的魅力在于，他的高度可定制化安装。网上有提供好的资源，只需往系统中集成即可。但是有很多教程在图形化界面安装方面比较千篇一律。不论组件是否需要，全部安装。最终导致系统体积较大。</p>\n<p>此篇教程的目的在于，最少化安装组件。装出最轻的系统。在<a href=\"https://blog.csdn.net/flueky/article/details/113006329\" target=\"_blank\" rel=\"noopener noreferrer\">前一篇教程</a>的基础上，开始吧。</p>\n<!-- more -->\n<p>启动系统，登录个人账户（非root账户）。</p>\n<h2>安装 gnome 显示管理</h2>\n<p>有打包好的 gnome 组件，安装包较多。此处不用，首先只安装两个模块。gdm 和 terminal 终端。要求先进入图形化界面</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tilix</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 安装图形化终端,不使用 gnome-terminal，</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gdm</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">            # 安装显示管理组件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> enable</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gdm</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     # 启用显示管理</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> start</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gdm</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">      # 启动显示管理</span></span></code></pre>\n</div><img src=\"/assets/image/104/001.png\" width=\"600\">\n<img src=\"/assets/image/104/002.png\" width=\"600\">\n<p>使用 <em>gnome on xorg</em> 登录。</p>\n<img src=\"/assets/image/104/003.png\" width=\"600\">\n<p>没有多余的程序。查看磁盘空间，系统盘仅用 4G ，比一个安卓系统都小。</p>\n<img src=\"/assets/image/104/004.png\" width=\"600\">\n<p>下面将一步一步完善此系统。</p>\n<h2>添加 archlinuxcn 源</h2>\n<p>此类源可以方便的安装一些国内应用，比如网易云音乐。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> vim</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/pacman.conf</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 打开 multilib 前的注释</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[multilib]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Include</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/pacman.d/mirrorlist</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 添加 archlinuxcn</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[archlinuxcn]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">SigLevel</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Optional</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TrustAll</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 此行没有时，需要安装 keyring</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Server</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> https://mirrors.ustc.edu.cn/archlinuxcn/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$arch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 更新源</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -Syy</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> archlinuxcn-keyring</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 安装密钥对</span></span></code></pre>\n</div><img src=\"/assets/image/104/005.png\">\n<p>最后两个表示新添加的源。</p>\n<h2>浏览器</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> firefox</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 火狐浏览器</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> google-chrome</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 谷歌浏览器</span></span></code></pre>\n</div><h2>中文字体</h2>\n<p>使用浏览器打开百度首页，惊奇的发现显示不了汉字。莫慌。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装文泉艺字体</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> wqy-zenhei</span></span></code></pre>\n</div><p>其他字体见<a href=\"https://wiki.archlinux.org/index.php/Fonts_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\" target=\"_blank\" rel=\"noopener noreferrer\">Arch Wiki</a>。</p>\n<h2>gnome 美化</h2>\n<p>火狐浏览器打开 <a href=\"https://extensions.gnome.org\" target=\"_blank\" rel=\"noopener noreferrer\">gnome 扩展</a>，安装浏览器插件。</p>\n<img src=\"/assets/image/104/006.png\">\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装美化工具与扩展</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gnome-shell-extensions</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> chrome-gnome-shell</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gnome-tweaks</span></span></code></pre>\n</div><img src=\"/assets/image/104/007.png\">\n<p>此时 tewak 自带很多扩展组件可以使用。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装 AUR ，解决部分 pacman 安装不了的库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> yay</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> yaourt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装 vimix 主题</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 选中 4 ，vimix-gtk-themes</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 选中 6 ，vimix-icon-themes</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> yay</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> vimix</span></span></code></pre>\n</div><p>注销后，重新登录。tweaks 配置如下：</p>\n<img src=\"/assets/image/104/008.png\">\n<p>在窗口标题栏（Window Titlebars）打开最大化和最小化按钮。</p>\n<img src=\"/assets/image/104/009.png\">\n<p>通过浏览器安装 Dock 工具。在 Tweaks 中，配置 Dock 。</p>\n<img src=\"/assets/image/104/010.png\">\n<p>通过以上配置，桌面效果也算不丑了。只是缺一张好看的壁纸。</p>\n<h2>终端美化 zsh</h2>\n<p>使用 <a href=\"https://ohmyzsh.sh\" target=\"_blank\" rel=\"noopener noreferrer\">Oh My ZSH</a>。</p>\n<p>由于国内网络的通病，官方教程的下载方式，提示 403 错误。需要手动下载安装脚本。</p>\n<ol>\n<li>打开其github地址：<a href=\"https://github.com/ohmyzsh/ohmyzsh\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/ohmyzsh/ohmyzsh</a></li>\n<li>找到 <a href=\"http://install.sh\" target=\"_blank\" rel=\"noopener noreferrer\">install.sh</a> 脚本位置：tools/install.sh</li>\n<li>复制其文件内容。</li>\n</ol>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">vim</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> oh-my-zsh.sh</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">            # 粘贴刚刚复制的内容，保存并退出。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> chmod</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +x</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> oh-my-zsh.sh</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 给脚本添加可执行权限</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zsh</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">          # 安装 zsh</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 执行主题下载脚本，需要 git 支持。之前安装 AUR 时已经同步下载。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sh</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> oh-my-zsh.sh</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">vim</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .zshrc</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                  # 编辑配置文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    i</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                       # 进入编辑模式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 修改 ZSH_THEME=\"ys\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    :wq</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                     # 保存并退出</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">source</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .zshrc</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">               # 使修改生效</span></span></code></pre>\n</div><img src=\"/assets/image/104/013.png\">\n<p>如上，美化操作已完成。</p>\n<h2>设置中心</h2>\n<p>切换不了壁纸。因为还缺少控制中心程序。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gnome-control-center</span></span></code></pre>\n</div><p>此时可以自在的切换壁纸了。</p>\n<img src=\"/assets/image/104/011.png\">\n<p>但是在网络标签中还无法查看网络连接情况。</p>\n<h2>网络</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装网络管理，并启动服务，之后在设置中可以查看</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> networkmanager</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> enable</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> NetworkManager</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> systemctl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> start</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> NetworkManager</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 无线网驱动，通常有两种方式安装</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> linux-firmware</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 通用 linux 驱动</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 如果是博通网卡</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> broadcom-wl</span></span></code></pre>\n</div><h2>文件管理</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> nautilus</span></span></code></pre>\n</div><img src=\"/assets/image/104/012.png\">\n<h2>中文与输入法</h2>\n<div class=\"language-shell line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> fcitx-im</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                  # 安装输入法框架</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> fcitx-configtool</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">          # 安装配置模块</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> fcitx-googlepinyin</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        # 安装 google 输入法</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">vim</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/.xprofile</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                          # 添加输入法配置，之前使用 gome on xorg 登录才会有效</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">export</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> XIM</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">fcitx</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">export</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> XIM_PROGRAM</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">fcitx</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">export</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> GTK_IM_MODULE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">fcitx</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">export</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> QT_IM_MODULE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">fcitx</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">export</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> XMODIFIERS</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">@</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">im</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">fcitx</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> vim</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/locale.conf</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                # 添加中文支持，然后注销或重启生效</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LANG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">en_US.UTF-8</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LANG</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">zh_CN.UTF-8</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>至此，图形化界面和 gnome 美化部分已经完成。附上本机电脑的美化效果。后续操作还是建议多找找资料。</p>\n<img src=\"/assets/image/104/014.png\" width=\"800\">\n<img src=\"/assets/image/104/015.png\" width=\"800\">\n<h2>其他常用软件</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> electronic-wechat</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">       # 微信</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> linuxqq</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                 # qq</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> netease-cloud-music</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     # 网易云音乐</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pacman</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> gwenview</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                # 看图工具</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">yay</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> wps-office</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">                         # wps office</span></span></code></pre>\n</div>",
      "date_published": "2024-10-16T16:46:05.000Z",
      "date_modified": "2024-10-16T16:46:05.000Z",
      "authors": [],
      "tags": [
        "Arch"
      ]
    },
    {
      "title": "签名apk文件",
      "url": "https://vuepress-theme-hope.github.io/sign-apk.html",
      "id": "https://vuepress-theme-hope.github.io/sign-apk.html",
      "summary": "1. apksigner google 官方提供的 apk 文件签名工具。支持 V1 和 V2 签名规则。 V1是对 apk 中每个文件进行签名校验。使用 V1 规则的 apk 在解压之后二次打包压缩后可以安装。 V2是在 V1 的基础上，对 apk 文件进行校验。因此，使用 V2 规则的 apk 在解压之后二次打包压缩后无法安装。 因此，在签名时，只...",
      "content_html": "<h2>1. apksigner</h2>\n<p>google 官方提供的 apk 文件签名工具。支持 V1 和 V2 签名规则。</p>\n<ol>\n<li>V1是对 apk 中每个文件进行签名校验。使用 V1 规则的 apk  在解压之后二次打包压缩后可以安装。</li>\n<li>V2是在 V1 的基础上，对 apk 文件进行校验。因此，使用 V2 规则的 apk  在解压之后二次打包压缩后无法安装。</li>\n</ol>\n<p><strong>因此，在签名时，只能选择 V1 或 V1+V2,不能只选择 V2 。</strong></p>\n<h3>1.1. 签名</h3>\n<p>使用命令 <code>apksigner sign</code> 对 apk 文件进行签名。</p>\n<p>常用参数有：</p>\n<p><strong>--in</strong> 指定待签名 apk 文件的路径。<br><br>\n<strong>--out</strong> 指定签名后的 apk 文件路径。<strong>可以同 --in 一样，可以不用。</strong></p>\n<p><strong>可以在全部命令的最后指定待签名的 apk 路径。--in --out 即都指向该路径。</strong></p>\n<p><strong>--v1-signing-enabled</strong> 使用 true false 指定是否使用 v1 规则签名。<br><br>\n<strong>--v2-signing-enabled</strong> 使用 true false 指定是否使用 v2 规则签名。</p>\n<p><strong>--debuggable-apk-permitted</strong> 使用 true false 指定是否允许对测试 apk 文件进行签名，默认是允许。但是官方不建议使用生产签名文件对测试 apk 文件进行签名。</p>\n<p><strong>--ks</strong> 指定 keystore 的路径。<br><br>\n<strong>--ks-pass</strong> 指定 keystore 的密码。如： pass:password。 password 是签名文件密码。<br><br>\n<strong>--ks-key-alias</strong> 指定使用的签名文件别名，通常一个签名文件可以包含多个别名。签名文件中只包含一个别名时，可以不使用。<br><br>\n<strong>--key-pass</strong> 指定别名 key 的密码。如： pass:password。 password 是签名文件密码。</p>\n<p>以上是使用 keystore 对 apk 签名。apksigner 还支持更多种方式，如：私钥文件、JCA Providers 对 apk 签名。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">apksigner</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sign</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --ks</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> debug.keystore</span></span></code></pre>\n</div><h3>1.2. 校验</h3>\n<p>使用 <code>apksigner verify</code> 校验已签名的 apk 文件。包括查看签名方式和使用的证书信息。</p>\n<p>常用参数有：</p>\n<p><strong>-v</strong> 显示签名详情，是否使用 v1 、v2 签名。</p>\n<p><strong>--in</strong> 指定待校验的 apk 文件路径。当 apk 路径放在命令末尾时，此参数可以省略。</p>\n<p><strong>--print-certs</strong> 显示 apk 文件中包含的签名文件证书信息。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 示例 1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">apksigner</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> verify</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --in</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> app-release.apk</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -print-certs</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 示例 2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">apksigner</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> verify</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -print-certs</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> app-release.apk</span></span></code></pre>\n</div><h2>2. jarsigner</h2>\n<p>是 jdk 提供的对 jar 文件的签名工具。</p>\n<h3>2.1. 签名</h3>\n<p>使用命令 <code>jarsigner [options] jar-file alias</code> 对 apk 文件 签名 。其中 jar-file 对应 apk 文件路径，alias 对应 签名文件中的别名。 options 常用参数如下：</p>\n<p><strong>-keystore</strong> 指定使用的签名文件的路径。</p>\n<p><strong>-storepass</strong> 指定使用签名文件的密码。</p>\n<p><strong>-keypass</strong> 指定使用 alias 对应的密码。可以不使用，执行时手动输入。</p>\n<p><strong>-signedjar</strong> 指定签名后的 apk 的路径。</p>\n<p><strong>-verbose</strong> 输出详细的签名过程日志。</p>\n<p>由于没有指定被签名 apk 文件的路径和使用的签名文件别名的参数，因此需要将这两个参数放在命令的最后。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 示例，如需添加  -verbose，请放在test.apk之前</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">jarsigner</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -keystore</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keystore</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -storepass</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> password</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -signedjar</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> signed.apk</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.apk</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keyalias.</span></span></code></pre>\n</div><h3>2.2. 校验</h3>\n<p>使用命令  <code>jarsigner -verify [options] jar-file [alias...]</code></p>\n<p><strong>-verbose</strong> 输出详细的签名信息。<br>\n<strong>-certs</strong> 输出每个文件使用的签名证书。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">jarsigner</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -verify</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -verbose</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -certs</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> signed.apk</span></span></code></pre>\n</div><p>用上述命令只能检查 apk 中每个文件的签名情况，并不能获知使用的签名文件具体信息。建议使用 <code>apksigner</code> 命令或 <code>keytool</code> 命令。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">keytool</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -printcert</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -jarfile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.apk</span></span></code></pre>\n</div><h2>3. zipalign</h2>\n<p>是 zip 压缩包的一个对齐工具。对齐之后可以减少 app 运行时的内存消耗。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 对齐 apk 文件，并输出信息</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">zipalign</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> in.apk</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> out.apk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 检查 apk 文件的对齐信息</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">zipalign</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> out.apk</span></span></code></pre>\n</div><p><strong>由于 zipalign 命令是对 apk 文件进行修改，因此不适用于使用 V2 签名机制签名过的 apk 文件。因此建议先对齐，再签名。</strong></p>\n",
      "date_published": "2024-10-16T16:46:05.000Z",
      "date_modified": "2024-10-16T16:46:05.000Z",
      "authors": [],
      "tags": [
        "Android"
      ]
    },
    {
      "title": "从零构建Android工程",
      "url": "https://vuepress-theme-hope.github.io/start-android.html",
      "id": "https://vuepress-theme-hope.github.io/start-android.html",
      "summary": "1 新建工程目录 新建文件夹Demo，用AndroidStudio打开。 新建build.gradle文件，添加如下内容： 构建工程后如图： 自动生成的gradle文件夹及使用的gradle不建议修改。如想调降gradle版本，建议降低build插件版本。 2 新建主module目录 新建settings.gradle文件和app文件夹，并在setti...",
      "content_html": "<h2>1 新建工程目录</h2>\n<p>新建文件夹<code>Demo</code>，用<code>AndroidStudio</code>打开。</p>\n<img src=\"/assets/image/001/1.png\" width=\"250\">\n<p>新建<code>build.gradle</code>文件，添加如下内容：</p>\n<div class=\"language-gradle\" data-highlighter=\"shiki\" data-ext=\"gradle\" data-title=\"gradle\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>buildscript {</span></span>\n<span class=\"line\"><span>    repositories{</span></span>\n<span class=\"line\"><span>        jcenter()</span></span>\n<span class=\"line\"><span>        google()</span></span>\n<span class=\"line\"><span>    }</span></span>\n<span class=\"line\"><span>    dependencies{</span></span>\n<span class=\"line\"><span>        // 目前最新build插件版本 3.2.1</span></span>\n<span class=\"line\"><span>        classpath 'com.android.tools.build:gradle:3.2.1'</span></span>\n<span class=\"line\"><span>    }</span></span>\n<span class=\"line\"><span>}</span></span></code></pre>\n</div><p>构建工程后如图：</p>\n<img src=\"/assets/image/001/2.png\" width=\"250\">\n<p>自动生成的<code>gradle</code>文件夹及使用的<code>gradle</code>不建议修改。如想调降<code>gradle</code>版本，建议降低<code>build</code>插件版本。</p>\n<h2>2 新建主module目录</h2>\n<p>新建<code>settings.gradle</code>文件和<code>app</code>文件夹，并在<code>settings.gradle</code>文件中添加<code>include ':app'</code>,再次构建工程，<code>app</code>文件夹图标改变。</p>\n<p>构建前：<br><br>\n<img src=\"/assets/image/001/3.png\" width=\"250\"><br><br>\n构建后：<br><br>\n<img src=\"/assets/image/001/4.png\" width=\"250\"><br></p>\n<p>在<code>app</code>目录下新建<code>build.gradle</code>文件，并添加如下内容：</p>\n<div class=\"language-gradle\" data-highlighter=\"shiki\" data-ext=\"gradle\" data-title=\"gradle\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>apply plugin: 'com.android.application'</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>android{</span></span>\n<span class=\"line\"><span>    compileSdkVersion 28 //目前最新sdk 28</span></span>\n<span class=\"line\"><span>}</span></span></code></pre>\n</div><p>在<code>app</code>目录下新建 <code>src</code>、<code>src/main</code>文件夹,并在<code>main</code>文件夹中新建<code>AndroidManifest.xml</code>文件，添加如下内容：</p>\n<div class=\"language-xml\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;?</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">xml</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"1.0\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> encoding</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"UTF-8\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> ?&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"com.flueky.demo\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n</div><p>最后在工程<code>build.gradle</code>文件添加:</p>\n<div class=\"language-gradle line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"gradle\" data-title=\"gradle\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>buildscript {</span></span>\n<span class=\"line\"><span>    repositories{</span></span>\n<span class=\"line\"><span>        jcenter()</span></span>\n<span class=\"line\"><span>        google()</span></span>\n<span class=\"line\"><span>    }</span></span>\n<span class=\"line\"><span>    dependencies{</span></span>\n<span class=\"line\"><span>        classpath 'com.android.tools.build:gradle:3.2.1'</span></span>\n<span class=\"line\"><span>    }</span></span>\n<span class=\"line\"><span>}</span></span>\n<span class=\"line\"><span>// 以下是添加部分，定义全部工程的资源库</span></span>\n<span class=\"line\"><span>allprojects{</span></span>\n<span class=\"line\"><span>    repositories{</span></span>\n<span class=\"line\"><span>        jcenter()</span></span>\n<span class=\"line\"><span>        google()</span></span>\n<span class=\"line\"><span>    }</span></span>\n<span class=\"line\"><span>}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>出现图中标志时，表示项目已经构建完成。添加默认启动<code>Activity</code>即可去掉   号。</p>\n<p><img src=\"/assets/image/001/5.png\" width=\"200\"><br></p>\n<h2>3 添加启动Activity</h2>\n<ol>\n<li>在<code>app/src/main</code>目录下分别新建<code>java</code>和<code>res</code>文件夹。</li>\n<li>在<code>java</code>目录下创建包名：<code>com.flueky.demo</code>，并创建<code>MainActivity</code>类。</li>\n<li>在<code>res</code>目录加创建<code>layout</code>文件夹，并创建<code>activity_main.xml</code>布局。</li>\n<li>在<code>AndroidManifest.xml</code>文件注册<code>MainActivity</code>。</li>\n<li>给<code>MainActivity</code>添加启动<code>intent</code>。</li>\n</ol>\n<p>最终目录结构如图：<br><br>\n<img src=\"/assets/image/001/6.png\" width=\"250\"></p>\n<p><code>MainActivity</code>内容：<br></p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#C678DD\"> com.flueky.demo</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.app.Activity</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">import</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> android.os.Bundle</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> MainActivity</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Activity</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    protected</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onCreate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Bundle</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> savedInstanceState</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        super</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onCreate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(savedInstanceState);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        setContentView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">R</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">layout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">activity_main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n</div><p><code>activity_main.xml</code>内容：</p>\n<div class=\"language-xml\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;?</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">xml</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"1.0\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> encoding</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"UTF-8\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> ?&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> xmlns:android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"http://schemas.android.com/apk/res/android\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    android:layout_width</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"match_parent\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    android:layout_height</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"match_parent\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">TextView</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:layout_width</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"match_parent\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:layout_height</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"wrap_content\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">        android:text</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"Hello World\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">LinearLayout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n</div><p><code>AndroidManifest.xml</code>内容：</p>\n<div class=\"language-xml line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;?</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">xml</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"1.0\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> encoding</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"UTF-8\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> ?&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> xmlns:android</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"http://schemas.android.com/apk/res/android\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">    package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"com.flueky.demo\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">application</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">activity</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> android:name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\".MainActivity\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">intent-filter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">action</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> android:name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"android.intent.action.MAIN\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">                &lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">category</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> android:name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"android.intent.category.LAUNCHER\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">intent-filter</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">activity</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    &lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">application</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>运行结果如图：<br><br>\n<img src=\"/assets/image/001/7.png\" width=\"250\"></p>\n<h2>4 新建库module目录</h2>\n<p>新建<code>library</code>文件夹，并在<code>settings.gradle</code>文件中添加<code>include ':library'</code>，构建后如下，注意<code>library</code>文件夹的标志。</p>\n<img src=\"/assets/image/001/8.png\" width=\"250\">\n<p>同主<code>module</code>一样，创建<code>AndroidManifest.xml</code>文件和<code>build.gradle</code>文件。</p>\n<p>编辑<code>AndroidManifest.xml</code>文件：</p>\n<div class=\"language-xml\" data-highlighter=\"shiki\" data-ext=\"xml\" data-title=\"xml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;?</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">xml</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"1.0\"</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> encoding</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"UTF-8\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> ?&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> package</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"com.flueky.library\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&lt;/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">manifest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">&gt;</span></span></code></pre>\n</div><p>编辑<code>build.gradle</code>文件：</p>\n<div class=\"language-gradle\" data-highlighter=\"shiki\" data-ext=\"gradle\" data-title=\"gradle\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>apply plugin: 'com.android.library'</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>android {</span></span>\n<span class=\"line\"><span>    compileSdkVersion 28</span></span>\n<span class=\"line\"><span>}</span></span></code></pre>\n</div><p>在主<code>module</code>文件中，添加下面的代码进行关联。</p>\n<pre><code>implementation project(':library')\n</code></pre>\n<h2>5 结束语</h2>\n<p><code>AndroidStudio</code>自带的创建项目功能，做的很好。能够帮助初学者最快速度的创建<code>Android</code>工程，编写此篇博客的目的在于，能够帮助初学者们更好的了解<code>Android</code>项目工程结构。最后，将此篇博客献给测试小伙伴们。你们距离程序猿，只差面向对象编程了。</p>\n",
      "date_published": "2024-10-16T16:46:05.000Z",
      "date_modified": "2024-10-16T16:46:05.000Z",
      "authors": [],
      "tags": [
        "Android",
        "开发工具"
      ]
    },
    {
      "title": "使用PlantUML绘制类图",
      "url": "https://vuepress-theme-hope.github.io/plantuml.html",
      "id": "https://vuepress-theme-hope.github.io/plantuml.html",
      "summary": "本文基于sublime的PlantUML插件绘制类图。如需了解插件安装，请点击Sublime安装PlantUML插件",
      "content_html": "<p>本文基于sublime的PlantUML插件绘制类图。如需了解插件安装，请点击<a href=\"sublime-plantuml\">Sublime安装PlantUML插件</a></p>\n<!-- more -->\n<h2>1 类的UML表示</h2>\n<p>使用UML表示一个类，主要由三部分组成。<code>类名</code>、<code>属性</code>、<code>方法</code>。其中<code>属性</code>和<code>方法</code>的访问修饰符用 <code>-</code> 、<code>#</code> 、<code>+</code> 表示 <code>private</code>、<code>protected</code>、<code>public</code>。</p>\n<img src=\"/assets/image/005/1.png\" width=\"200\">\n<p>如图所示，表示<code>A</code>类有一个<code>private</code>属性，<code>protected</code> 构造函数和<code>public</code>方法。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A{</span></span>\n<span class=\"line\"><span>\t- String field</span></span>\n<span class=\"line\"><span>\t+ A()</span></span>\n<span class=\"line\"><span>\t# void method()</span></span>\n<span class=\"line\"><span>}</span></span>\n<span class=\"line\"><span>note right: 这是测试类 A</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><h2>2 类的关系</h2>\n<p>在面向对象语言中，类的关系有很多种，可以概括为三类：<code>泛化</code>、<code>依赖</code>、<code>关联</code>。</p>\n<h3>2.1 泛化</h3>\n<p>泛化指父类跟子类的关系,表示<code>is-a</code>的关系。如父类是抽象类或普通类，则这种关系叫继承。如，父类是接口，则这种关系叫实现。UML中，继承和实现由不同的标记表示。</p>\n<h4>2.1.1 继承</h4>\n<p>PlantUML用 <code>--|&gt;</code> 表示继承关系。实线和三角形的抽象表示，指向谁，即继承谁。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    class A</span></span>\n<span class=\"line\"><span>    abstract B</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    ' A 继承 B</span></span>\n<span class=\"line\"><span>    A --|&gt; B</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/2.png\" width=\"60\">\n<h4>2.1.2 实现</h4>\n<p>PlantUML用 <code>..|&gt;</code> 表示实现关系。虚和三角形的抽象表示，指向谁，即实现谁。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    class A</span></span>\n<span class=\"line\"><span>    interface C</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    ' A 实现 C</span></span>\n<span class=\"line\"><span>    A ..|&gt; C</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/3.png\" width=\"60\">\n<h3>2.2 依赖</h3>\n<p>类之间，最弱的关联方式。常用于在A类的方法中使用B类的对象作为参数、局部变量或者对B类静态方法的调用。</p>\n<p>PlantUML用 <code>..&gt;</code> 表示依赖关系。虚线和箭头的抽象表示，指向谁，即依赖谁。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    class A</span></span>\n<span class=\"line\"><span>    class B</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    ' A 依赖 B</span></span>\n<span class=\"line\"><span>    A ..&gt; B</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/4.png\" width=\"60\">\n<h3>2.3 关联</h3>\n<p>关联关系，即对象之间的引用关系。常使用类的属性表达。</p>\n<h4>2.3.1 单向关联</h4>\n<p>B类作为A类的属性，表示A类与B类有关联。<br>\nPlantUML用 <code>--&gt;</code> 表示单向关联。实线线和箭头的抽象表示，指向谁，即关联谁。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\tclass A{</span></span>\n<span class=\"line\"><span>\t\t- B b</span></span>\n<span class=\"line\"><span>\t}</span></span>\n<span class=\"line\"><span>\tclass B</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\t' A 关联 B</span></span>\n<span class=\"line\"><span>\tA --&gt; B</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/5.png\" width=\"60\">\n<h4>2.3.2 双向关联</h4>\n<p>B类作为A类的属性同时，A类也是B类的属性，表示双向关联。<br>\nPlantUML用 <code>--</code> 表示双向关联。或者用<code>&lt;--&gt;</code>。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\tclass A{</span></span>\n<span class=\"line\"><span>\t\t- B b</span></span>\n<span class=\"line\"><span>\t}</span></span>\n<span class=\"line\"><span>\tclass B{</span></span>\n<span class=\"line\"><span>\t\t- A a</span></span>\n<span class=\"line\"><span>\t}</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\t' A 关联 B</span></span>\n<span class=\"line\"><span>\tA -- B</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/6.png\" width=\"60\">\n<h4>2.3.3 自关联</h4>\n<p>A类关联A类自身。常见于单例模式。</p>\n<img src=\"/assets/image/005/7.png\" width=\"100\">\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\tclass A{</span></span>\n<span class=\"line\"><span>\t\t- A a</span></span>\n<span class=\"line\"><span>\t}</span></span>\n<span class=\"line\"><span>\t</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\t' A 关联 A</span></span>\n<span class=\"line\"><span>\tA --&gt; A</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><h4>2.3.4 聚合</h4>\n<p>在关联关系的基础上，延伸出聚合关系，强的关联关系，表示<code>has-a</code>关系。整体与部分的关系，部分不依赖于整体，可独立存在。常用于成员变量。</p>\n<p>如；汽车和轮胎的关系，轮胎可作为独立的商品出售。</p>\n<p>PlantUML用 <code>o--</code> 表示聚合关系。实线和空心菱形的抽象表示，指向谁，表示谁是整体。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\tclass Car{</span></span>\n<span class=\"line\"><span>\t\t- List&lt;Wheel&gt; wheels</span></span>\n<span class=\"line\"><span>\t}</span></span>\n<span class=\"line\"><span>\tclass Wheel</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\t' Car 关联 Wheel</span></span>\n<span class=\"line\"><span>\tCar \"1\" o-- \"4\" Wheel</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/8.png\" width=\"180\">\n<p>图中数字<code>1</code>和<code>4</code>也表示一对多关联。<code>N</code>对<code>N</code>同理。</p>\n<h4>2.3.5 组合</h4>\n<p>在关联关系的基础上，延伸出另外一种关联关系，组合关系，表示<code>contains-a</code>关系。整体与部分的关系，部分依赖于整体，不可独立存在。常用于成员变量。</p>\n<p>如：身体和动作的关系。</p>\n<p>PlantUML用 <code>*--</code> 表示聚合关系。实线和实心菱形的抽象表示，指向谁，表示谁是整体。</p>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\tclass Body{</span></span>\n<span class=\"line\"><span>\t\t- List&lt;Action&gt; actions</span></span>\n<span class=\"line\"><span>\t}</span></span>\n<span class=\"line\"><span>\tclass Action</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>\t' Body 关联 Action</span></span>\n<span class=\"line\"><span>\tBody \"1\" *-- \"N\" Action</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/9.png\" width=\"180\">\n<h2>3 PlantUML排版</h2>\n<p>相比较其他的UML软件或插件。PlantUML的优势在于，存储的是文本文件，可以方便的进行团队协作以及高度可定制化的依赖关系。但是，最大的缺点在于，排版是通过插件自动生成的，排版效果不尽人意。因此，PlantUML提供四个关键字 <code>up</code> <code>down</code> <code>left</code> <code>right</code>。指定类与类之间的相对关系。</p>\n<h3>3.1 default</h3>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A1</span></span>\n<span class=\"line\"><span>class B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>A1 --&gt; B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A2</span></span>\n<span class=\"line\"><span>class B2</span></span>\n<span class=\"line\"><span>A2 &lt;-- B2</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/10.png\" width=\"180\">\n<p>箭头向左时，被指向对象在上；<br>\n箭头向右时，被指向对象在下。</p>\n<h3>3.2 up</h3>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A1</span></span>\n<span class=\"line\"><span>class B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>A1 -up-&gt; B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A2</span></span>\n<span class=\"line\"><span>class B2</span></span>\n<span class=\"line\"><span>A2 &lt;-up- B2</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/11.png\" width=\"180\">\n<p>使用up时，被指向对象在上。</p>\n<h3>3.3 down</h3>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A1</span></span>\n<span class=\"line\"><span>class B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>A1 -down-&gt; B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A2</span></span>\n<span class=\"line\"><span>class B2</span></span>\n<span class=\"line\"><span>A2 &lt;-down- B2</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/12.png\" width=\"180\">\n<p>使用down时，被指向对象在下。</p>\n<h3>3.4 left</h3>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A1</span></span>\n<span class=\"line\"><span>class B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>A1 -left-&gt; B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A2</span></span>\n<span class=\"line\"><span>class B2</span></span>\n<span class=\"line\"><span>A2 &lt;-left- B2</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><p>使用left时，被指向对象在左。</p>\n<img src=\"/assets/image/005/13.png\" width=\"350\">\n<h3>3.5 right</h3>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A1</span></span>\n<span class=\"line\"><span>class B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>A1 -right-&gt; B1</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A2</span></span>\n<span class=\"line\"><span>class B2</span></span>\n<span class=\"line\"><span>A2 &lt;-right- B2</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><img src=\"/assets/image/005/14.png\" width=\"350\">\n<p>使用right时，被指向对象在右。</p>\n<h2>4 总结</h2>\n<p>画类图，只是PlantUML的功能之一，还可以使用它画用例图、顺序图、活动图。更多用法，请关注后续博客或<a href=\"http://plantuml.com/\" target=\"_blank\" rel=\"noopener noreferrer\">访问官网</a>。</p>\n",
      "date_published": "2024-10-16T14:32:21.000Z",
      "date_modified": "2024-10-16T14:32:21.000Z",
      "authors": [],
      "tags": [
        "开发工具"
      ]
    },
    {
      "title": "Sublime安装PlantUML插件",
      "url": "https://vuepress-theme-hope.github.io/sublime-plantuml.html",
      "id": "https://vuepress-theme-hope.github.io/sublime-plantuml.html",
      "summary": "1 安装 graphviz Graphviz的是AT&T Labs Research开发的图形绘制工具,他可以很方便的用来绘制结构化的图形网络,支持多种格式输出,生成图片的质量和速度都不错。（摘自百度百科） Mac 安装 graphviz只需一条命令。 2 安装Sublime Text 笔者使用的文本编辑工具比较多。VScode、Atom、Sublim...",
      "content_html": "<h2>1 安装 graphviz</h2>\n<p>Graphviz的是AT&amp;T Labs Research开发的图形绘制工具,他可以很方便的用来绘制结构化的图形网络,支持多种格式输出,生成图片的质量和速度都不错。（摘自<a href=\"https://baike.baidu.com/item/Graphviz/2314699\" target=\"_blank\" rel=\"noopener noreferrer\">百度百科</a>）</p>\n<p>Mac 安装 <code>graphviz</code>只需一条命令。</p>\n<pre><code>brew install graphviz\n</code></pre>\n<h2>2 安装Sublime Text</h2>\n<p>笔者使用的文本编辑工具比较多。<code>VScode</code>、<code>Atom</code>、<code>Sublime</code>、<code>UltraEdit</code>。其实都没有掌握太高深的用法，只觉得哪个好用就用哪个。</p>\n<p>下载地址见<a href=\"http://www.sublimetext.com/\" target=\"_blank\" rel=\"noopener noreferrer\">官网</a>。</p>\n<h2>3 安装PlantUml</h2>\n<p>这其实是一个支持安装<code>Sublime</code>的插件,支持<code>VScode</code>等其他文本编辑工具。</p>\n<p>打开<code>Package Control</code>，输入<code>install</code></p>\n<img src=\"/assets/image/004/1.png\" width=\"300\">\n<p>选中<code>Install Package</code>后，在新页面输入<code>plantuml</code>。</p>\n<img src=\"/assets/image/004/2.png\" width=\"350\">\n<p>点击<code>PlantUMLDiagrams</code>进行安装。</p>\n<h2>4 配置快捷键</h2>\n<p>安装后，配置好快捷键，按照图中步骤，配置默认快捷键。</p>\n<img src=\"/assets/image/004/3.png\" width=\"450\">\n<p>粘贴以下内容，将可以使用<code>command+m</code>快捷键显示UML图片。</p>\n<pre><code>[ \n{\"keys\": [\"super+m\"], \"command\": \"display_diagrams\"}\n]\n</code></pre>\n<h2>5 添加依赖jar</h2>\n<p>切记，最后一步，需要指定<code>plantuml.jar</code>，不然将生成不了最终的UML效果图片。</p>\n<p>并提示:<strong></strong></p>\n<img src=\"/assets/image/004/5.png\" width=\"450\">\n<p>plantuml.jar<a href=\"https://download.csdn.net/download/flueky/10828200\" target=\"_blank\" rel=\"noopener noreferrer\">下载地址</a>。</p>\n<p>将下载下来的jar文件复制到**Application Support/Sublime Text 3/Packages/PlantUmlDiagrams/diagram/**目录下</p>\n<img src=\"/assets/image/004/6.png\" width=\"450\">\n<h2>6 设置语法高亮</h2>\n<p>在页面右下角，选择需要高亮的语法，推荐PlantUmlDiagrams-&gt;Diagram。</p>\n<img src=\"/assets/image/004/4.png\" width=\"450\">\n<h2>7 验证</h2>\n<div class=\"language-uml\" data-highlighter=\"shiki\" data-ext=\"uml\" data-title=\"uml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>@startuml</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>class A</span></span>\n<span class=\"line\"><span>note right: 这是测试类 A</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>@enduml</span></span></code></pre>\n</div><p>复制上面的内容，command+m生成下面的图片。</p>\n<img src=\"/assets/image/004/7.png\" width=\"200\">\n<p>*注：<strong>针对中文乱码的情况，可以添加utf-8编码支持。</strong></p>\n<img src=\"/assets/image/004/8.png\" width=\"300\">\n<p>修改标记的文件最后一行<code>\"charset\": null</code> 为 <code>\"charset\": \"UTF-8\"</code>。</p>\n",
      "date_published": "2024-10-16T14:32:21.000Z",
      "date_modified": "2024-10-16T14:32:21.000Z",
      "authors": [],
      "tags": [
        "开发工具"
      ]
    },
    {
      "title": "搭建个人知识库",
      "url": "https://vuepress-theme-hope.github.io/build-blog.html",
      "id": "https://vuepress-theme-hope.github.io/build-blog.html",
      "summary": "个人知识库，可以是一个只包含静态页面的网站。作为新手，不需要买域名以及服务器。GitHub Pages 就够用了。",
      "content_html": "<p>个人知识库，可以是一个只包含静态页面的网站。作为新手，不需要买域名以及服务器。<a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Pages</a> 就够用了。</p>\n<!-- more -->\n<h2>准备工作</h2>\n<p>基于 GitHub Pages 搭建知识库网站，需要基于一些主流的平台与框架编译，用 Markdown 编写文件内容。因此需要做如下准备。</p>\n<ul>\n<li>安装 git</li>\n<li>安装 nodejs</li>\n<li>熟练编写 md 文件</li>\n</ul>\n<h2>安装 git</h2>\n<p><a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://git-scm.com/</a></p>\n<h2>安装 Node.js</h2>\n<p><a href=\"https://nodejs.org/zh-cn\" target=\"_blank\" rel=\"noopener noreferrer\">Node.js</a> 版本较多，遇到兼容性要求时，对不同版本管理不太友好。建议使用 NVM 。</p>\n<h3>Windows</h3>\n<p><a href=\"https://github.com/coreybutler/nvm-windows\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub 地址</a></p>\n<p>下载 <a href=\"https://github.com/coreybutler/nvm-windows/releases\" target=\"_blank\" rel=\"noopener noreferrer\">最新版本</a>， 直接解压安装即可。</p>\n<p>查询 <a href=\"https://nodejs.org/zh-cn/download/prebuilt-installer\" target=\"_blank\" rel=\"noopener noreferrer\">最新版本 Node.js</a></p>\n<div class=\"language-cmd\" data-highlighter=\"shiki\" data-ext=\"cmd\" data-title=\"cmd\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">nvm install </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">20.18.0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> # 当前最新版本</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">nvm list # 查看已安装版本</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">nvm use </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">20.18.0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> # 选择需要的版本</span></span></code></pre>\n</div><h3>Mac/Linux</h3>\n<p><a href=\"https://github.com/nvm-sh/nvm\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub 地址</a></p>\n<p>安装命令如下：</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 使用 curl</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">curl</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -o-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">bash</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 使用 wget</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">wget</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -qO-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">bash</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nvm</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-remote</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看最新版本号，建议选择 LTS</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nvm</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> install</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 20.18.0</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 当前最新版本</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nvm</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> list</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看已安装版本</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nvm</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> use</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 20.18.0</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 选择需要的版本</span></span></code></pre>\n</div><h2>Markdown</h2>\n<p>Markdown 语法，支持快速排版内容。入门较简单，参考<a href=\"markdown\">文档</a>。除了基本的 Markdown 语法，还支持 Vuepress 支持的高级功能。如：数学公式，图表以及脑图。</p>\n<h2>Hexo</h2>\n<p><a href=\"https://hexo.io/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">Hexo</a> 是快速简洁且高效的博客框架。需要搭配合适 <a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener noreferrer\">主题</a> 使用。</p>\n<p>推荐主题 <a href=\"https://github.com/jerryc127/hexo-theme-butterfly\" target=\"_blank\" rel=\"noopener noreferrer\">hexo-theme-butterfly</a> 。</p>\n<p>也可参照之前写的<a href=\"hexo-basic\">文档</a> 。</p>\n<h2>Vuepress</h2>\n<p><a href=\"https://vuepress.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener noreferrer\">Vuepress</a> 是 Vue 驱动的静态网站生成器。</p>\n<p>推荐主题 <a href=\"https://theme-hope.vuejs.press/\" target=\"_blank\" rel=\"noopener noreferrer\">Vuepress Theme Hope</a> 。</p>\n",
      "date_published": "2024-10-15T14:52:51.000Z",
      "date_modified": "2024-10-16T03:48:15.000Z",
      "authors": [],
      "tags": [
        "Note"
      ]
    },
    {
      "title": "Hexo 建站手札——进阶",
      "url": "https://vuepress-theme-hope.github.io/hexo-advanced.html",
      "id": "https://vuepress-theme-hope.github.io/hexo-advanced.html",
      "summary": "基础篇 讲到了如何使用 Hexo 建站。包括基本命令使用及获取到源码之后的一些简单工程配置。",
      "content_html": "<p><a href=\"hexo-basic\">基础篇</a> 讲到了如何使用 <strong>Hexo</strong> 建站。包括基本命令使用及获取到源码之后的一些简单工程配置。</p>\n<!-- more -->\n<p>下面将介绍，如何给博客添加  <strong>评论</strong>、<strong>背景音乐</strong>、<strong>点击特效</strong>、<strong>字数统计</strong>等功能。</p>\n<p>文章内容多数内容皆来自于<strong>TRHX</strong> 的文章<a href=\"https://www.itrhx.com/2018/08/27/A04-Hexo-blog-topic-personalization/\" target=\"_blank\" rel=\"noopener noreferrer\">Hexo 博客主题个性化</a>。</p>\n<p><strong>友情提示，本文篇幅太长，建议结合目录选择性的浏览。</strong></p>\n<h2>1. 添加评论</h2>\n<p><strong>material-x</strong> 主题已经集成了四个评论系统。暂时只介绍用过的两个。</p>\n<h3>1.1 使用 valineS</h3>\n<p>首先需要在 <a href=\"https://leancloud.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">leancloud</a> 上注册应用。在控制台中，点开注册的应用查看 <code>AppID</code> 和 <code>AppKey</code>。</p>\n<img src=\"/assets/image/027/1.png\" width=\"500\">\n<p>在主题配置文件中</p>\n<div class=\"language-yaml line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">#valine配置</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">valine</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  enable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">true</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 如果你想用Valine评论系统，请设置enable为true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  volantis</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">true</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 是否启用volantis版本（禁止匿名，增加若干贴吧、QQ表情）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 还需要在根目录配置文件中添加下面这三行内容</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # leancloud:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  #   app_id: 你的appId</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  #   app_key: 你的appKey</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  guest_info</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">nick,mail,link</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> #valine comment header info</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  placeholder</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">快来评论吧~</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # valine comment input placeholder(like: Please leave your footprints )</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  avatar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">mp</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # gravatar style https://valine.js.org/avatar</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  pageSize</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # comment list page size</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  verify</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">true</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # valine verify code (true/false)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  notify</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">true</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # valine mail notify (true/false)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  lang</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">zh-cn</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  highlight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">true</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>在博客配置文件中</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">leancloud</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  app_id</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">你的appId</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  app_key</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">你的appKey</span></span></code></pre>\n</div><p>配置完成后，在文章底部出现评论界面。</p>\n<img src=\"/assets/image/027/2.png\" width=\"600\">\n<p>评论效果支持 Markdown 语法。</p>\n<img src=\"/assets/image/027/3.png\" width=\"550\">\n<p>评论内容可以在  <a href=\"https://leancloud.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">leancloud</a> 控制台中管理。</p>\n<img src=\"/assets/image/027/4.png\" width=\"800\">\n<h3>1.2 使用 gitalk</h3>\n<p>首先需要在  <strong>GitHub</strong> 中创建一个授权应用。此应用在访客评论时使用  <strong>GitHub</strong>  账户登录，进行授权。</p>\n<p>创建授权应用地址：<a href=\"https://github.com/settings/applications/new\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/settings/applications/new</a>，亦可以在 <strong>GitHub</strong>  中通过 <code>Settings -&gt; Developer settings -&gt; OAuth Apps -&gt;New Auth App</code> 访问 。</p>\n<img src=\"/assets/image/027/5.png\" width=\"600\">\n<p>需要填写四条信息，以我的应用为例：</p>\n<img src=\"/assets/image/027/6.png\" width=\"400\">\n<ol>\n<li>应用名称，授权时告知用户是哪个应用使用  <strong>GitHub</strong> 账户。</li>\n<li>应用主页，使用博客站点主页 ，也可以换别的。</li>\n<li>应用描述。</li>\n<li>授权通过后的跳转页面。</li>\n</ol>\n<p>授权页面如图：</p>\n<img src=\"/assets/image/027/7.png\" width=\"400\">\n<p>在应用中查看 <code>Client ID</code> 和 <code>Client Secret</code> 。</p>\n<img src=\"/assets/image/027/8.png\" width=\"400\">\n<p>最后在博客配置文件中</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">gitalk</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  clientID</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">你的clientID</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  clientSecret</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">你的clientSecret</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  repo</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">你的repo名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  owner</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">你的GitHub名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  admin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: [] </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">至少填写你的GitHub名</span></span></code></pre>\n</div><p>由于，gitalk 的评论方式是通过对 repo 提 issues 的方式。因此上面的 <code>repo</code> 即是查看 issues 的仓库地址。</p>\n<p>评论界面如下：</p>\n<img src=\"/assets/image/027/9.png\" width=\"400\">\n<p>在 issues 管理，通过<strong>最近更新</strong>的排序方式，查看最新的评论。</p>\n<img src=\"/assets/image/027/10.png\" width=\"600\">\n<p>可以直接在 issues 中直接回复。这样的好处是，只要查看 issues 就可以知道有新的评论，便于实时互动。<strong>GitHub还会通过发送邮件的方式告知有新的  issues</strong>。</p>\n<img src=\"/assets/image/027/11.png\" width=\"600\">\n<h2>2.  添加BGM</h2>\n<p>在主题的配置文件中:</p>\n<div class=\"language-yaml line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">############################### 默认值 ###############################</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 音乐控件的默认配置，如果sidebar或者page里没有提供，就取这里的参数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">music</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  enable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">true</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">      # 是否启用</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  color</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'#1BCDFC'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 主题色</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  mode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">circulation</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # random （随机） single （单曲） circulation （列表循环） order （列表）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  server</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">netease</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">   # netease（网易云音乐）tencent（QQ音乐） xiami（虾米） kugou（酷狗）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">playlist</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # song （单曲） album （专辑） playlist （歌单） search （搜索）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  id</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">2615636388</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 歌曲/专辑/歌单 ID</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  volume</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0.7</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">       # 音量, 0~1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  autoplay</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">false</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">   # 自动播放</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># sidebar 配置  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">sidebar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  - </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">widget</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">music</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    icon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">fas fa-compact-disc</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    title</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"最近在听\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    more</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      icon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">far fa-heart</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      url</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">https://music.163.com/#/user/home?id=63035382</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      rel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">external nofollow noopener noreferrer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      target</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">_blank</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    server</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">netease</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">   # netease（网易云音乐）tencent（QQ音乐） xiami（虾米） kugou（酷狗）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    type</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">playlist</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # song （单曲） album （专辑） playlist （歌单） search （搜索）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    id</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">2615636388</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     # 歌曲/专辑/歌单 ID</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>还要在 layout 中配置是否显示在侧边栏。</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">layout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 文章列表（主页、自定义的列表）布局</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  posts</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 列表类页面的侧边栏,显示 music 部件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    sidebar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: [</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">author</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">list</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">grid</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">music</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">category</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">tagcloud</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 文章页面布局</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  article</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    # 文章页面的侧边栏，不显示 music 部件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    sidebar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: [</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">author</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">toc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">grid</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">category</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">tagcloud</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">list</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">related_posts</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 其他的页面布局暂时等于文章列表</span></span></code></pre>\n</div><img src=\"/assets/image/027/12.png\" width=\"250\">\n<p>在文章 <code>md</code> 文件中：</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># page中配置，用于文章标题</span></span></code></pre>\n</div>",
      "date_published": "2019-11-03T00:00:00.000Z",
      "date_modified": "2024-10-15T13:41:58.000Z",
      "authors": [],
      "tags": [
        "Hexo"
      ]
    },
    {
      "title": "Hexo 建站手札——基础",
      "url": "https://vuepress-theme-hope.github.io/hexo-basic.html",
      "id": "https://vuepress-theme-hope.github.io/hexo-basic.html",
      "summary": "2016 年 2 月，写了工作中第一篇博客。至今快 4 年时间，写了几十篇文章，也使用过几个平台。 CSDN 一直在用，上面有着几乎全部的文章。传送门 掘金 这两年掘金顺势崛起，也在上面同步过数篇博客。传送门",
      "content_html": "<p>2016 年 2 月，写了工作中第一篇博客。至今快 4 年时间，写了几十篇文章，也使用过几个平台。</p>\n<ol>\n<li><strong>CSDN</strong> 一直在用，上面有着几乎全部的文章。<a href=\"https://blog.csdn.net/flueky\" target=\"_blank\" rel=\"noopener noreferrer\">传送门</a></li>\n<li><strong>掘金</strong> 这两年掘金顺势崛起，也在上面同步过数篇博客。<a href=\"https://juejin.im/user/5a97e5df518825558358a1bd\" target=\"_blank\" rel=\"noopener noreferrer\">传送门</a></li>\n</ol>\n<!-- more -->\n<p>直到接触到 <strong>jekyll</strong> 、 <strong>Hexo</strong> 这样的博客生成工具。前者使用一年，没多研究其扩展功能。本文将介绍使用 <strong>Hexo</strong> 建站的步骤。</p>\n<p>本文适用于初学者，如果您已具备 Hexo 建站技能，需要丰富下网页的功能，请参阅<a href=\"hexo-advanced\">进阶篇</a>。</p>\n<h2>1. 准备工作</h2>\n<p>万事开头难，建站也是需要做一些准备的。</p>\n<ul>\n<li>搭建 <strong>Hexo</strong> 环境。</li>\n<li>熟悉用 <strong>MarkDown</strong> 写作。</li>\n<li>代码托管平台。</li>\n</ul>\n<ol>\n<li>使用 <strong>Hexo</strong> 建站，建议参照<a href=\"https://hexo.io/zh-cn/docs/\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a>。</li>\n<li>如果您还在使用 html 排版的方式，只能说 out 了。使用 md 写作，快速排版，实时对比。</li>\n<li>将文章存放在 GitHub 或 GitLab 等这样的开源平台，或者购买域名服务器。</li>\n</ol>\n<p>建议前期使用开源平台，因为<strong>免费</strong>，入门简单。甚至不需要编码基础。</p>\n<h3>1.1 创建仓库</h3>\n<ol>\n<li>注册 <strong>GitHub</strong> 。假如用户名是 <code>flueky</code> ,那么你的 <strong>GitHub</strong> 主页地址是 <a href=\"https://github.com/flueky\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/flueky</a>。</li>\n<li>创建仓库，必须名字是 <strong><a href=\"http://flueky.github.io\" target=\"_blank\" rel=\"noopener noreferrer\">flueky.github.io</a></strong> ,其中 <code>flueky</code> 替换成你自己的 <strong>GitHub</strong> 账户名字。即，创建完后，仓库地址是 <a href=\"https://github.com/flueky/flueky.github.io\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/flueky/flueky.github.io</a>。</li>\n</ol>\n<p>将此仓库作为博客主页后 ，可以直接使用域名 <a href=\"https://flueky.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">https://flueky.github.io/</a> 访问 。</p>\n<p>主题来自于 <a href=\"https://xaoxuu.com/\" target=\"_blank\" rel=\"noopener noreferrer\">xaoxuu</a> 的 <strong>matrial x</strong> 。</p>\n<h2>2. Hexo 常用命令</h2>\n<h3>2.1 创建目录</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 创建 blog 目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> init</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blog</span></span></code></pre>\n</div><p>下面的命令，如无特殊说明，都是在 <strong>blog</strong> 目录下执行。</p>\n<h3>2.2 启动服务</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 默认启动参数，访问地址：http://127.0.0.1:4000</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> server</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 使用指定端口，用在端口冲突的情况下 访问地址：http://127.0.0.1:4001</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> server</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -p</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4001</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 带草稿箱文件启动</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> server</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --draft</span></span></code></pre>\n</div><h3>2.3 部署博客</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 在配置好站点后，将博客文件推送至站点</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> deploy</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 清楚生成文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> clean</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 通常使用下面的方式合用两条命令</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> clean</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &amp;&amp; </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">hexo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> deploy</span></span></code></pre>\n</div><h2>3.  初始化博客</h2>\n<p>正确搭建好 <strong>Hexo</strong> 环境后，可以使用 <code>init</code> 命令完成博客目录创建。</p>\n<p><code>init</code> 命令完成后，启动服务见到下面的页面表示成功。</p>\n<img src=\"/assets/image/026/1.png\" width=\"800\">\n<p>文件列表如下，<strong>未列出的皆为命令生成的文件，无须添加到版本控制工具中</strong>。</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 博客文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">├── _config.yml</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 博客配置文件，可修改大多数配置，需要重启服务。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">├── package.json</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 程序配置文件。无须修改。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">├── scaffolds</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 模板目录，使用 hexo new 命令新建博客文件时使用。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">├── source</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 博客资源文件，存放博客文本和图片。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">│   └── _drafts</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # drafts (草稿箱目录)，使用  hexo publish 命令移动到 _posts 目录。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">│   └── _posts</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # post 目录，部署时直接部署此目录的博客文本。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">└── themes</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 所有主题都存放在此目录下。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">    └── landscape</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> #主题</span></span></code></pre>\n</div><p>使用主题 <strong>material-x</strong>。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 在 blog 目录中执行，获取主题源码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> clone</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> https://github.com/xaoxuu/hexo-theme-material-x</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> themes/material-x</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 安装相关依赖包</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">npm</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> i</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> hexo-generator-search</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> hexo-generator-json-content</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> hexo-renderer-less</span></span></code></pre>\n</div><p>或者直接使用 <strong>xaoxuu</strong> 或 <strong>flueky</strong> 整理好的 demo 。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 获取 xaoxuu 源码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> clone</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> https://github.com/xaoxuu/blog-example</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blog</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 获取 flueky 源码，可以使用其它版本，具体见说明</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> clone</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --branch</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> v0.0.2</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> https://github.com/flueky/hexo-blog.git</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 在 blog 目录中执行，安装 hexo 有关文件后方可使用 hexo 命令</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">npm</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> install</span></span></code></pre>\n</div><p>在博客配置文件 <code>_config.yml</code> 中切换主题。</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># theme: landscape # 注释旧主题</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">theme</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">material-x</span></span></code></pre>\n</div><p>再次启动服务见到下面的页面表示成功。</p>\n<img src=\"/assets/image/026/2.png\" width=\"800\">\n<h2>4. 个性化配置</h2>\n<p>以下配置 ，均是基于  <code>material-x</code> 主题。</p>\n<h3>4.1 修改站点 logo 和 标题</h3>\n<p>修改前：</p>\n<img src=\"/assets/image/026/3.png\" width=\"200\">\n<p>修改博客配置文件 <code>_config.yml</code>。</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># Site</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 站点名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">title</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">Flukey 小站</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 站点图标</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">favicon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">pic/user_icon.png</span></span></code></pre>\n</div><p>修改后：</p>\n<img src=\"/assets/image/026/4.png\" width=\"200\">\n<h3>4.2 修改主页标题</h3>\n<p>修改前：</p>\n<img src=\"/assets/image/026/5.png\" width=\"350\">\n<p>修改主题配置文件 <code>_config.yml</code>。</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># page的封面</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">cover</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  title</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">FLUEKY</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 不设置 ，默认显示站点的标题。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # logo: assets/logo.png    # logo和title只显示一个，若同时设置，则只显示logo</span></span></code></pre>\n</div><img src=\"/assets/image/026/6.png\" width=\"350\">\n<h3>4.3 修改用户LOGO</h3>\n<p>修改前：</p>\n<img src=\"/assets/image/026/7.png\" width=\"300\">\n<p>修改主题配置文件 <code>_config.yml</code>。</p>\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 侧边栏小部件配置</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">sidebar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  - </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">widget</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">author</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    avatar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">pic/user_icon.png</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 此处替换 logo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    social</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">true</span></span></code></pre>\n</div><img src=\"/assets/image/026/8.png\" width=\"300\">\n<h3>4.4 修改作者信息</h3>\n<img src=\"/assets/image/026/10.png\" width=\"300\">\n<div class=\"language-yaml\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># Site</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 作者名称</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">author</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">Flueky</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 作者图标，使用相对路径时，需要关注文章实际生成的目录。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 此路径在文章中使用，但是pic文件夹在source目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 如果更改了 permalink ，下面的路径需要做修改。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">avatar</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">/assets/image/img/user_icon.png</span></span></code></pre>\n</div><img src=\"/assets/image/026/11.png\" width=\"300\">\n<h3>4.5 配置菜单</h3>\n<p>菜单指主页标题，搜索框下四个模块。</p>\n<img src=\"/assets/image/026/6.png\" width=\"350\">\n<div class=\"language-yaml line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"yaml\" data-title=\"yaml\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># page的封面</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">cover</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 主页封面菜单</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">  features</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    - </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">博文</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      icon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">fas fa-rss</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      url</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">/</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    - </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">项目</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      icon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">fas fa-code-branch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      url</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">projects/</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    - </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">友链</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      icon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">fas fa-link</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      url</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">friends/</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      rel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">nofollow</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    - </span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">name</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">关于</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      icon</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">fas fa-info-circle</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      url</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">about/</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">      rel</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">: </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">nofollow</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>按照上面的配置修改后，请在 <code>source</code> 目录下做如下操作。</p>\n<ol>\n<li>\n<p>建立 <strong>projects</strong>  文件夹，创建 <a href=\"http://index.md\" target=\"_blank\" rel=\"noopener noreferrer\">index.md</a> 文件。内容：</p>\n<div class=\"language-\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span></span></span></code></pre>\n</div></li>\n</ol>\n",
      "date_published": "2019-11-02T00:00:00.000Z",
      "date_modified": "2024-10-15T13:41:58.000Z",
      "authors": [],
      "tags": [
        "Hexo"
      ]
    },
    {
      "title": "Android 线程间通信",
      "url": "https://vuepress-theme-hope.github.io/android-thread-communication.html",
      "id": "https://vuepress-theme-hope.github.io/android-thread-communication.html",
      "summary": "Android 系统中，应用在运行时是一个独立的进程，但是每个进程中可以包含多个线程提高运行效率。在多线程开发中，有一个很重要的原则：不能在子线程中更新 UI 。",
      "content_html": "<p>Android 系统中，应用在运行时是一个独立的进程，但是每个进程中可以包含多个线程提高运行效率。在多线程开发中，有一个很重要的原则：<strong>不能在子线程中更新  UI 。</strong></p>\n<!-- more -->\n<blockquote>\n<p>Only the original thread that created a view hierarchy can touch its views.</p>\n</blockquote>\n<p>为解决这个问题，目前有多重方案实现子线程和主线程（UI 线程）之间的通信。</p>\n<h2>1. 判断代码执行的线程</h2>\n<p>在一些简单代码逻辑中，也许能够很清晰的辨别出运行在子线程或主线程中。通常在复杂的类关系依赖、函数嵌套调用中，可能需要花费很大精力去阅读代码之后去判断。不过，巧法子也是有的，一行代码解决。</p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">d</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"TAG\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"test\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span></code></pre>\n</div><p>日志内容中，<code>2368-2393</code> 表示是在子线程中输出日志。</p>\n<blockquote>\n<p>11-16 01:08:31.584 2368-2393/com.flueky.demo D/TAG: test</p>\n</blockquote>\n<p>其中 <em>2368</em> 表示 <code>PID</code> 指进程id， <em>2393</em> 表示 <code>TID</code> 指线程id 。如果 <code>TID</code> 也是 <em>2368</em> ，则表示日志输出在主线程中。</p>\n<p><strong>可能也有人听过 <code>UID</code> ,应用第一次安装在设备上时，系统会分配一个序号给应用，作为其唯一标识。<code>UID</code> 在覆盖安装时不会变化，卸载安装时系统会重新分配一个。</strong></p>\n<p>下面是在代码中获取三个 id 的方式。</p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 获取 tid</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Process</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">myTid</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 获取 pid</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Process</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">myPid</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 获取 uid</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Process</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">myUid</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span></span></code></pre>\n</div><p>遇到需要在子线程中更新 <strong>UI</strong> 操作时，可以通过下面的这些方式解决。</p>\n<h2>2. 使用 View.post</h2>\n<p>子线程代码运行在 Activity 或 Fragment 中，能获取到任意 view 的引用时，可以使用此方式将需要实现的代码放在主线程中运行。</p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// post 方法在子线程中调用</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">textView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">post</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Runnable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> run</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 此处代码会在 UI 线程执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n</div><h2>3. 使用 Activity.runOnUiThread</h2>\n<p>如果能够直接获取到 Activity 实例，使用 <strong>runOnUiThread</strong> 方法。</p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// runOnUiThread 方法在子线程中调用</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">activity</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">runOnUiThread</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Runnable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> run</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 此处代码会在 UI 线程执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n</div><h2>4. 使用 Handler.post</h2>\n<p>使用 Handler 比较讲究，因为需要考虑到 Handler 实例初始化的位置。</p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// post 方法在子线程中调用</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">handler</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">post</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Runnable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> run</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // handler 在主线程中初始化时，此处代码在主线程中执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // handler 在子线程中初始化事，此处代码在子线程中执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n</div><p><strong>以上说法其实不够严谨，存在下面的情况，初始化 handler 实例时传入 Looper.getMainLooper() ，则 handler.post 也在主线程中执行。</strong></p>\n<div class=\"language-java\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 下面的代码在子线程中执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Looper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">prepare</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">handler </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Handler</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Looper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getMainLooper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Looper</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">loop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span></code></pre>\n</div><h2>5. 使用 EventBus</h2>\n<p><code>EventBus</code> 出自 <strong>greenrobot</strong> ,通过订阅的方式，告知函数运行在哪个线程中。为使订阅函数在主线程中执行，使用注解 <strong>MAIN</strong> 或 <strong>MAIN_ORDERED</strong> 。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * eventbus 简单示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> class</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> MainActivity</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> extends</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> Activity</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    protected</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onCreate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Bundle</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> savedInstanceState</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        super</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onCreate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(savedInstanceState);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">        setContentView</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">R</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">layout</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">activity_main</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    /**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * 订阅函数，</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * ThreadMode.MAIN 表示在主线程中运行，可能会阻塞子线程。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * ThreadMode.MAIN_ORDERED 表示在主线程中运行，不会阻塞子线程。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Subscribe</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">threadMode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> ThreadMode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">MAIN</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onMessageEvent</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Object</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> event</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(event </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">instanceof</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> Runnable)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">            ((Runnable)event).</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">run</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    protected</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onStart</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        super</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onStart</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 注册 eventbus 监听</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        EventBus</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getDefault</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">register</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    protected</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> onStop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        super</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onStop</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 注销 eventbus 监听</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        EventBus</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getDefault</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">unregister</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">this</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 在子线程中发送消息</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">EventBus</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getDefault</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">().</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">post</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> Runnable</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">() {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    @</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#E5C07B\">Override</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> void</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> run</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 此处代码会在 UI 线程执行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>6. 传递数据</h2>\n<p>前面四种方式演示了如何在子线程中做更新 UI 操作。 <code>AsyncTask</code> 也具备相同用法，但是有点牵强，因为只有 <strong>execute</strong> 方法在主线程中执行，<strong>onPostExecute</strong> 才会在主线程中调用。由于 <strong>onPostExecute</strong> 可以接收到子线程传递的任意类型的对象数据，所以 <code>AsyncTask</code> 可以作为线程间的数据交互的载体。对此 <strong>Handler</strong> 和  <strong>EventBus</strong> 表示不服。</p>\n<p><strong>EventBus</strong> 如之前所示，可以将 <strong>Runnable</strong> 对象换成任意实例。</p>\n<p><strong>Handler</strong> 也可以通过 <strong>sendMessage</strong> 方法发送 <strong>Message</strong> 对象。其中 <strong>Message.obj</strong> 用作传递对象数据的载体。</p>\n<p><strong>建议使用 Message.obtain() 方法复用 Message 实例。</strong></p>\n<p>顺便提下，<code>BroadcastReceiver</code> 也可以作为此类用途，只不过没有 <strong>EventBus</strong> 和 <strong>Handler</strong> 方便。</p>\n",
      "date_published": "2019-11-16T16:59:27.000Z",
      "date_modified": "2024-10-15T13:41:58.000Z",
      "authors": [],
      "tags": [
        "Android",
        "Note"
      ]
    },
    {
      "title": "编码、摘要和加密（一）—— 字节编码",
      "url": "https://vuepress-theme-hope.github.io/encode.html",
      "id": "https://vuepress-theme-hope.github.io/encode.html",
      "summary": "之所以取这个题目，是因为在面试的过程中，许多求职者对问题“请列举常用的加密算法”给出了比较普遍的回答：“用过 MD5 和 Base64 ”，更有甚者说，“ Base64 是对称加密， MD5 是非对称加密”。",
      "content_html": "<p>之所以取这个题目，是因为在面试的过程中，许多求职者对问题“请列举常用的加密算法”给出了比较普遍的回答：“用过 <code>MD5</code> 和 <code>Base64</code> ”，更有甚者说，“ <code>Base64</code> 是对称加密， <code>MD5</code> 是非对称加密”。</p>\n<!-- more -->\n<p>那么，通过接下来的三篇文章科普下，在编程过程中常见的三个术语：<strong>字节编码</strong> 、<strong>信息摘要</strong>、 <strong>数据加密</strong>。</p>\n<h2>1. 编码介绍</h2>\n<p>在计算机领域，数据存储单位叫字节——byte，最小的存储单元的容量是1位-1bit。一个bit有两个状态 0 和 1。1byte = 8bit。通常，一个英文字母占1字节，汉字采用GBK编码时，占用2字节。<strong>UTF-8是可变长度编码，一般用 0-4 字节表示。</strong></p>\n<p>以上介绍，仅局限于计算机可以显示在屏幕上的字符。但是 1byte 通常可表示 256 个不同的数据。二进制表示：00000000-11111111，即 2^8 。根据 ASCII 中显示，可见字符不足 100 个。若想完整的显示 1byte 表示的全部内容，需要对其进行编码。通常使用16进制的方式，0x00-0xFF。0x31 表示字符 '1' ，0x01 表示字母 1，0x41 表示 'A' ,0x61 表示 'a' 。不再一一列举，有兴趣的小伙伴可以查阅 ASCII 码表。</p>\n<h2>2. 十六进制编码</h2>\n<h3>2.1 概念</h3>\n<p>16进制编码，是基于2进制转换的过程。下表列举些常见的数值编码及其意义。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">十进制</th>\n<th style=\"text-align:center\">2进制</th>\n<th style=\"text-align:center\">16进制</th>\n<th style=\"text-align:center\">意义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">00000000</td>\n<td style=\"text-align:center\">0x00</td>\n<td style=\"text-align:center\">null</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">00000001</td>\n<td style=\"text-align:center\">0x01</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">49</td>\n<td style=\"text-align:center\">00110001</td>\n<td style=\"text-align:center\">0x31</td>\n<td style=\"text-align:center\">'1'</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">65</td>\n<td style=\"text-align:center\">01000001</td>\n<td style=\"text-align:center\">0x41</td>\n<td style=\"text-align:center\">'A'</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">97</td>\n<td style=\"text-align:center\">01100001</td>\n<td style=\"text-align:center\">0x61</td>\n<td style=\"text-align:center\">'a'</td>\n</tr>\n</tbody>\n</table>\n<p>此处，需要引入一个概念——基数。2 进制基数：0、1。10进制基数：0-9。16进制基数0-9，A-F。<strong>通过观察表示一串内容的基数，可以快速判断它使用的编码方式哦！</strong></p>\n<p>下表表示16进制基数与10进制、2进制的关系。均用 1byte 表示。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">16进制</th>\n<th style=\"text-align:center\">10进制</th>\n<th style=\"text-align:center\">2进制</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">0x00</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">00000000</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x01</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">00000001</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x02</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">00000010</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x03</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">00000011</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x04</td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">00000100</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x05</td>\n<td style=\"text-align:center\">5</td>\n<td style=\"text-align:center\">00000101</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x06</td>\n<td style=\"text-align:center\">6</td>\n<td style=\"text-align:center\">00000110</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x07</td>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:center\">00000111</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x08</td>\n<td style=\"text-align:center\">8</td>\n<td style=\"text-align:center\">00001000</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x09</td>\n<td style=\"text-align:center\">9</td>\n<td style=\"text-align:center\">00001001</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x0A</td>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:center\">00001010</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x0B</td>\n<td style=\"text-align:center\">11</td>\n<td style=\"text-align:center\">00001011</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x0C</td>\n<td style=\"text-align:center\">12</td>\n<td style=\"text-align:center\">00001100</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x0D</td>\n<td style=\"text-align:center\">13</td>\n<td style=\"text-align:center\">00001101</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x0E</td>\n<td style=\"text-align:center\">14</td>\n<td style=\"text-align:center\">00001110</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">0x0F</td>\n<td style=\"text-align:center\">15</td>\n<td style=\"text-align:center\">00001111</td>\n</tr>\n</tbody>\n</table>\n<p>不难发现，16进制用 4bit 表示一个基数（16 = 2^4）。</p>\n<h3>2.2 换算</h3>\n<p>将数字 100 转成 16进制表示：</p>\n<p>计算方式比较简单，对 100 用 16 进行取整取余。发现 100 = 6 * 16 + 4。即，100 = 0x64。再转成2进制，分别对 6 和 4 转成 4bit 0和1 表示。0110 0100。</p>\n<p>所以 100 = 0x64 = 01100100</p>\n<h3>2.3 代码实现</h3>\n<p>根据上一节的换算规则：</p>\n<ol>\n<li>将字节数组转16进制字符串，需要对每个字节进行独立运算。分别取高四位和第四位，然后转成两个10进制数作为基数索引，最后组合成16进制表示。</li>\n<li>将16进制字符串转成字节数组，需要每两个16进制基数一组。分别找出其表示的10进制数，然后做高四位和第四位相加。</li>\n</ol>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 16 进制基数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">static</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] hex </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '2'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '3'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '4'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '5'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '6'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '7'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '8'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '9'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'B'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'C'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'D'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'E'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'F'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 编码：字节数组转 16 进制字符串</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> data</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@return</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> encode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (data </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    StringBuffer</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> hexSrtBuff </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> StringBuffer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    for</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> b </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> height </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> b </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x0f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> // 取高四位</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> low </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> b </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x0f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 取低四位</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        hexSrtBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(hex[height]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        hexSrtBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(hex[low]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> hexSrtBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">toString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 解码：16 进制字符串转字节数组</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> hexStr</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@return</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">decode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hexStr) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (hexStr </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">hexStr</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> %</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) { </span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 不合法的十六进制字符串参数</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        throw</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> IllegalArgumentException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"The hex string was illegal\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">    byte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] data </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">hexStr</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> /</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    for</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> hexStr</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        char</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> h </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> hexStr</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">charAt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        char</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> l </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> hexStr</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">charAt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> height </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (h </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> h </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">15</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">]) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">?</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (h </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (h </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">])</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> low </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (l </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> l </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">15</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">]) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">?</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (l </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">10</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 10</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (l </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> hex[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">])</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        data[i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">/</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) ((height </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (low </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x0f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">))</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>3. Base64 编码</h2>\n<p>上一节介绍了16进制的编码规则和代码实现。不难发现，做一次16进制编码时候，所需的存储空间翻一倍。这虽然方便计算机显示，可以用于网络通信，但耗费的存储空间和传输效率都将减半。因此，base64编码诞生。（楼主瞎编，base64编码是否因此诞生，没做考究）。</p>\n<h3>3.1 概念</h3>\n<p>base64 一共有 64 个基数。每个基数占 6bit（64 = 2^6）。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">索引</th>\n<th style=\"text-align:center\">基数</th>\n<th style=\"text-align:center\">索引</th>\n<th style=\"text-align:center\">基数</th>\n<th style=\"text-align:center\">索引</th>\n<th style=\"text-align:center\">基数</th>\n<th style=\"text-align:center\">索引</th>\n<th style=\"text-align:center\">基数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">A</td>\n<td style=\"text-align:center\">16</td>\n<td style=\"text-align:center\">Q</td>\n<td style=\"text-align:center\">32</td>\n<td style=\"text-align:center\">g</td>\n<td style=\"text-align:center\">48</td>\n<td style=\"text-align:center\">w</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">B</td>\n<td style=\"text-align:center\">17</td>\n<td style=\"text-align:center\">R</td>\n<td style=\"text-align:center\">33</td>\n<td style=\"text-align:center\">h</td>\n<td style=\"text-align:center\">49</td>\n<td style=\"text-align:center\">x</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">C</td>\n<td style=\"text-align:center\">18</td>\n<td style=\"text-align:center\">S</td>\n<td style=\"text-align:center\">34</td>\n<td style=\"text-align:center\">i</td>\n<td style=\"text-align:center\">50</td>\n<td style=\"text-align:center\">y</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">D</td>\n<td style=\"text-align:center\">19</td>\n<td style=\"text-align:center\">T</td>\n<td style=\"text-align:center\">35</td>\n<td style=\"text-align:center\">j</td>\n<td style=\"text-align:center\">51</td>\n<td style=\"text-align:center\">z</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">E</td>\n<td style=\"text-align:center\">20</td>\n<td style=\"text-align:center\">U</td>\n<td style=\"text-align:center\">36</td>\n<td style=\"text-align:center\">k</td>\n<td style=\"text-align:center\">52</td>\n<td style=\"text-align:center\">0</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td style=\"text-align:center\">F</td>\n<td style=\"text-align:center\">21</td>\n<td style=\"text-align:center\">V</td>\n<td style=\"text-align:center\">37</td>\n<td style=\"text-align:center\">l</td>\n<td style=\"text-align:center\">53</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td style=\"text-align:center\">G</td>\n<td style=\"text-align:center\">22</td>\n<td style=\"text-align:center\">W</td>\n<td style=\"text-align:center\">38</td>\n<td style=\"text-align:center\">m</td>\n<td style=\"text-align:center\">54</td>\n<td style=\"text-align:center\">2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:center\">H</td>\n<td style=\"text-align:center\">23</td>\n<td style=\"text-align:center\">X</td>\n<td style=\"text-align:center\">39</td>\n<td style=\"text-align:center\">n</td>\n<td style=\"text-align:center\">55</td>\n<td style=\"text-align:center\">3</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td style=\"text-align:center\">I</td>\n<td style=\"text-align:center\">24</td>\n<td style=\"text-align:center\">Y</td>\n<td style=\"text-align:center\">40</td>\n<td style=\"text-align:center\">o</td>\n<td style=\"text-align:center\">56</td>\n<td style=\"text-align:center\">4</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td style=\"text-align:center\">J</td>\n<td style=\"text-align:center\">25</td>\n<td style=\"text-align:center\">Z</td>\n<td style=\"text-align:center\">41</td>\n<td style=\"text-align:center\">p</td>\n<td style=\"text-align:center\">57</td>\n<td style=\"text-align:center\">5</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:center\">K</td>\n<td style=\"text-align:center\">26</td>\n<td style=\"text-align:center\">a</td>\n<td style=\"text-align:center\">42</td>\n<td style=\"text-align:center\">q</td>\n<td style=\"text-align:center\">58</td>\n<td style=\"text-align:center\">6</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td style=\"text-align:center\">L</td>\n<td style=\"text-align:center\">27</td>\n<td style=\"text-align:center\">b</td>\n<td style=\"text-align:center\">43</td>\n<td style=\"text-align:center\">r</td>\n<td style=\"text-align:center\">59</td>\n<td style=\"text-align:center\">7</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td style=\"text-align:center\">M</td>\n<td style=\"text-align:center\">28</td>\n<td style=\"text-align:center\">c</td>\n<td style=\"text-align:center\">44</td>\n<td style=\"text-align:center\">s</td>\n<td style=\"text-align:center\">60</td>\n<td style=\"text-align:center\">8</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td style=\"text-align:center\">N</td>\n<td style=\"text-align:center\">29</td>\n<td style=\"text-align:center\">d</td>\n<td style=\"text-align:center\">45</td>\n<td style=\"text-align:center\">t</td>\n<td style=\"text-align:center\">61</td>\n<td style=\"text-align:center\">9</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td style=\"text-align:center\">O</td>\n<td style=\"text-align:center\">30</td>\n<td style=\"text-align:center\">e</td>\n<td style=\"text-align:center\">46</td>\n<td style=\"text-align:center\">u</td>\n<td style=\"text-align:center\">62</td>\n<td style=\"text-align:center\">+</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td style=\"text-align:center\">P</td>\n<td style=\"text-align:center\">31</td>\n<td style=\"text-align:center\">f</td>\n<td style=\"text-align:center\">47</td>\n<td style=\"text-align:center\">v</td>\n<td style=\"text-align:center\">63</td>\n<td style=\"text-align:center\">/</td>\n</tr>\n</tbody>\n</table>\n<h3>3.2 换算</h3>\n<p>根据上表的索引关系，试换算几个案例。</p>\n<ol>\n<li>\n<p>字符 1</p>\n<p>10进制表示 49 。<br><br>\n16进制表示 0x31。<br><br>\n2进制表示 00110001。<br></p>\n<p>一共8位 ，不能被6位整除，因此不足位补 0。<br><br>\n补充后12位  001100 010000。<br><br>\n对应 base64 索引 12 16。<br><br>\nbase64  MQ==<br></p>\n<p><strong>对补位的00，需要用 = 标记。</strong><br></p>\n</li>\n<li>\n<p>字符串 1A</p>\n<p>10进制表示 49 65。<br><br>\n16进制表示 0x31 0x41。<br><br>\n2进制表示  00110001 01000001。<br></p>\n<p>一共16位，不能被6位整除，因此不足位补 0。<br><br>\n补充后18位 001100 010100 000100。<br><br>\n对应 base64 索引 12 20 4。<br><br>\nbase64 MUE=<br></p>\n</li>\n<li>\n<p>字符串 1Aa</p>\n<p>10进制表示 49 65 97。<br><br>\n16进制表示 0x31 0x41 0x61。<br><br>\n2进制表示 00110001 01000001 01100001。<br></p>\n<p>一共24位，可以被6位整除，因此不需补位。<br><br>\n划分后24位 001100 010100 000101 100001。<br><br>\n对应 base64 索引 12 20 5 33。<br><br>\nbase64 MUFh<br></p>\n</li>\n</ol>\n<p>根据上面的换算得出，base64 编码后的字符串长度一定是4的整数倍。也许1 2 字节的数据使用 base64 编码后并不能体现出它的优势。但是对100字节的数据编码：</p>\n<ol>\n<li>\n<p>16进制编码</p>\n<p>编码后长度：100 * 2 = 200。</p>\n</li>\n<li>\n<p>base64 编码</p>\n<p>编码后长度 ⌈100 / 3⌉ * 4  =  34 *4 = 136。</p>\n</li>\n</ol>\n<h3>3.3 代码实现</h3>\n<p>考虑到补位场景，因此实现较为复杂。可供编程语言入门时，练手使用。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * base 64 基数：26个大写字母、26个小写字母、10个阿拉伯数字、'+、'/'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">static</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> char</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] base64 </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'A'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'B'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'C'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'D'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'E'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'F'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'G'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'H'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'I'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'J'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'K'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'L'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'M'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'N'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'O'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'P'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'Q'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'R'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'S'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'T'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'U'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'V'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'W'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'X'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'Y'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'Z'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'a'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'b'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'c'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'd'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'e'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'f'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'g'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'h'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'i'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'j'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'k'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'l'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'm'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'n'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'o'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'p'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'q'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'r'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 's'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 't'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        'u'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'v'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'w'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'x'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'y'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'z'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">        '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '2'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '3'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '4'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '5'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '6'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '7'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '8'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '9'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">        ,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '+'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 编码：字节数组转 base64</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * &lt;p&gt;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 字符 '1' 二进制：00110001 转base64后 001100 010000 补充 两个等号</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> data</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@return</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> encode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (data </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    StringBuffer</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> base64StrBuff </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> StringBuffer</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> //保存剩余字节</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> index </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> num</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    for</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (index </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> index </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        switch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (index </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">%</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            case</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">                num </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data[index] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x3f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  // 取前六位</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">                leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data[index] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x03</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> // 保留后两位</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(base64[num]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">                break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            case</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">                num </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x30</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (data[index] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x0f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> // 取前4位 与之前的后两位相加</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">                leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data[index] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x0f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> // 保留后四位</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(base64[num]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">                break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            case</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">                num </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x3c</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (data[index] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 6</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x03</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> // 取前两位 与之前的后四位相加</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">                leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data[index] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x3f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 保留后六位</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(base64[num]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">                base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(base64[leftBit]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">                leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">                break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    /**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     * 对剩余位做补位处理，并用等号标记</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">     */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    switch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (index </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">%</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        case</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        case</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(base64[leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x30</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'='</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'='</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        case</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(base64[leftBit </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x3c</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">append</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">'='</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> base64StrBuff</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">toString</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 解码： base64 转字节数组</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> base64Str</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@return</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">decode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> base64Str) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (base64Str </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> %</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> !=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        throw</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> IllegalArgumentException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"thr base64 string was illegal\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    // 检查末尾等号的个数，</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> equalSignCount </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    for</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> i</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">--</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">charAt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> !=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '='</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        equalSignCount</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">++;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">    // 转成字节数组的长度</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> bytesLen </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> /</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> *</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> equalSignCount</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">    byte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] data </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[bytesLen]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> index </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    for</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">length</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 四个字节一组处理，转成三个字节</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> one </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getCharIndex</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">charAt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> two </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getCharIndex</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">charAt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> three </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getCharIndex</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">charAt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> four </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getCharIndex</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">base64Str</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">charAt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(i </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 3</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (one </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> first </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> one </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0xfc</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (two </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        first </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (two </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x03</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        data[index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) first</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (three </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> second </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (two </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 4</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0xf0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        second </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (three </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0x0f</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        data[index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) second</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (four </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            break</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> third </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (three </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;&lt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 6</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0xc0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        third </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">+=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> four</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        data[index</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">++</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">] </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) third</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 寻找字符在字符串中的索引</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@return</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> int</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> getCharIndex</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">char</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> c) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'Z'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'A'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'a'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'z'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'a'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 26</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> &amp;&amp;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&lt;=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '9'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '0'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> +</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 52</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '+'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 62</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    else</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (c </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">==</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/'</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 63</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    else</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\"> -</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>4. 总结</h2>\n<p>虽然 16 进制和 Base64 编码是可逆的，具备对应的解码操作，但他们却不是加密算法。加密算法一般需要使用密钥，只有正确的密钥，才能解密出正确的明文。</p>\n",
      "date_published": "2024-10-14T23:22:06.000Z",
      "date_modified": "2024-10-15T13:41:58.000Z",
      "authors": [],
      "tags": [
        "字节处理"
      ]
    },
    {
      "title": "编码、摘要和加密（三）—— 数据加密",
      "url": "https://vuepress-theme-hope.github.io/encrypt.html",
      "id": "https://vuepress-theme-hope.github.io/encrypt.html",
      "summary": "关于加密，此处没有更加通俗易懂的解释。与同是对于字节类型数据处理的编码和摘要对比： 编码是可逆的，任何人只要知道编码规则，就能够进行解码。 摘要是不可逆的，即使知道只要算法的实现原理，也很难还原出原数据。",
      "content_html": "<p>关于加密，此处没有更加通俗易懂的解释。与同是对于字节类型数据处理的编码和摘要对比：</p>\n<ol>\n<li>编码是可逆的，任何人只要知道编码规则，就能够进行解码。</li>\n<li>摘要是不可逆的，即使知道只要算法的实现原理，也很难还原出原数据。</li>\n</ol>\n<!-- more -->\n<p>加密是可逆的，但只知道加密算法并不能解密，还需要知道加密密钥。</p>\n<p>接下来，将针对几个常见的加密算法：<code>DES</code>、<code>3DES</code>、<code>AES</code>、<code>RSA</code> 的 Java 实现及其相关进行介绍，由于之前实现过 <code>DES</code> 和 <code>AES</code> 算法，因此具体算法说明，后续有空会写到。</p>\n<h2>1. 相关概念</h2>\n<h3>1.1 密钥</h3>\n<p>在代码实现的过程中，密钥即是 key 。使用对称加密算法时，加密和解密是同一个密钥。使用非对称加密算法时，加密和解密密钥不相同，区分为公钥（<strong>public key</strong>）和私钥（<strong>private key</strong>）。</p>\n<p>见过把 <code>base64</code> 当做对称加密， <code>md5</code> 当做非对称加密，因此下面划重点：</p>\n<ol>\n<li>判别加密算法最直接的方式，是否需要密钥。</li>\n<li>对称加密和非对称加密区别在于，加解密是否是同一个key。</li>\n<li>对称加密算法效率优于非对称加密算法，建议用对称加密算法加密长数据，非对称加密算法加密端数据。</li>\n</ol>\n<h3>1.2 加密模式</h3>\n<p>加密模式主要体现在对称加密算法中。之前提到过，对称加密算法效率优，适合加密长数据。实际加密过程中，是将长数据划分成固定长度的若干块短数据进行加密操作。为防止暴力破解得出明文，因此衍生了四种加密模式。</p>\n<h4>1.2.1 电子密码本模式</h4>\n<p>英译 <strong>Electronic Code Book</strong> ，简称 <code>ECB</code> 模式，最简单的加密模式。</p>\n<ol>\n<li>将长数据分割成固定长度的若干块。</li>\n<li>分别对每块数据用同一个密钥进行加密。</li>\n<li>将每块加密出来的密文合并拼接成最终的完整密文。</li>\n</ol>\n<p>上述步骤存在一个严重的问题，如果有重复的明文块，那么加密出来的密文也重复。</p>\n<h4>1.2.2 加密块链模式</h4>\n<p>英译 <strong>Cipher Block Chaining</strong> ，简称 <code>CBC</code>,基于 <code>ECB</code> 模式的改进版。<br>\n此处引入一个概念：初始化向量 <strong>Initialization Vector</strong> 简称 <code>IV</code> 。</p>\n<ol>\n<li>将长数据分割成固定长度的若干块。</li>\n<li>将前一块的密文与后一块明文进行异或，再用密钥进行加密。</li>\n<li>将每块加密出来的密文合并拼接成最终的完整密文。</li>\n<li><strong>第一块明文没有密文与其异或，因此需要 IV 对其异或再用密钥加密。</strong></li>\n</ol>\n<h4>1.2.3  加密反馈模式</h4>\n<p>英译 <strong>Cipher Feedback Mode</strong> ，简称 <code>CFB</code> 。</p>\n<ol>\n<li>将长数据分割成固定长度的若干块。</li>\n<li>将前一块密文使用密钥进行加密，再与后一块明文进行异或。</li>\n<li>将每块异或后的密文合并拼接成最终的完整密文。</li>\n<li><strong>第一块明文需要与用密钥加密后的 IV 进行异或。</strong></li>\n</ol>\n<h4>1.2.4 输出反馈模式</h4>\n<p>英译 <strong>Output Feedback Mode</strong> , 简称 <code>OFB</code> ，与 <code>CFB</code> 模式有些细小的区别。</p>\n<ol>\n<li>将长数据分割成固定长度的若干块。</li>\n<li>将前一块中间密文使用密钥进行加密得中间密文。中间密文与明文进行异或得密文。</li>\n<li>将每个中间密文与明文块异或后的密文进行合并拼接成最终的完整密文。</li>\n<li><strong>第一块明文需要的中间密文是用密钥加密后的 IV 。</strong></li>\n</ol>\n<p><strong><code>CFB</code> 与 <code>OFB</code> 的区别在于中间密文和密文块的用法 。</strong></p>\n<ol>\n<li><code>CFB</code> 使用前一块的密文进行加密。</li>\n<li><code>OFB</code> 使用前一块的中间密文进行加密。</li>\n</ol>\n<h3>1.3 填充模式</h3>\n<p>分块加密的过程中，遇到不够整分的块。如，将 16 字节作为一个明文块。当加密 17 字节时，不够分成两块。此时需要对第二块明文进行填充。填充后的两个明文块各 16 字节共 32 字节后再进行加密操作。</p>\n<p>后 15 字节的填充内容，需要取决于具体的填充模式。见后续 Java 代码实现中介绍。</p>\n<h2>2. 代码实现</h2>\n<p>Java 对加密部分做了比较完整的封装—— <code>Cipher</code>  类。</p>\n<p>以下列举几个主要方法：</p>\n<ol>\n<li><code>getInstance</code> 获取 <code>Cipher</code> 对象，主要接收转换类型参数对象。转换类型参数分为 <strong>算法</strong> 和 <strong>算法/模式/填充</strong> 。</li>\n<li><code>init</code> 初始化加密参数。包括指定加解密模式、密钥和初始化向量-<code>IV</code>。</li>\n<li><code>doFinal</code> 结束加密和解密操作，有多个重载方法，主要接收需要加密或解密的数据。</li>\n</ol>\n<p>关于填充，之前简要介绍过。在 Java 代码中常见的填充模式是 <code>PKCS5Padding</code> 。还有一种模式 <code>NoPadding</code> 由于对明文长度有要求，不建议使用。其他填充模式未深入了解，暂不误导。</p>\n<p><code>PKCS5Padding</code> 指，需要填充多少字节，就填充多少个字节的数字。如 <code>DES</code> 算法要求每个明文块 8 字节，那么，加密 1 字节数据，需要填充 7 个字节，此时填充 7 个 7<br>\n。加密 7 字节数据，需要填充 1 个 1 。加密 8 字节数据时，为方便校验解密后的明文正确性，需要扩展成 16 字节数据，此时第二个明文块填充 8 个 8 。</p>\n<h3>2.1 DES</h3>\n<p>DES 全称 <strong>Data Encryption Standard</strong> ，数据加密标准算法。固定密钥 8 字节，64 位。每个明文块长度 8 字节。</p>\n<p><code>getInstance</code> 接收参数：<em>DES/ECB/PKCS5Padding</em> ，其中 <code>ECB</code> 表示加密模式，可以用上述的其他三个模式替换以及更多 JDK 支持的模式。<code>PKCS5Padding</code> 表示一种填充模式。</p>\n<p>在使用 <code>CBC</code> 、 <code>CFB</code> 、 <code>OFB</code> 时，需要在 <code>init</code> 方法中指定 <strong>IV</strong> 。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> KEY_ALGORITHM </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"DES\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> DEFAULT_CIPHER_ALGORITHM </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"DES/ECB/PKCS5Padding\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">encrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] key) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 加密模式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ENCRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SecretKeySpec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(key, KEY_ALGORITHM));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Exception</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">decrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] key) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">        // 解密模式</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DECRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SecretKeySpec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(key, KEY_ALGORITHM));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Exception</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3>2.2 3DES</h3>\n<p><code>3DES</code> 即使用 3 次 <code>DES</code> 算法。由于每个 <code>DES</code> 算法处理需要 8 字节密钥，因此 <code>3DES</code> 算法需要 24 字节密钥。</p>\n<p><strong>需要注意，<code>3DES</code> 算法名称使用 <code>DESede</code> 或 <code>TripleDES</code></strong>。<strong>e</strong> 表示做 <code>DES</code> 加密操作，<strong>d</strong> 表示做 <code>DES</code> 解密操作。前者表示用 DES 连续做加密 、解密、加密操作，后者表示连续做三次加密操作。每次使用的密钥，分别是 24 字节密钥中不同的三段（前、中、后各8字节）。</p>\n<blockquote>\n<p>若使用 <code>DESede</code> 算法时 24 字节密钥中的前两段一样，该算法等同于 <code>DES</code> 算法使用第三段的 8 字节密钥。</p>\n</blockquote>\n<p>填充相关同 <code>DES</code> 算法一样。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> KEY_ALGORITHM </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"DESede\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> DEFAULT_CIPHER_ALGORITHM </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"DESede/CBC/PKCS5Padding\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">// 初始化向量</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> IV </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"12345678\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">encrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] key) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ENCRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SecretKeySpec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(key, KEY_ALGORITHM),</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> IvParameterSpec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">IV</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getBytes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Exception</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">decrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] key) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DECRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SecretKeySpec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(key, KEY_ALGORITHM));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Exception</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3>2.3 AES</h3>\n<p>AES 全称 <strong>Advanced Encryption Standard</strong> ，高级加密标准算法，用于替代  <code>DES</code> 。</p>\n<p><code>DES</code> 只支持 8 字节密钥，<code>AES</code> 可以支持 16  字节、24 字节和 32 字节密钥。明文块长度也可以划分成 16 字节 、24 字节和  32 字节进行填充。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> KEY_ALGORITHM </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"AES\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> DEFAULT_CIPHER_ALGORITHM </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"AES/ECB/PKCS5Padding\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">encrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] key) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">            Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ENCRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SecretKeySpec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(key, KEY_ALGORITHM));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Exception</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">decrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] key) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">            Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DECRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> SecretKeySpec</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(key, KEY_ALGORITHM));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">Exception</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>以上三种对称加密算法的 Java 代码实现基本一致。</p>\n<h3>2.4 RSA</h3>\n<p>RSA是1977年由罗纳德·李维斯特（Ron Rivest）、阿迪·萨莫尔（Adi Shamir）和伦纳德·阿德曼（Leonard Adleman）一起提出的非对称加密算法，因此使用他们 3 人姓氏首字母命名。</p>\n<p>示例代码中的公钥和私钥是随机生成的密钥对，密钥对模长建议是 1024 或 2048，对应密文长度是 128 字节和 256 字节。<strong>模长可以大于 2048 ， 越长越难破解，但是效率越低。</strong> 实际应用中，建议将密钥对模长设置为 2048 并以文件的形式存储在终端。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> PrivateKey</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> privateKey</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> PublicKey</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> publicKey</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">private</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> DEFAULT_CIPHER_ALGORITHM </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"RSA\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">static</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">    KeyPairGenerator</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> keyGener </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        keyGener </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> KeyPairGenerator</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        keyGener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">initialize</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1024</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        KeyPair</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> keyPair </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> keyGener</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">generateKeyPair</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        privateKey </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> keyPair</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getPrivate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        publicKey </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> keyPair</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getPublic</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">NoSuchAlgorithmException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">encrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">ENCRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, publicKey);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">NoSuchAlgorithmException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">NoSuchPaddingException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">InvalidKeyException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BadPaddingException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IllegalBlockSizeException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">decrypt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] data) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        Cipher</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> cipher </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(DEFAULT_CIPHER_ALGORITHM);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">init</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">Cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">DECRYPT_MODE</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, privateKey);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> cipher</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">doFinal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(data);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">NoSuchAlgorithmException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">NoSuchPaddingException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">InvalidKeyException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">BadPaddingException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IllegalBlockSizeException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>",
      "date_published": "2024-10-14T23:22:06.000Z",
      "date_modified": "2024-10-15T13:41:58.000Z",
      "authors": [],
      "tags": [
        "加密",
        "字节处理"
      ]
    },
    {
      "title": "编码、摘要和加密（二）—— 信息摘要",
      "url": "https://vuepress-theme-hope.github.io/hash.html",
      "id": "https://vuepress-theme-hope.github.io/hash.html",
      "summary": "信息摘要，英译 Message Digest 。看见首字母这么大的 M 、D有没有立即联想到 MD5 算法。其实 MD5算法只是目前比较流行的信息摘要算法，在它之前，还出现过 MD2 MD4,以及目前仍然在用的安全散列算法（Secure Hash Algorithm） SHA1 和 SHA256都属于信息摘要算法的一种。",
      "content_html": "<p>信息摘要，英译 <strong>Message Digest</strong> 。看见首字母这么大的 <code>M</code> 、<code>D</code>有没有立即联想到 <code>MD5</code> 算法。其实 <code>MD5</code>算法只是目前比较流行的信息摘要算法，在它之前，还出现过 <code>MD2</code> <code>MD4</code>,以及目前仍然在用的安全散列算法（<strong>Secure Hash Algorithm</strong>） <code>SHA1</code> 和 <code>SHA256</code>都属于信息摘要算法的一种。</p>\n<!-- more -->\n<p>国家密码管理局于2010年12月也发布了一种信息摘要算法 <code>SM3</code> 。</p>\n<p>由于对信息摘要算法研究并不透彻，因此这篇文章将重点讲 jdk 支持的三个常见摘要算法的使用：<code>MD5</code>、<code>SHA1</code>、<code>SHA256</code>。</p>\n<h2>1. 相关代码</h2>\n<p>Java 对信息摘要算法做了比较完整的封装——<code>MessageDigest</code>。该类是抽象类，针对具体信息摘要算法的实现使用了代理模式。主要提供了三个方法及其重载方法。</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 获取摘要算法对象。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 通过指定参数 algorithm 是 MD5 SHA1 SHA256 ,获取具体的实例。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">static</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> MessageDigest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> getInstance</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 接收参与摘要计算的字节数据，可多次执行。一般用于文件的的摘要计算。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 也可以一次将文件的全部字节读取至内存，使用 digest 方法一次计算。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">void</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> update</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 具有两种使用场景。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 1. 在 update 方法接收全部的字节数据之后，使用此方法生成摘要数据。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 2. 直接使用此方法接收较短的字节数据，生成摘要数据。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[] digest</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2>2. 用途</h2>\n<h3>2.1 计算字符串</h3>\n<p>用于校验报文数据在网络传输的过程中是否被篡改过。</p>\n<p>以 MD5 算法为例：</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 计算字符串md5</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> data</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@return</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> md5</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> data) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        MessageDigest</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> messageDigest </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> MessageDigest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"MD5\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">        byte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] digest </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> messageDigest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">digest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">data</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getBytes</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">());</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> HexUtil</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">encode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(digest);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">NoSuchAlgorithmException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h3>2.2 计算文件</h3>\n<p>通过网络下载一些文件的时候，通常通过计算下载下来文件的 MD5 和 SHA1 判断下载下来的文件是否在传输过程中被篡改过。</p>\n<p>以 MD5 算法为例：</p>\n<div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" data-title=\"java\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">/**</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * 计算文件md5</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> *</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@param</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> data</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> * </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">@return</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> */</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">public</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> static</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> final</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\"> String</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> fileMd5</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">String</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> path) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        MessageDigest</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> messageDigest </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> MessageDigest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getInstance</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"MD5\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        File</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> file </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> File</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(path)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">!</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">file</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">exists</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">()</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">            throw</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> IllegalArgumentException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"The file path is illegal\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">        InputStream</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> inputStream </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> FileInputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">(file)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">        byte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] buff </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\"> new</span><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\"> byte</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">[</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">1024</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">]</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        int</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\"> len</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        while</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> ((len </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> inputStream</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">read</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(buff)</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">&gt;</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">            messageDigest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">update</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(buff, </span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">0</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">, len);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#C18401;--shiki-dark:#C678DD\">        byte</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">[] digest </span><span style=\"--shiki-light:#383A42;--shiki-dark:#56B6C2\">=</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> messageDigest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">digest</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">        return</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\"> HexUtil</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">encode</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(digest);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">NoSuchAlgorithmException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">FileNotFoundException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    } </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\"> (</span><span style=\"--shiki-light:#C18401;--shiki-dark:#E5C07B\">IOException</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic\"> e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">        e</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">printStackTrace</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">    return</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> null</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>如需计算 SHA1 和 SHA256 ，只需将 <code>getInstance</code> 的参数值改成 <strong>SHA-1</strong> 和 <strong>SHA-256</strong>。</p>\n<h2>3. 总结</h2>\n<p>千万不要认为 <code>MD5</code> 是加密算法。信息摘要算法，是一种单向散列算法，是一种不可逆的算法，即，可以根据一个字符串计算出 <code>MD5</code>，却不能根据 <code>MD5</code> 还原出生成它的字符串。</p>\n",
      "date_published": "2024-10-14T23:22:06.000Z",
      "date_modified": "2024-10-15T13:41:58.000Z",
      "authors": [],
      "tags": [
        "字节处理"
      ]
    },
    {
      "title": "Vuepress Markdown 语法",
      "url": "https://vuepress-theme-hope.github.io/markdown.html",
      "id": "https://vuepress-theme-hope.github.io/markdown.html",
      "summary": "示例 标题 文本 列表 引用 代码块 链接 图像 注脚 上标下标 表格 分割线 数学公式 警告 提示 标签 自定义对齐 思维导图 流程图 注脚解释1。 ↩︎ 注脚解释2。 ↩︎",
      "content_html": "<h2>示例</h2>\n\n<h2>标题</h2>\n\n<h2>文本</h2>\n\n<h2>列表</h2>\n\n<h2>引用</h2>\n\n<h2>代码块</h2>\n\n<h2>链接</h2>\n\n<h2>图像</h2>\n\n<h2>注脚</h2>\n\n<h2>上标下标</h2>\n\n<h2>表格</h2>\n\n<hr class=\"footnotes-sep\">\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"footnote1\" class=\"footnote-item\"><p>注脚解释1。 <a href=\"#footnote-ref1\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n<li id=\"footnote2\" class=\"footnote-item\"><p>注脚解释2。 <a href=\"#footnote-ref2\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n</ol>\n</section>\n",
      "image": "https://support-assets.githubassets.com/packs/static/components/v2/components/assets/images/product-cards/get-started-f69cbc8bacc67cbe4240.webp =500x500",
      "date_published": "2024-10-06T15:51:15.000Z",
      "date_modified": "2024-10-13T13:42:48.000Z",
      "authors": [],
      "tags": [
        "Note"
      ]
    },
    {
      "title": "Git 命令解释",
      "url": "https://vuepress-theme-hope.github.io/git-all-commands.html",
      "id": "https://vuepress-theme-hope.github.io/git-all-commands.html",
      "summary": "记录 Git 常用命令",
      "content_html": "<p>记录 Git 常用命令</p>\n<!-- more -->\n<h2>add</h2>\n<details class=\"hint-container details\"><summary>git add -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git add [&lt;options&gt;] [--] &lt;pathspec&gt;...</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -n, --dry-run         dry run</span></span>\n<span class=\"line\"><span>    -v, --verbose         be verbose</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -i, --interactive     interactive picking</span></span>\n<span class=\"line\"><span>    -p, --patch           select hunks interactively</span></span>\n<span class=\"line\"><span>    -e, --edit            edit current diff and apply</span></span>\n<span class=\"line\"><span>    -f, --force           allow adding otherwise ignored files</span></span>\n<span class=\"line\"><span>    -u, --update          update tracked files</span></span>\n<span class=\"line\"><span>    --renormalize         renormalize EOL of tracked files (implies -u)</span></span>\n<span class=\"line\"><span>    -N, --intent-to-add   record only the fact that the path will be added later</span></span>\n<span class=\"line\"><span>    -A, --all             add changes from all tracked and untracked files</span></span>\n<span class=\"line\"><span>    --ignore-removal      ignore paths removed in the working tree (same as --no-all)</span></span>\n<span class=\"line\"><span>    --refresh             don't add, only refresh the index</span></span>\n<span class=\"line\"><span>    --ignore-errors       just skip files which cannot be added because of errors</span></span>\n<span class=\"line\"><span>    --ignore-missing      check if - even missing - files are ignored in dry run</span></span>\n<span class=\"line\"><span>    --sparse              allow updating entries outside of the sparse-checkout cone</span></span>\n<span class=\"line\"><span>    --chmod (+|-)x        override the executable bit of the listed files</span></span>\n<span class=\"line\"><span>    --pathspec-from-file &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          read pathspec from file</span></span>\n<span class=\"line\"><span>    --pathspec-file-nul   with --pathspec-from-file, pathspec elements are separated with NUL character</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p><code>add</code> 将工作区的更改保存到暂存区，准备提交。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 添加当前目录下的全部文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'file path'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 添加指定文件，可用相对路径。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'file paht'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 强制添加指定文件，即使在 .gitignore 中</span></span></code></pre>\n</div><h2>apply</h2>\n<details class=\"hint-container details\"><summary>git apply -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git apply [&lt;options&gt;] [&lt;patch&gt;...]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    --exclude &lt;path&gt;      don't apply changes matching the given path</span></span>\n<span class=\"line\"><span>    --include &lt;path&gt;      apply changes matching the given path</span></span>\n<span class=\"line\"><span>    -p &lt;num&gt;              remove &lt;num&gt; leading slashes from traditional diff paths</span></span>\n<span class=\"line\"><span>    --no-add              ignore additions made by the patch</span></span>\n<span class=\"line\"><span>    --stat                instead of applying the patch, output diffstat for the input</span></span>\n<span class=\"line\"><span>    --numstat             show number of added and deleted lines in decimal notation</span></span>\n<span class=\"line\"><span>    --summary             instead of applying the patch, output a summary for the input</span></span>\n<span class=\"line\"><span>    --check               instead of applying the patch, see if the patch is applicable</span></span>\n<span class=\"line\"><span>    --index               make sure the patch is applicable to the current index</span></span>\n<span class=\"line\"><span>    -N, --intent-to-add   mark new files with `git add --intent-to-add`</span></span>\n<span class=\"line\"><span>    --cached              apply a patch without touching the working tree</span></span>\n<span class=\"line\"><span>    --unsafe-paths        accept a patch that touches outside the working area</span></span>\n<span class=\"line\"><span>    --apply               also apply the patch (use with --stat/--summary/--check)</span></span>\n<span class=\"line\"><span>    -3, --3way            attempt three-way merge, fall back on normal patch if that fails</span></span>\n<span class=\"line\"><span>    --build-fake-ancestor &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          build a temporary index based on embedded index information</span></span>\n<span class=\"line\"><span>    -z                    paths are separated with NUL character</span></span>\n<span class=\"line\"><span>    -C &lt;n&gt;                ensure at least &lt;n&gt; lines of context match</span></span>\n<span class=\"line\"><span>    --whitespace &lt;action&gt;</span></span>\n<span class=\"line\"><span>                          detect new or modified lines that have whitespace errors</span></span>\n<span class=\"line\"><span>    --ignore-space-change</span></span>\n<span class=\"line\"><span>                          ignore changes in whitespace when finding context</span></span>\n<span class=\"line\"><span>    --ignore-whitespace   ignore changes in whitespace when finding context</span></span>\n<span class=\"line\"><span>    -R, --reverse         apply the patch in reverse</span></span>\n<span class=\"line\"><span>    --unidiff-zero        don't expect at least one line of context</span></span>\n<span class=\"line\"><span>    --reject              leave the rejected hunks in corresponding *.rej files</span></span>\n<span class=\"line\"><span>    --allow-overlap       allow overlapping hunks</span></span>\n<span class=\"line\"><span>    -v, --verbose         be more verbose</span></span>\n<span class=\"line\"><span>    -q, --quiet           be more quiet</span></span>\n<span class=\"line\"><span>    --inaccurate-eof      tolerate incorrectly detected missing new-line at the end of file</span></span>\n<span class=\"line\"><span>    --recount             do not trust the line counts in the hunk headers</span></span>\n<span class=\"line\"><span>    --directory &lt;root&gt;    prepend &lt;root&gt; to all filenames</span></span>\n<span class=\"line\"><span>    --allow-empty         don't return error for empty patches</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>branch</h2>\n<details class=\"hint-container details\"><summary>git branch -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git branch [&lt;options&gt;] [-r | -a] [--merged] [--no-merged]</span></span>\n<span class=\"line\"><span>   or: git branch [&lt;options&gt;] [-f] [--recurse-submodules] &lt;branch-name&gt; [&lt;start-point&gt;]</span></span>\n<span class=\"line\"><span>   or: git branch [&lt;options&gt;] [-l] [&lt;pattern&gt;...]</span></span>\n<span class=\"line\"><span>   or: git branch [&lt;options&gt;] [-r] (-d | -D) &lt;branch-name&gt;...</span></span>\n<span class=\"line\"><span>   or: git branch [&lt;options&gt;] (-m | -M) [&lt;old-branch&gt;] &lt;new-branch&gt;</span></span>\n<span class=\"line\"><span>   or: git branch [&lt;options&gt;] (-c | -C) [&lt;old-branch&gt;] &lt;new-branch&gt;</span></span>\n<span class=\"line\"><span>   or: git branch [&lt;options&gt;] [-r | -a] [--points-at]</span></span>\n<span class=\"line\"><span>   or: git branch [&lt;options&gt;] [-r | -a] [--format]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Generic options</span></span>\n<span class=\"line\"><span>    -v, --verbose         show hash and subject, give twice for upstream branch</span></span>\n<span class=\"line\"><span>    -q, --quiet           suppress informational messages</span></span>\n<span class=\"line\"><span>    -t, --track[=(direct|inherit)]</span></span>\n<span class=\"line\"><span>                          set branch tracking configuration</span></span>\n<span class=\"line\"><span>    -u, --set-upstream-to &lt;upstream&gt;</span></span>\n<span class=\"line\"><span>                          change the upstream info</span></span>\n<span class=\"line\"><span>    --unset-upstream      unset the upstream info</span></span>\n<span class=\"line\"><span>    --color[=&lt;when&gt;]      use colored output</span></span>\n<span class=\"line\"><span>    -r, --remotes         act on remote-tracking branches</span></span>\n<span class=\"line\"><span>    --contains &lt;commit&gt;   print only branches that contain the commit</span></span>\n<span class=\"line\"><span>    --no-contains &lt;commit&gt;</span></span>\n<span class=\"line\"><span>                          print only branches that don't contain the commit</span></span>\n<span class=\"line\"><span>    --abbrev[=&lt;n&gt;]        use &lt;n&gt; digits to display object names</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Specific git-branch actions:</span></span>\n<span class=\"line\"><span>    -a, --all             list both remote-tracking and local branches</span></span>\n<span class=\"line\"><span>    -d, --delete          delete fully merged branch</span></span>\n<span class=\"line\"><span>    -D                    delete branch (even if not merged)</span></span>\n<span class=\"line\"><span>    -m, --move            move/rename a branch and its reflog</span></span>\n<span class=\"line\"><span>    -M                    move/rename a branch, even if target exists</span></span>\n<span class=\"line\"><span>    -c, --copy            copy a branch and its reflog</span></span>\n<span class=\"line\"><span>    -C                    copy a branch, even if target exists</span></span>\n<span class=\"line\"><span>    -l, --list            list branch names</span></span>\n<span class=\"line\"><span>    --show-current        show current branch name</span></span>\n<span class=\"line\"><span>    --create-reflog       create the branch's reflog</span></span>\n<span class=\"line\"><span>    --edit-description    edit the description for the branch</span></span>\n<span class=\"line\"><span>    -f, --force           force creation, move/rename, deletion</span></span>\n<span class=\"line\"><span>    --merged &lt;commit&gt;     print only branches that are merged</span></span>\n<span class=\"line\"><span>    --no-merged &lt;commit&gt;  print only branches that are not merged</span></span>\n<span class=\"line\"><span>    --column[=&lt;style&gt;]    list branches in columns</span></span>\n<span class=\"line\"><span>    --sort &lt;key&gt;          field name to sort on</span></span>\n<span class=\"line\"><span>    --points-at &lt;object&gt;  print only branches of the object</span></span>\n<span class=\"line\"><span>    -i, --ignore-case     sorting and filtering are case insensitive</span></span>\n<span class=\"line\"><span>    --recurse-submodules  recurse through submodules</span></span>\n<span class=\"line\"><span>    --format &lt;format&gt;     format to use for the output</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -M</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dev-branch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -D</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dev-branch</span></span></code></pre>\n</div><h2>checkout</h2>\n<details class=\"hint-container details\"><summary>git checkout -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git checkout [&lt;options&gt;] &lt;branch&gt;</span></span>\n<span class=\"line\"><span>   or: git checkout [&lt;options&gt;] [&lt;branch&gt;] -- &lt;file&gt;...</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -b &lt;branch&gt;           create and checkout a new branch</span></span>\n<span class=\"line\"><span>    -B &lt;branch&gt;           create/reset and checkout a branch</span></span>\n<span class=\"line\"><span>    -l                    create reflog for new branch</span></span>\n<span class=\"line\"><span>    --guess               second guess 'git checkout &lt;no-such-branch&gt;' (default)</span></span>\n<span class=\"line\"><span>    --overlay             use overlay mode (default)</span></span>\n<span class=\"line\"><span>    -q, --quiet           suppress progress reporting</span></span>\n<span class=\"line\"><span>    --recurse-submodules[=&lt;checkout&gt;]</span></span>\n<span class=\"line\"><span>                          control recursive updating of submodules</span></span>\n<span class=\"line\"><span>    --progress            force progress reporting</span></span>\n<span class=\"line\"><span>    -m, --merge           perform a 3-way merge with the new branch</span></span>\n<span class=\"line\"><span>    --conflict &lt;style&gt;    conflict style (merge, diff3, or zdiff3)</span></span>\n<span class=\"line\"><span>    -d, --detach          detach HEAD at named commit</span></span>\n<span class=\"line\"><span>    -t, --track[=(direct|inherit)]</span></span>\n<span class=\"line\"><span>                          set branch tracking configuration</span></span>\n<span class=\"line\"><span>    -f, --force           force checkout (throw away local modifications)</span></span>\n<span class=\"line\"><span>    --orphan &lt;new-branch&gt;</span></span>\n<span class=\"line\"><span>                          new unparented branch</span></span>\n<span class=\"line\"><span>    --overwrite-ignore    update ignored files (default)</span></span>\n<span class=\"line\"><span>    --ignore-other-worktrees</span></span>\n<span class=\"line\"><span>                          do not check if another worktree is holding the given ref</span></span>\n<span class=\"line\"><span>    -2, --ours            checkout our version for unmerged files</span></span>\n<span class=\"line\"><span>    -3, --theirs          checkout their version for unmerged files</span></span>\n<span class=\"line\"><span>    -p, --patch           select hunks interactively</span></span>\n<span class=\"line\"><span>    --ignore-skip-worktree-bits</span></span>\n<span class=\"line\"><span>                          do not limit pathspecs to sparse entries only</span></span>\n<span class=\"line\"><span>    --pathspec-from-file &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          read pathspec from file</span></span>\n<span class=\"line\"><span>    --pathspec-file-nul   with --pathspec-from-file, pathspec elements are separated with NUL character</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -b</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dev-branch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tags/v2.0.0-rc.52</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\">  -b</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> v2.0.0-rc.52</span></span></code></pre>\n</div><h2>cherry-pick</h2>\n<details class=\"hint-container details\"><summary>git cherry-pick -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git cherry-pick [--edit] [-n] [-m &lt;parent-number&gt;] [-s] [-x] [--ff]</span></span>\n<span class=\"line\"><span>                       [-S[&lt;keyid&gt;]] &lt;commit&gt;...</span></span>\n<span class=\"line\"><span>   or: git cherry-pick (--continue | --skip | --abort | --quit)</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    --quit                end revert or cherry-pick sequence</span></span>\n<span class=\"line\"><span>    --continue            resume revert or cherry-pick sequence</span></span>\n<span class=\"line\"><span>    --abort               cancel revert or cherry-pick sequence</span></span>\n<span class=\"line\"><span>    --skip                skip current commit and continue</span></span>\n<span class=\"line\"><span>    --cleanup &lt;mode&gt;      how to strip spaces and #comments from message</span></span>\n<span class=\"line\"><span>    -n, --no-commit       don't automatically commit</span></span>\n<span class=\"line\"><span>    -e, --edit            edit the commit message</span></span>\n<span class=\"line\"><span>    -s, --signoff         add a Signed-off-by trailer</span></span>\n<span class=\"line\"><span>    -m, --mainline &lt;parent-number&gt;</span></span>\n<span class=\"line\"><span>                          select mainline parent</span></span>\n<span class=\"line\"><span>    --rerere-autoupdate   update the index with reused conflict resolution if possible</span></span>\n<span class=\"line\"><span>    --strategy &lt;strategy&gt;</span></span>\n<span class=\"line\"><span>                          merge strategy</span></span>\n<span class=\"line\"><span>    -X, --strategy-option &lt;option&gt;</span></span>\n<span class=\"line\"><span>                          option for merge strategy</span></span>\n<span class=\"line\"><span>    -S, --gpg-sign[=&lt;key-id&gt;]</span></span>\n<span class=\"line\"><span>                          GPG sign commit</span></span>\n<span class=\"line\"><span>    -x                    append commit name</span></span>\n<span class=\"line\"><span>    --ff                  allow fast-forward</span></span>\n<span class=\"line\"><span>    --allow-empty         preserve initially empty commits</span></span>\n<span class=\"line\"><span>    --allow-empty-message</span></span>\n<span class=\"line\"><span>                          allow commits with empty messages</span></span>\n<span class=\"line\"><span>    --keep-redundant-commits</span></span>\n<span class=\"line\"><span>                          keep redundant, empty commits</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>clone</h2>\n<details class=\"hint-container details\"><summary>git clone -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git clone [&lt;options&gt;] [--] &lt;repo&gt; [&lt;dir&gt;]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -v, --verbose         be more verbose</span></span>\n<span class=\"line\"><span>    -q, --quiet           be more quiet</span></span>\n<span class=\"line\"><span>    --progress            force progress reporting</span></span>\n<span class=\"line\"><span>    --reject-shallow      don't clone shallow repository</span></span>\n<span class=\"line\"><span>    -n, --no-checkout     don't create a checkout</span></span>\n<span class=\"line\"><span>    --bare                create a bare repository</span></span>\n<span class=\"line\"><span>    --mirror              create a mirror repository (implies bare)</span></span>\n<span class=\"line\"><span>    -l, --local           to clone from a local repository</span></span>\n<span class=\"line\"><span>    --no-hardlinks        don't use local hardlinks, always copy</span></span>\n<span class=\"line\"><span>    -s, --shared          setup as shared repository</span></span>\n<span class=\"line\"><span>    --recurse-submodules[=&lt;pathspec&gt;]</span></span>\n<span class=\"line\"><span>                          initialize submodules in the clone</span></span>\n<span class=\"line\"><span>    --recursive[=&lt;pathspec&gt;]</span></span>\n<span class=\"line\"><span>                          alias of --recurse-submodules</span></span>\n<span class=\"line\"><span>    -j, --jobs &lt;n&gt;        number of submodules cloned in parallel</span></span>\n<span class=\"line\"><span>    --template &lt;template-directory&gt;</span></span>\n<span class=\"line\"><span>                          directory from which templates will be used</span></span>\n<span class=\"line\"><span>    --reference &lt;repo&gt;    reference repository</span></span>\n<span class=\"line\"><span>    --reference-if-able &lt;repo&gt;</span></span>\n<span class=\"line\"><span>                          reference repository</span></span>\n<span class=\"line\"><span>    --dissociate          use --reference only while cloning</span></span>\n<span class=\"line\"><span>    -o, --origin &lt;name&gt;   use &lt;name&gt; instead of 'origin' to track upstream</span></span>\n<span class=\"line\"><span>    -b, --branch &lt;branch&gt;</span></span>\n<span class=\"line\"><span>                          checkout &lt;branch&gt; instead of the remote's HEAD</span></span>\n<span class=\"line\"><span>    -u, --upload-pack &lt;path&gt;</span></span>\n<span class=\"line\"><span>                          path to git-upload-pack on the remote</span></span>\n<span class=\"line\"><span>    --depth &lt;depth&gt;       create a shallow clone of that depth</span></span>\n<span class=\"line\"><span>    --shallow-since &lt;time&gt;</span></span>\n<span class=\"line\"><span>                          create a shallow clone since a specific time</span></span>\n<span class=\"line\"><span>    --shallow-exclude &lt;revision&gt;</span></span>\n<span class=\"line\"><span>                          deepen history of shallow clone, excluding rev</span></span>\n<span class=\"line\"><span>    --single-branch       clone only one branch, HEAD or --branch</span></span>\n<span class=\"line\"><span>    --no-tags             don't clone any tags, and make later fetches not to follow them</span></span>\n<span class=\"line\"><span>    --shallow-submodules  any cloned submodules will be shallow</span></span>\n<span class=\"line\"><span>    --separate-git-dir &lt;gitdir&gt;</span></span>\n<span class=\"line\"><span>                          separate git dir from working tree</span></span>\n<span class=\"line\"><span>    -c, --config &lt;key=value&gt;</span></span>\n<span class=\"line\"><span>                          set config inside the new repository</span></span>\n<span class=\"line\"><span>    --server-option &lt;server-specific&gt;</span></span>\n<span class=\"line\"><span>                          option to transmit</span></span>\n<span class=\"line\"><span>    -4, --ipv4            use IPv4 addresses only</span></span>\n<span class=\"line\"><span>    -6, --ipv6            use IPv6 addresses only</span></span>\n<span class=\"line\"><span>    --filter &lt;args&gt;       object filtering</span></span>\n<span class=\"line\"><span>    --also-filter-submodules</span></span>\n<span class=\"line\"><span>                          apply partial clone filters to submodules</span></span>\n<span class=\"line\"><span>    --remote-submodules   any cloned submodules will use their remote-tracking branch</span></span>\n<span class=\"line\"><span>    --sparse              initialize sparse-checkout file to include only files at root</span></span>\n<span class=\"line\"><span>    --bundle-uri &lt;uri&gt;    a URI for downloading bundles before fetching from origin remote</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>commit</h2>\n<details class=\"hint-container details\"><summary>git commit -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git commit [-a | --interactive | --patch] [-s] [-v] [-u&lt;mode&gt;] [--amend]</span></span>\n<span class=\"line\"><span>                  [--dry-run] [(-c | -C | --squash) &lt;commit&gt; | --fixup [(amend|reword):]&lt;commit&gt;)]</span></span>\n<span class=\"line\"><span>                  [-F &lt;file&gt; | -m &lt;msg&gt;] [--reset-author] [--allow-empty]</span></span>\n<span class=\"line\"><span>                  [--allow-empty-message] [--no-verify] [-e] [--author=&lt;author&gt;]</span></span>\n<span class=\"line\"><span>                  [--date=&lt;date&gt;] [--cleanup=&lt;mode&gt;] [--[no-]status]</span></span>\n<span class=\"line\"><span>                  [-i | -o] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]</span></span>\n<span class=\"line\"><span>                  [(--trailer &lt;token&gt;[(=|:)&lt;value&gt;])...] [-S[&lt;keyid&gt;]]</span></span>\n<span class=\"line\"><span>                  [--] [&lt;pathspec&gt;...]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -q, --quiet           suppress summary after successful commit</span></span>\n<span class=\"line\"><span>    -v, --verbose         show diff in commit message template</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Commit message options</span></span>\n<span class=\"line\"><span>    -F, --file &lt;file&gt;     read message from file</span></span>\n<span class=\"line\"><span>    --author &lt;author&gt;     override author for commit</span></span>\n<span class=\"line\"><span>    --date &lt;date&gt;         override date for commit</span></span>\n<span class=\"line\"><span>    -m, --message &lt;message&gt;</span></span>\n<span class=\"line\"><span>                          commit message</span></span>\n<span class=\"line\"><span>    -c, --reedit-message &lt;commit&gt;</span></span>\n<span class=\"line\"><span>                          reuse and edit message from specified commit</span></span>\n<span class=\"line\"><span>    -C, --reuse-message &lt;commit&gt;</span></span>\n<span class=\"line\"><span>                          reuse message from specified commit</span></span>\n<span class=\"line\"><span>    --fixup [(amend|reword):]commit</span></span>\n<span class=\"line\"><span>                          use autosquash formatted message to fixup or amend/reword specified commit</span></span>\n<span class=\"line\"><span>    --squash &lt;commit&gt;     use autosquash formatted message to squash specified commit</span></span>\n<span class=\"line\"><span>    --reset-author        the commit is authored by me now (used with -C/-c/--amend)</span></span>\n<span class=\"line\"><span>    --trailer &lt;trailer&gt;   add custom trailer(s)</span></span>\n<span class=\"line\"><span>    -s, --signoff         add a Signed-off-by trailer</span></span>\n<span class=\"line\"><span>    -t, --template &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          use specified template file</span></span>\n<span class=\"line\"><span>    -e, --edit            force edit of commit</span></span>\n<span class=\"line\"><span>    --cleanup &lt;mode&gt;      how to strip spaces and #comments from message</span></span>\n<span class=\"line\"><span>    --status              include status in commit message template</span></span>\n<span class=\"line\"><span>    -S, --gpg-sign[=&lt;key-id&gt;]</span></span>\n<span class=\"line\"><span>                          GPG sign commit</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Commit contents options</span></span>\n<span class=\"line\"><span>    -a, --all             commit all changed files</span></span>\n<span class=\"line\"><span>    -i, --include         add specified files to index for commit</span></span>\n<span class=\"line\"><span>    --interactive         interactively add files</span></span>\n<span class=\"line\"><span>    -p, --patch           interactively add changes</span></span>\n<span class=\"line\"><span>    -o, --only            commit only specified files</span></span>\n<span class=\"line\"><span>    -n, --no-verify       bypass pre-commit and commit-msg hooks</span></span>\n<span class=\"line\"><span>    --dry-run             show what would be committed</span></span>\n<span class=\"line\"><span>    --short               show status concisely</span></span>\n<span class=\"line\"><span>    --branch              show branch information</span></span>\n<span class=\"line\"><span>    --ahead-behind        compute full ahead/behind values</span></span>\n<span class=\"line\"><span>    --porcelain           machine-readable output</span></span>\n<span class=\"line\"><span>    --long                show status in long format (default)</span></span>\n<span class=\"line\"><span>    -z, --null            terminate entries with NUL</span></span>\n<span class=\"line\"><span>    --amend               amend previous commit</span></span>\n<span class=\"line\"><span>    --no-post-rewrite     bypass post-rewrite hook</span></span>\n<span class=\"line\"><span>    -u, --untracked-files[=&lt;mode&gt;]</span></span>\n<span class=\"line\"><span>                          show untracked files, optional modes: all, normal, no. (Default: all)</span></span>\n<span class=\"line\"><span>    --pathspec-from-file &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          read pathspec from file</span></span>\n<span class=\"line\"><span>    --pathspec-file-nul   with --pathspec-from-file, pathspec elements are separated with NUL character</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p><code>commit</code> 将暂存区内容，提交到本地仓库中，并生成一个提交记录。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'commit message'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 提交代码到本地仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --amend</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 向上一次提交记录中追加改动。可同时修改 commit message。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -S</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'commit message'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 使用 GPG 签名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -a</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'commit message'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 合并 执行 git add . 和 git commit -m</span></span></code></pre>\n</div><h2>config</h2>\n<details class=\"hint-container details\"><summary>git config -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git config [&lt;options&gt;]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Config file location</span></span>\n<span class=\"line\"><span>    --global              use global config file</span></span>\n<span class=\"line\"><span>    --system              use system config file</span></span>\n<span class=\"line\"><span>    --local               use repository config file</span></span>\n<span class=\"line\"><span>    --worktree            use per-worktree config file</span></span>\n<span class=\"line\"><span>    -f, --file &lt;file&gt;     use given config file</span></span>\n<span class=\"line\"><span>    --blob &lt;blob-id&gt;      read config from given blob object</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Action</span></span>\n<span class=\"line\"><span>    --get                 get value: name [value-pattern]</span></span>\n<span class=\"line\"><span>    --get-all             get all values: key [value-pattern]</span></span>\n<span class=\"line\"><span>    --get-regexp          get values for regexp: name-regex [value-pattern]</span></span>\n<span class=\"line\"><span>    --get-urlmatch        get value specific for the URL: section[.var] URL</span></span>\n<span class=\"line\"><span>    --replace-all         replace all matching variables: name value [value-pattern]</span></span>\n<span class=\"line\"><span>    --add                 add a new variable: name value</span></span>\n<span class=\"line\"><span>    --unset               remove a variable: name [value-pattern]</span></span>\n<span class=\"line\"><span>    --unset-all           remove all matches: name [value-pattern]</span></span>\n<span class=\"line\"><span>    --rename-section      rename section: old-name new-name</span></span>\n<span class=\"line\"><span>    --remove-section      remove a section: name</span></span>\n<span class=\"line\"><span>    -l, --list            list all</span></span>\n<span class=\"line\"><span>    --fixed-value         use string equality when comparing values to 'value-pattern'</span></span>\n<span class=\"line\"><span>    -e, --edit            open an editor</span></span>\n<span class=\"line\"><span>    --get-color           find the color configured: slot [default]</span></span>\n<span class=\"line\"><span>    --get-colorbool       find the color setting: slot [stdout-is-tty]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Type</span></span>\n<span class=\"line\"><span>    -t, --type &lt;type&gt;     value is given this type</span></span>\n<span class=\"line\"><span>    --bool                value is \"true\" or \"false\"</span></span>\n<span class=\"line\"><span>    --int                 value is decimal number</span></span>\n<span class=\"line\"><span>    --bool-or-int         value is --bool or --int</span></span>\n<span class=\"line\"><span>    --bool-or-str         value is --bool or string</span></span>\n<span class=\"line\"><span>    --path                value is a path (file or directory name)</span></span>\n<span class=\"line\"><span>    --expiry-date         value is an expiry date</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Other</span></span>\n<span class=\"line\"><span>    -z, --null            terminate values with NUL byte</span></span>\n<span class=\"line\"><span>    --name-only           show variable names only</span></span>\n<span class=\"line\"><span>    --includes            respect include directives on lookup</span></span>\n<span class=\"line\"><span>    --show-origin         show origin of config (file, standard input, blob, command line)</span></span>\n<span class=\"line\"><span>    --show-scope          show scope of config (worktree, local, global, system, command)</span></span>\n<span class=\"line\"><span>    --default &lt;value&gt;     with --get, use default value when missing entry</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p>配置 git 工作环境。分系统，用户，仓库三个级别的配置。</p>\n<p>下面给出三个配置文件的位置。</p>\n<ul>\n<li>system: 存储在 <code>/etc/gitconfig</code>.</li>\n<li>global: 存储在 <code>~/.gitconfig</code>.</li>\n<li>local: 存储在 <code>&lt;repo&gt;/.git/config</code>.</li>\n</ul>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user.name</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"user name\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user.email</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"example@example.com\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> autocrlf=input</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 配置 crlf 到 lf 的转换，windows 建议设置 true。</span></span></code></pre>\n</div><h2>fetch</h2>\n<details class=\"hint-container details\"><summary>git fetch -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git fetch [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;...]]</span></span>\n<span class=\"line\"><span>   or: git fetch [&lt;options&gt;] &lt;group&gt;</span></span>\n<span class=\"line\"><span>   or: git fetch --multiple [&lt;options&gt;] [(&lt;repository&gt; | &lt;group&gt;)...]</span></span>\n<span class=\"line\"><span>   or: git fetch --all [&lt;options&gt;]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -v, --verbose         be more verbose</span></span>\n<span class=\"line\"><span>    -q, --quiet           be more quiet</span></span>\n<span class=\"line\"><span>    --all                 fetch from all remotes</span></span>\n<span class=\"line\"><span>    --set-upstream        set upstream for git pull/fetch</span></span>\n<span class=\"line\"><span>    -a, --append          append to .git/FETCH_HEAD instead of overwriting</span></span>\n<span class=\"line\"><span>    --atomic              use atomic transaction to update references</span></span>\n<span class=\"line\"><span>    --upload-pack &lt;path&gt;  path to upload pack on remote end</span></span>\n<span class=\"line\"><span>    -f, --force           force overwrite of local reference</span></span>\n<span class=\"line\"><span>    -m, --multiple        fetch from multiple remotes</span></span>\n<span class=\"line\"><span>    -t, --tags            fetch all tags and associated objects</span></span>\n<span class=\"line\"><span>    -n                    do not fetch all tags (--no-tags)</span></span>\n<span class=\"line\"><span>    -j, --jobs &lt;n&gt;        number of submodules fetched in parallel</span></span>\n<span class=\"line\"><span>    --prefetch            modify the refspec to place all refs within refs/prefetch/</span></span>\n<span class=\"line\"><span>    -p, --prune           prune remote-tracking branches no longer on remote</span></span>\n<span class=\"line\"><span>    -P, --prune-tags      prune local tags no longer on remote and clobber changed tags</span></span>\n<span class=\"line\"><span>    --recurse-submodules[=&lt;on-demand&gt;]</span></span>\n<span class=\"line\"><span>                          control recursive fetching of submodules</span></span>\n<span class=\"line\"><span>    --dry-run             dry run</span></span>\n<span class=\"line\"><span>    --write-fetch-head    write fetched references to the FETCH_HEAD file</span></span>\n<span class=\"line\"><span>    -k, --keep            keep downloaded pack</span></span>\n<span class=\"line\"><span>    -u, --update-head-ok  allow updating of HEAD ref</span></span>\n<span class=\"line\"><span>    --progress            force progress reporting</span></span>\n<span class=\"line\"><span>    --depth &lt;depth&gt;       deepen history of shallow clone</span></span>\n<span class=\"line\"><span>    --shallow-since &lt;time&gt;</span></span>\n<span class=\"line\"><span>                          deepen history of shallow repository based on time</span></span>\n<span class=\"line\"><span>    --shallow-exclude &lt;revision&gt;</span></span>\n<span class=\"line\"><span>                          deepen history of shallow clone, excluding rev</span></span>\n<span class=\"line\"><span>    --deepen &lt;n&gt;          deepen history of shallow clone</span></span>\n<span class=\"line\"><span>    --unshallow           convert to a complete repository</span></span>\n<span class=\"line\"><span>    --refetch             re-fetch without negotiating common commits</span></span>\n<span class=\"line\"><span>    --update-shallow      accept refs that update .git/shallow</span></span>\n<span class=\"line\"><span>    --refmap &lt;refmap&gt;     specify fetch refmap</span></span>\n<span class=\"line\"><span>    -o, --server-option &lt;server-specific&gt;</span></span>\n<span class=\"line\"><span>                          option to transmit</span></span>\n<span class=\"line\"><span>    -4, --ipv4            use IPv4 addresses only</span></span>\n<span class=\"line\"><span>    -6, --ipv6            use IPv6 addresses only</span></span>\n<span class=\"line\"><span>    --negotiation-tip &lt;revision&gt;</span></span>\n<span class=\"line\"><span>                          report that we have only objects reachable from this object</span></span>\n<span class=\"line\"><span>    --negotiate-only      do not fetch a packfile; instead, print ancestors of negotiation tips</span></span>\n<span class=\"line\"><span>    --filter &lt;args&gt;       object filtering</span></span>\n<span class=\"line\"><span>    --auto-maintenance    run 'maintenance --auto' after fetching</span></span>\n<span class=\"line\"><span>    --auto-gc             run 'maintenance --auto' after fetching</span></span>\n<span class=\"line\"><span>    --show-forced-updates</span></span>\n<span class=\"line\"><span>                          check for forced-updates on all updated branches</span></span>\n<span class=\"line\"><span>    --write-commit-graph  write the commit-graph after fetching</span></span>\n<span class=\"line\"><span>    --stdin               accept refspecs from stdin</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>format-patch</h2>\n<details class=\"hint-container details\"><summary>git format-patch -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git format-patch [&lt;options&gt;] [&lt;since&gt; | &lt;revision-range&gt;]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -n, --numbered        use [PATCH n/m] even with a single patch</span></span>\n<span class=\"line\"><span>    -N, --no-numbered     use [PATCH] even with multiple patches</span></span>\n<span class=\"line\"><span>    -s, --signoff         add a Signed-off-by trailer</span></span>\n<span class=\"line\"><span>    --stdout              print patches to standard out</span></span>\n<span class=\"line\"><span>    --cover-letter        generate a cover letter</span></span>\n<span class=\"line\"><span>    --numbered-files      use simple number sequence for output file names</span></span>\n<span class=\"line\"><span>    --suffix &lt;sfx&gt;        use &lt;sfx&gt; instead of '.patch'</span></span>\n<span class=\"line\"><span>    --start-number &lt;n&gt;    start numbering patches at &lt;n&gt; instead of 1</span></span>\n<span class=\"line\"><span>    -v, --reroll-count &lt;reroll-count&gt;</span></span>\n<span class=\"line\"><span>                          mark the series as Nth re-roll</span></span>\n<span class=\"line\"><span>    --filename-max-length &lt;n&gt;</span></span>\n<span class=\"line\"><span>                          max length of output filename</span></span>\n<span class=\"line\"><span>    --rfc                 use [RFC PATCH] instead of [PATCH]</span></span>\n<span class=\"line\"><span>    --cover-from-description &lt;cover-from-description-mode&gt;</span></span>\n<span class=\"line\"><span>                          generate parts of a cover letter based on a branch's description</span></span>\n<span class=\"line\"><span>    --subject-prefix &lt;prefix&gt;</span></span>\n<span class=\"line\"><span>                          use [&lt;prefix&gt;] instead of [PATCH]</span></span>\n<span class=\"line\"><span>    -o, --output-directory &lt;dir&gt;</span></span>\n<span class=\"line\"><span>                          store resulting files in &lt;dir&gt;</span></span>\n<span class=\"line\"><span>    -k, --keep-subject    don't strip/add [PATCH]</span></span>\n<span class=\"line\"><span>    --no-binary           don't output binary diffs</span></span>\n<span class=\"line\"><span>    --zero-commit         output all-zero hash in From header</span></span>\n<span class=\"line\"><span>    --ignore-if-in-upstream</span></span>\n<span class=\"line\"><span>                          don't include a patch matching a commit upstream</span></span>\n<span class=\"line\"><span>    -p, --no-stat         show patch format instead of default (patch + stat)</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Messaging</span></span>\n<span class=\"line\"><span>    --add-header &lt;header&gt;</span></span>\n<span class=\"line\"><span>                          add email header</span></span>\n<span class=\"line\"><span>    --to &lt;email&gt;          add To: header</span></span>\n<span class=\"line\"><span>    --cc &lt;email&gt;          add Cc: header</span></span>\n<span class=\"line\"><span>    --from[=&lt;ident&gt;]      set From address to &lt;ident&gt; (or committer ident if absent)</span></span>\n<span class=\"line\"><span>    --in-reply-to &lt;message-id&gt;</span></span>\n<span class=\"line\"><span>                          make first mail a reply to &lt;message-id&gt;</span></span>\n<span class=\"line\"><span>    --attach[=&lt;boundary&gt;]</span></span>\n<span class=\"line\"><span>                          attach the patch</span></span>\n<span class=\"line\"><span>    --inline[=&lt;boundary&gt;]</span></span>\n<span class=\"line\"><span>                          inline the patch</span></span>\n<span class=\"line\"><span>    --thread[=&lt;style&gt;]    enable message threading, styles: shallow, deep</span></span>\n<span class=\"line\"><span>    --signature &lt;signature&gt;</span></span>\n<span class=\"line\"><span>                          add a signature</span></span>\n<span class=\"line\"><span>    --base &lt;base-commit&gt;  add prerequisite tree info to the patch series</span></span>\n<span class=\"line\"><span>    --signature-file &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          add a signature from a file</span></span>\n<span class=\"line\"><span>    -q, --quiet           don't print the patch filenames</span></span>\n<span class=\"line\"><span>    --progress            show progress while generating patches</span></span>\n<span class=\"line\"><span>    --interdiff &lt;rev&gt;     show changes against &lt;rev&gt; in cover letter or single patch</span></span>\n<span class=\"line\"><span>    --range-diff &lt;refspec&gt;</span></span>\n<span class=\"line\"><span>                          show changes against &lt;refspec&gt; in cover letter or single patch</span></span>\n<span class=\"line\"><span>    --creation-factor &lt;n&gt;</span></span>\n<span class=\"line\"><span>                          percentage by which creation is weighted</span></span>\n<span class=\"line\"><span>    --force-in-body-from  show in-body From: even if identical to the e-mail header</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>init</h2>\n<details class=\"hint-container details\"><summary>git init -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git init [-q | --quiet] [--bare] [--template=&lt;template-directory&gt;]</span></span>\n<span class=\"line\"><span>                [--separate-git-dir &lt;git-dir&gt;] [--object-format=&lt;format&gt;]</span></span>\n<span class=\"line\"><span>                [-b &lt;branch-name&gt; | --initial-branch=&lt;branch-name&gt;]</span></span>\n<span class=\"line\"><span>                [--shared[=&lt;permissions&gt;]] [&lt;directory&gt;]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    --template &lt;template-directory&gt;</span></span>\n<span class=\"line\"><span>                          directory from which templates will be used</span></span>\n<span class=\"line\"><span>    --bare                create a bare repository</span></span>\n<span class=\"line\"><span>    --shared[=&lt;permissions&gt;]</span></span>\n<span class=\"line\"><span>                          specify that the git repository is to be shared amongst several users</span></span>\n<span class=\"line\"><span>    -q, --quiet           be quiet</span></span>\n<span class=\"line\"><span>    --separate-git-dir &lt;gitdir&gt;</span></span>\n<span class=\"line\"><span>                          separate git dir from working tree</span></span>\n<span class=\"line\"><span>    -b, --initial-branch &lt;name&gt;</span></span>\n<span class=\"line\"><span>                          override the name of the initial branch</span></span>\n<span class=\"line\"><span>    --object-format &lt;hash&gt;</span></span>\n<span class=\"line\"><span>                          specify the hash algorithm to use</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p>创建一个空的 git 仓库。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> init</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 创建目录为 test 的仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> init</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -b</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> main</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 创建默认分支 main 的仓库</span></span></code></pre>\n</div><div class=\"hint-container important\">\n<p class=\"hint-container-title\">创建裸仓库</p>\n<p>默认创建的仓库都带工作区。裸仓库主要用在远程服务仓库，如 github，gitee， 用于开发者提交自己的代码。</p>\n<p>下面是在 linux 环境创建并使用裸仓库的实例。 用户名 <code>flueky.zuo</code></p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> init</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --base</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 在用户目录下创建 test 裸仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 以下命令在 git 工作区仓库执行。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> flueky.zuo@localhost:test</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> main</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 提交代码到 local 仓库。</span></span></code></pre>\n</div></div>\n<h2>log</h2>\n<p>查看提交记录。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 默认按照标准格式，由近到远输出提交记录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --oneline</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 简化输出，只显示提交 id 和信息。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --author</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'flueky.zuo'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看指定提交者的信息，通常记录在 user.name 和 user.email 中。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --since/--after</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '2024-10-01'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 显示指定时间之后的提交。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --until/--before</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '2024-10-02'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 显示指定时间之前的提交。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'message'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看包含指定信息的提交。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --graph</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 显示包含图形的提交记录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -p</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 补丁的形式，显示每个提交的差异。可结合 -- filepath 使用。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --stat</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 显示每次修改提交的文件统计信息。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -num</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 显示最近 num 次的提交。</span></span></code></pre>\n</div><h2>merge</h2>\n<details class=\"hint-container details\"><summary>git merge -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git merge [&lt;options&gt;] [&lt;commit&gt;...]</span></span>\n<span class=\"line\"><span>   or: git merge --abort</span></span>\n<span class=\"line\"><span>   or: git merge --continue</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -n                    do not show a diffstat at the end of the merge</span></span>\n<span class=\"line\"><span>    --stat                show a diffstat at the end of the merge</span></span>\n<span class=\"line\"><span>    --summary             (synonym to --stat)</span></span>\n<span class=\"line\"><span>    --log[=&lt;n&gt;]           add (at most &lt;n&gt;) entries from shortlog to merge commit message</span></span>\n<span class=\"line\"><span>    --squash              create a single commit instead of doing a merge</span></span>\n<span class=\"line\"><span>    --commit              perform a commit if the merge succeeds (default)</span></span>\n<span class=\"line\"><span>    -e, --edit            edit message before committing</span></span>\n<span class=\"line\"><span>    --cleanup &lt;mode&gt;      how to strip spaces and #comments from message</span></span>\n<span class=\"line\"><span>    --ff                  allow fast-forward (default)</span></span>\n<span class=\"line\"><span>    --ff-only             abort if fast-forward is not possible</span></span>\n<span class=\"line\"><span>    --rerere-autoupdate   update the index with reused conflict resolution if possible</span></span>\n<span class=\"line\"><span>    --verify-signatures   verify that the named commit has a valid GPG signature</span></span>\n<span class=\"line\"><span>    -s, --strategy &lt;strategy&gt;</span></span>\n<span class=\"line\"><span>                          merge strategy to use</span></span>\n<span class=\"line\"><span>    -X, --strategy-option &lt;option=value&gt;</span></span>\n<span class=\"line\"><span>                          option for selected merge strategy</span></span>\n<span class=\"line\"><span>    -m, --message &lt;message&gt;</span></span>\n<span class=\"line\"><span>                          merge commit message (for a non-fast-forward merge)</span></span>\n<span class=\"line\"><span>    -F, --file &lt;path&gt;     read message from file</span></span>\n<span class=\"line\"><span>    --into-name &lt;name&gt;    use &lt;name&gt; instead of the real target</span></span>\n<span class=\"line\"><span>    -v, --verbose         be more verbose</span></span>\n<span class=\"line\"><span>    -q, --quiet           be more quiet</span></span>\n<span class=\"line\"><span>    --abort               abort the current in-progress merge</span></span>\n<span class=\"line\"><span>    --quit                --abort but leave index and working tree alone</span></span>\n<span class=\"line\"><span>    --continue            continue the current in-progress merge</span></span>\n<span class=\"line\"><span>    --allow-unrelated-histories</span></span>\n<span class=\"line\"><span>                          allow merging unrelated histories</span></span>\n<span class=\"line\"><span>    --progress            force progress reporting</span></span>\n<span class=\"line\"><span>    -S, --gpg-sign[=&lt;key-id&gt;]</span></span>\n<span class=\"line\"><span>                          GPG sign commit</span></span>\n<span class=\"line\"><span>    --autostash           automatically stash/stash pop before and after</span></span>\n<span class=\"line\"><span>    --overwrite-ignore    update ignored files (default)</span></span>\n<span class=\"line\"><span>    --signoff             add a Signed-off-by trailer</span></span>\n<span class=\"line\"><span>    --no-verify           bypass pre-merge-commit and commit-msg hooks</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>pull</h2>\n<details class=\"hint-container details\"><summary>git pull -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git pull [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;...]]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -v, --verbose         be more verbose</span></span>\n<span class=\"line\"><span>    -q, --quiet           be more quiet</span></span>\n<span class=\"line\"><span>    --progress            force progress reporting</span></span>\n<span class=\"line\"><span>    --recurse-submodules[=&lt;on-demand&gt;]</span></span>\n<span class=\"line\"><span>                          control for recursive fetching of submodules</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Options related to merging</span></span>\n<span class=\"line\"><span>    -r, --rebase[=(false|true|merges|interactive)]</span></span>\n<span class=\"line\"><span>                          incorporate changes by rebasing rather than merging</span></span>\n<span class=\"line\"><span>    -n                    do not show a diffstat at the end of the merge</span></span>\n<span class=\"line\"><span>    --stat                show a diffstat at the end of the merge</span></span>\n<span class=\"line\"><span>    --log[=&lt;n&gt;]           add (at most &lt;n&gt;) entries from shortlog to merge commit message</span></span>\n<span class=\"line\"><span>    --signoff[=...]       add a Signed-off-by trailer</span></span>\n<span class=\"line\"><span>    --squash              create a single commit instead of doing a merge</span></span>\n<span class=\"line\"><span>    --commit              perform a commit if the merge succeeds (default)</span></span>\n<span class=\"line\"><span>    --edit                edit message before committing</span></span>\n<span class=\"line\"><span>    --cleanup &lt;mode&gt;      how to strip spaces and #comments from message</span></span>\n<span class=\"line\"><span>    --ff                  allow fast-forward</span></span>\n<span class=\"line\"><span>    --ff-only             abort if fast-forward is not possible</span></span>\n<span class=\"line\"><span>    --verify              control use of pre-merge-commit and commit-msg hooks</span></span>\n<span class=\"line\"><span>    --verify-signatures   verify that the named commit has a valid GPG signature</span></span>\n<span class=\"line\"><span>    --autostash           automatically stash/stash pop before and after</span></span>\n<span class=\"line\"><span>    -s, --strategy &lt;strategy&gt;</span></span>\n<span class=\"line\"><span>                          merge strategy to use</span></span>\n<span class=\"line\"><span>    -X, --strategy-option &lt;option=value&gt;</span></span>\n<span class=\"line\"><span>                          option for selected merge strategy</span></span>\n<span class=\"line\"><span>    -S, --gpg-sign[=&lt;key-id&gt;]</span></span>\n<span class=\"line\"><span>                          GPG sign commit</span></span>\n<span class=\"line\"><span>    --allow-unrelated-histories</span></span>\n<span class=\"line\"><span>                          allow merging unrelated histories</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Options related to fetching</span></span>\n<span class=\"line\"><span>    --all                 fetch from all remotes</span></span>\n<span class=\"line\"><span>    -a, --append          append to .git/FETCH_HEAD instead of overwriting</span></span>\n<span class=\"line\"><span>    --upload-pack &lt;path&gt;  path to upload pack on remote end</span></span>\n<span class=\"line\"><span>    -f, --force           force overwrite of local branch</span></span>\n<span class=\"line\"><span>    -t, --tags            fetch all tags and associated objects</span></span>\n<span class=\"line\"><span>    -p, --prune           prune remote-tracking branches no longer on remote</span></span>\n<span class=\"line\"><span>    -j, --jobs[=&lt;n&gt;]      number of submodules pulled in parallel</span></span>\n<span class=\"line\"><span>    --dry-run             dry run</span></span>\n<span class=\"line\"><span>    -k, --keep            keep downloaded pack</span></span>\n<span class=\"line\"><span>    --depth &lt;depth&gt;       deepen history of shallow clone</span></span>\n<span class=\"line\"><span>    --shallow-since &lt;time&gt;</span></span>\n<span class=\"line\"><span>                          deepen history of shallow repository based on time</span></span>\n<span class=\"line\"><span>    --shallow-exclude &lt;revision&gt;</span></span>\n<span class=\"line\"><span>                          deepen history of shallow clone, excluding rev</span></span>\n<span class=\"line\"><span>    --deepen &lt;n&gt;          deepen history of shallow clone</span></span>\n<span class=\"line\"><span>    --unshallow           convert to a complete repository</span></span>\n<span class=\"line\"><span>    --update-shallow      accept refs that update .git/shallow</span></span>\n<span class=\"line\"><span>    --refmap &lt;refmap&gt;     specify fetch refmap</span></span>\n<span class=\"line\"><span>    -o, --server-option &lt;server-specific&gt;</span></span>\n<span class=\"line\"><span>                          option to transmit</span></span>\n<span class=\"line\"><span>    -4, --ipv4            use IPv4 addresses only</span></span>\n<span class=\"line\"><span>    -6, --ipv6            use IPv6 addresses only</span></span>\n<span class=\"line\"><span>    --negotiation-tip &lt;revision&gt;</span></span>\n<span class=\"line\"><span>                          report that we have only objects reachable from this object</span></span>\n<span class=\"line\"><span>    --show-forced-updates</span></span>\n<span class=\"line\"><span>                          check for forced-updates on all updated branches</span></span>\n<span class=\"line\"><span>    --set-upstream        set upstream for git pull/fetch</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>push</h2>\n<details class=\"hint-container details\"><summary>git push -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git push [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;...]]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -v, --verbose         be more verbose</span></span>\n<span class=\"line\"><span>    -q, --quiet           be more quiet</span></span>\n<span class=\"line\"><span>    --repo &lt;repository&gt;   repository</span></span>\n<span class=\"line\"><span>    --all                 push all refs</span></span>\n<span class=\"line\"><span>    --mirror              mirror all refs</span></span>\n<span class=\"line\"><span>    -d, --delete          delete refs</span></span>\n<span class=\"line\"><span>    --tags                push tags (can't be used with --all or --mirror)</span></span>\n<span class=\"line\"><span>    -n, --dry-run         dry run</span></span>\n<span class=\"line\"><span>    --porcelain           machine-readable output</span></span>\n<span class=\"line\"><span>    -f, --force           force updates</span></span>\n<span class=\"line\"><span>    --force-with-lease[=&lt;refname&gt;:&lt;expect&gt;]</span></span>\n<span class=\"line\"><span>                          require old value of ref to be at this value</span></span>\n<span class=\"line\"><span>    --force-if-includes   require remote updates to be integrated locally</span></span>\n<span class=\"line\"><span>    --recurse-submodules (check|on-demand|no)</span></span>\n<span class=\"line\"><span>                          control recursive pushing of submodules</span></span>\n<span class=\"line\"><span>    --thin                use thin pack</span></span>\n<span class=\"line\"><span>    --receive-pack &lt;receive-pack&gt;</span></span>\n<span class=\"line\"><span>                          receive pack program</span></span>\n<span class=\"line\"><span>    --exec &lt;receive-pack&gt;</span></span>\n<span class=\"line\"><span>                          receive pack program</span></span>\n<span class=\"line\"><span>    -u, --set-upstream    set upstream for git pull/status</span></span>\n<span class=\"line\"><span>    --progress            force progress reporting</span></span>\n<span class=\"line\"><span>    --prune               prune locally removed refs</span></span>\n<span class=\"line\"><span>    --no-verify           bypass pre-push hook</span></span>\n<span class=\"line\"><span>    --follow-tags         push missing but relevant tags</span></span>\n<span class=\"line\"><span>    --signed[=(yes|no|if-asked)]</span></span>\n<span class=\"line\"><span>                          GPG sign the push</span></span>\n<span class=\"line\"><span>    --atomic              request atomic transaction on remote side</span></span>\n<span class=\"line\"><span>    -o, --push-option &lt;server-specific&gt;</span></span>\n<span class=\"line\"><span>                          option to transmit</span></span>\n<span class=\"line\"><span>    -4, --ipv4            use IPv4 addresses only</span></span>\n<span class=\"line\"><span>    -6, --ipv6            use IPv6 addresses only</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p><code>push</code> 命令将本地仓库的改动推送到远程仓库。如 <code>Github</code>, <code>Gitee</code>, <code>Gitlab</code> 。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> main</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 推送 main 分支到 origin 仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> main</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 删除 origin 仓库的 main 分支，(其中默认分支和受保护的分支不能被删除)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'tag name'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 推送单个标签</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --tags</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 推送全部标签到 origin 仓库</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> push</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> :refs/tags/'tag name'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 删除 origin 仓库的标签，需要先执行 git tag -d 'tag name'</span></span></code></pre>\n</div><h2>rebase</h2>\n<details class=\"hint-container details\"><summary>git rebase -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git rebase [-i] [options] [--exec &lt;cmd&gt;] [--onto &lt;newbase&gt; | --keep-base] [&lt;upstream&gt; [&lt;branch&gt;]]</span></span>\n<span class=\"line\"><span>   or: git rebase [-i] [options] [--exec &lt;cmd&gt;] [--onto &lt;newbase&gt;] --root [&lt;branch&gt;]</span></span>\n<span class=\"line\"><span>   or: git rebase --continue | --abort | --skip | --edit-todo</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    --onto &lt;revision&gt;     rebase onto given branch instead of upstream</span></span>\n<span class=\"line\"><span>    --keep-base           use the merge-base of upstream and branch as the current base</span></span>\n<span class=\"line\"><span>    --no-verify           allow pre-rebase hook to run</span></span>\n<span class=\"line\"><span>    -q, --quiet           be quiet. implies --no-stat</span></span>\n<span class=\"line\"><span>    -v, --verbose         display a diffstat of what changed upstream</span></span>\n<span class=\"line\"><span>    -n, --no-stat         do not show diffstat of what changed upstream</span></span>\n<span class=\"line\"><span>    --signoff             add a Signed-off-by trailer to each commit</span></span>\n<span class=\"line\"><span>    --committer-date-is-author-date</span></span>\n<span class=\"line\"><span>                          make committer date match author date</span></span>\n<span class=\"line\"><span>    --reset-author-date   ignore author date and use current date</span></span>\n<span class=\"line\"><span>    -C &lt;n&gt;                passed to 'git apply'</span></span>\n<span class=\"line\"><span>    --ignore-whitespace   ignore changes in whitespace</span></span>\n<span class=\"line\"><span>    --whitespace &lt;action&gt;</span></span>\n<span class=\"line\"><span>                          passed to 'git apply'</span></span>\n<span class=\"line\"><span>    -f, --force-rebase    cherry-pick all commits, even if unchanged</span></span>\n<span class=\"line\"><span>    --no-ff               cherry-pick all commits, even if unchanged</span></span>\n<span class=\"line\"><span>    --continue            continue</span></span>\n<span class=\"line\"><span>    --skip                skip current patch and continue</span></span>\n<span class=\"line\"><span>    --abort               abort and check out the original branch</span></span>\n<span class=\"line\"><span>    --quit                abort but keep HEAD where it is</span></span>\n<span class=\"line\"><span>    --edit-todo           edit the todo list during an interactive rebase</span></span>\n<span class=\"line\"><span>    --show-current-patch  show the patch file being applied or merged</span></span>\n<span class=\"line\"><span>    --apply               use apply strategies to rebase</span></span>\n<span class=\"line\"><span>    -m, --merge           use merging strategies to rebase</span></span>\n<span class=\"line\"><span>    -i, --interactive     let the user edit the list of commits to rebase</span></span>\n<span class=\"line\"><span>    --rerere-autoupdate   update the index with reused conflict resolution if possible</span></span>\n<span class=\"line\"><span>    --empty &lt;{drop,keep,ask}&gt;</span></span>\n<span class=\"line\"><span>                          how to handle commits that become empty</span></span>\n<span class=\"line\"><span>    --autosquash          move commits that begin with squash!/fixup! under -i</span></span>\n<span class=\"line\"><span>    --update-refs         update branches that point to commits that are being rebased</span></span>\n<span class=\"line\"><span>    -S, --gpg-sign[=&lt;key-id&gt;]</span></span>\n<span class=\"line\"><span>                          GPG-sign commits</span></span>\n<span class=\"line\"><span>    --autostash           automatically stash/stash pop before and after</span></span>\n<span class=\"line\"><span>    -x, --exec &lt;exec&gt;     add exec lines after each commit of the editable list</span></span>\n<span class=\"line\"><span>    -r, --rebase-merges[=&lt;mode&gt;]</span></span>\n<span class=\"line\"><span>                          try to rebase merges instead of skipping them</span></span>\n<span class=\"line\"><span>    --fork-point          use 'merge-base --fork-point' to refine upstream</span></span>\n<span class=\"line\"><span>    -s, --strategy &lt;strategy&gt;</span></span>\n<span class=\"line\"><span>                          use the given merge strategy</span></span>\n<span class=\"line\"><span>    -X, --strategy-option &lt;option&gt;</span></span>\n<span class=\"line\"><span>                          pass the argument through to the merge strategy</span></span>\n<span class=\"line\"><span>    --root                rebase all reachable commits up to the root(s)</span></span>\n<span class=\"line\"><span>    --reschedule-failed-exec</span></span>\n<span class=\"line\"><span>                          automatically re-schedule any `exec` that fails</span></span>\n<span class=\"line\"><span>    --reapply-cherry-picks</span></span>\n<span class=\"line\"><span>                          apply all changes, even those already present upstream</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>remote</h2>\n<details class=\"hint-container details\"><summary>git remote -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git remote [-v | --verbose]</span></span>\n<span class=\"line\"><span>   or: git remote add [-t &lt;branch&gt;] [-m &lt;master&gt;] [-f] [--tags | --no-tags] [--mirror=&lt;fetch|push&gt;] &lt;name&gt; &lt;url&gt;</span></span>\n<span class=\"line\"><span>   or: git remote rename &lt;old&gt; &lt;new&gt;</span></span>\n<span class=\"line\"><span>   or: git remote remove &lt;name&gt;</span></span>\n<span class=\"line\"><span>   or: git remote set-head &lt;name&gt; (-a | --auto | -d | --delete | &lt;branch&gt;)</span></span>\n<span class=\"line\"><span>   or: git remote [-v | --verbose] show [-n] &lt;name&gt;</span></span>\n<span class=\"line\"><span>   or: git remote prune [-n | --dry-run] &lt;name&gt;</span></span>\n<span class=\"line\"><span>   or: git remote [-v | --verbose] update [-p | --prune] [(&lt;group&gt; | &lt;remote&gt;)...]</span></span>\n<span class=\"line\"><span>   or: git remote set-branches [--add] &lt;name&gt; &lt;branch&gt;...</span></span>\n<span class=\"line\"><span>   or: git remote get-url [--push] [--all] &lt;name&gt;</span></span>\n<span class=\"line\"><span>   or: git remote set-url [--push] &lt;name&gt; &lt;newurl&gt; [&lt;oldurl&gt;]</span></span>\n<span class=\"line\"><span>   or: git remote set-url --add &lt;name&gt; &lt;newurl&gt;</span></span>\n<span class=\"line\"><span>   or: git remote set-url --delete &lt;name&gt; &lt;url&gt;</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -v, --verbose         be verbose; must be placed before a subcommand</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p>本地仓库关联到远程仓库的信息，使用 <code>remote</code> 管理。配置信息保存在 <code>.git/config</code>。 常用命令如下：</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 检查 remote 信息</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 添加 GitHub 地址， 使用 git push github main 推送</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> add</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> github</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git@github.com:flueky/docs.git</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 重命名 github 到 origin，后续使用 origin 推送代码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> rename</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> github</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 删除这个分支</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remove</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> github</span></span></code></pre>\n</div><h2>reset</h2>\n<details class=\"hint-container details\"><summary>git reset -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git reset [--mixed | --soft | --hard | --merge | --keep] [-q] [&lt;commit&gt;]</span></span>\n<span class=\"line\"><span>   or: git reset [-q] [&lt;tree-ish&gt;] [--] &lt;pathspec&gt;...</span></span>\n<span class=\"line\"><span>   or: git reset [-q] [--pathspec-from-file [--pathspec-file-nul]] [&lt;tree-ish&gt;]</span></span>\n<span class=\"line\"><span>   or: git reset --patch [&lt;tree-ish&gt;] [--] [&lt;pathspec&gt;...]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -q, --quiet           be quiet, only report errors</span></span>\n<span class=\"line\"><span>    --no-refresh          skip refreshing the index after reset</span></span>\n<span class=\"line\"><span>    --mixed               reset HEAD and index</span></span>\n<span class=\"line\"><span>    --soft                reset only HEAD</span></span>\n<span class=\"line\"><span>    --hard                reset HEAD, index and working tree</span></span>\n<span class=\"line\"><span>    --merge               reset HEAD, index and working tree</span></span>\n<span class=\"line\"><span>    --keep                reset HEAD but keep local changes</span></span>\n<span class=\"line\"><span>    --recurse-submodules[=&lt;reset&gt;]</span></span>\n<span class=\"line\"><span>                          control recursive updating of submodules</span></span>\n<span class=\"line\"><span>    -p, --patch           select hunks interactively</span></span>\n<span class=\"line\"><span>    -N, --intent-to-add   record only the fact that removed paths will be added later</span></span>\n<span class=\"line\"><span>    --pathspec-from-file &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          read pathspec from file</span></span>\n<span class=\"line\"><span>    --pathspec-file-nul   with --pathspec-from-file, pathspec elements are separated with NUL character</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>revert</h2>\n<details class=\"hint-container details\"><summary>git revert -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git revert [--[no-]edit] [-n] [-m &lt;parent-number&gt;] [-s] [-S[&lt;keyid&gt;]] &lt;commit&gt;...</span></span>\n<span class=\"line\"><span>   or: git revert (--continue | --skip | --abort | --quit)</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    --quit                end revert or cherry-pick sequence</span></span>\n<span class=\"line\"><span>    --continue            resume revert or cherry-pick sequence</span></span>\n<span class=\"line\"><span>    --abort               cancel revert or cherry-pick sequence</span></span>\n<span class=\"line\"><span>    --skip                skip current commit and continue</span></span>\n<span class=\"line\"><span>    --cleanup &lt;mode&gt;      how to strip spaces and #comments from message</span></span>\n<span class=\"line\"><span>    -n, --no-commit       don't automatically commit</span></span>\n<span class=\"line\"><span>    -e, --edit            edit the commit message</span></span>\n<span class=\"line\"><span>    -s, --signoff         add a Signed-off-by trailer</span></span>\n<span class=\"line\"><span>    -m, --mainline &lt;parent-number&gt;</span></span>\n<span class=\"line\"><span>                          select mainline parent</span></span>\n<span class=\"line\"><span>    --rerere-autoupdate   update the index with reused conflict resolution if possible</span></span>\n<span class=\"line\"><span>    --strategy &lt;strategy&gt;</span></span>\n<span class=\"line\"><span>                          merge strategy</span></span>\n<span class=\"line\"><span>    -X, --strategy-option &lt;option&gt;</span></span>\n<span class=\"line\"><span>                          option for merge strategy</span></span>\n<span class=\"line\"><span>    -S, --gpg-sign[=&lt;key-id&gt;]</span></span>\n<span class=\"line\"><span>                          GPG sign commit</span></span>\n<span class=\"line\"><span>    --reference           use the 'reference' format to refer to commits</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>rm</h2>\n<details class=\"hint-container details\"><summary>git rm -h</summary>\n<div class=\"language-\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git rm [-f | --force] [-n] [-r] [--cached] [--ignore-unmatch]</span></span>\n<span class=\"line\"><span>              [--quiet] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]</span></span>\n<span class=\"line\"><span>              [--] [&lt;pathspec&gt;...]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -n, --dry-run         dry run</span></span>\n<span class=\"line\"><span>    -q, --quiet           do not list removed files</span></span>\n<span class=\"line\"><span>    --cached              only remove from the index</span></span>\n<span class=\"line\"><span>    -f, --force           override the up-to-date check</span></span>\n<span class=\"line\"><span>    -r                    allow recursive removal</span></span>\n<span class=\"line\"><span>    --ignore-unmatch      exit with a zero status even if nothing matched</span></span>\n<span class=\"line\"><span>    --sparse              allow updating entries outside of the sparse-checkout cone</span></span>\n<span class=\"line\"><span>    --pathspec-from-file &lt;file&gt;</span></span>\n<span class=\"line\"><span>                          read pathspec from file</span></span>\n<span class=\"line\"><span>    --pathspec-file-nul   with --pathspec-from-file, pathspec elements are separated with NUL character</span></span></code></pre>\n</div></details>\n<h2>stash</h2>\n<details class=\"hint-container details\"><summary>git stash -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git stash list [&lt;log-options&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash show [-u | --include-untracked | --only-untracked] [&lt;diff-options&gt;] [&lt;stash&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash drop [-q | --quiet] [&lt;stash&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash pop [--index] [-q | --quiet] [&lt;stash&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash apply [--index] [-q | --quiet] [&lt;stash&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash branch &lt;branchname&gt; [&lt;stash&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash [push [-p | --patch] [-S | --staged] [-k | --[no-]keep-index] [-q | --quiet]</span></span>\n<span class=\"line\"><span>                 [-u | --include-untracked] [-a | --all] [(-m | --message) &lt;message&gt;]</span></span>\n<span class=\"line\"><span>                 [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]</span></span>\n<span class=\"line\"><span>                 [--] [&lt;pathspec&gt;...]]</span></span>\n<span class=\"line\"><span>   or: git stash save [-p | --patch] [-S | --staged] [-k | --[no-]keep-index] [-q | --quiet]</span></span>\n<span class=\"line\"><span>                 [-u | --include-untracked] [-a | --all] [&lt;message&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash clear</span></span>\n<span class=\"line\"><span>   or: git stash create [&lt;message&gt;]</span></span>\n<span class=\"line\"><span>   or: git stash store [(-m | --message) &lt;message&gt;] [-q | --quiet] &lt;commit&gt;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p><code>stash</code> 命令将未提交的更改保存到 <strong>临时堆栈</strong>，（暂时保存在本地仓库中，<strong>可撤回</strong>）。以便能够切换分支或执行其他操作，但不丢失未提交的工作。</p>\n<ul>\n<li>未提交的更改包括：工作区的更改，和暂存区的更改。</li>\n</ul>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> stash</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> list</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 查看全部暂存的记录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> stash</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pop</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 取出最近暂存的修改记录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> stash</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> drop</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 丢弃最近暂存的修改记录</span></span></code></pre>\n</div><div class=\"hint-container important\">\n<p class=\"hint-container-title\">提示</p>\n<p>执行 <code>git stash pop</code> 后，如遇到和工作区的改动存在冲突，则会保留栈顶的记录。待解决冲突后，需要执行  <code>git stash drop</code>。</p>\n</div>\n<h2>status</h2>\n<details class=\"hint-container details\"><summary>git status -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git status [&lt;options&gt;] [--] [&lt;pathspec&gt;...]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -v, --verbose         be verbose</span></span>\n<span class=\"line\"><span>    -s, --short           show status concisely</span></span>\n<span class=\"line\"><span>    -b, --branch          show branch information</span></span>\n<span class=\"line\"><span>    --show-stash          show stash information</span></span>\n<span class=\"line\"><span>    --ahead-behind        compute full ahead/behind values</span></span>\n<span class=\"line\"><span>    --porcelain[=&lt;version&gt;]</span></span>\n<span class=\"line\"><span>                          machine-readable output</span></span>\n<span class=\"line\"><span>    --long                show status in long format (default)</span></span>\n<span class=\"line\"><span>    -z, --null            terminate entries with NUL</span></span>\n<span class=\"line\"><span>    -u, --untracked-files[=&lt;mode&gt;]</span></span>\n<span class=\"line\"><span>                          show untracked files, optional modes: all, normal, no. (Default: all)</span></span>\n<span class=\"line\"><span>    --ignored[=&lt;mode&gt;]    show ignored files, optional modes: traditional, matching, no. (Default: traditional)</span></span>\n<span class=\"line\"><span>    --ignore-submodules[=&lt;when&gt;]</span></span>\n<span class=\"line\"><span>                          ignore changes to submodules, optional when: all, dirty, untracked. (Default: all)</span></span>\n<span class=\"line\"><span>    --column[=&lt;style&gt;]    list untracked files in columns</span></span>\n<span class=\"line\"><span>    --no-renames          do not detect renames</span></span>\n<span class=\"line\"><span>    -M, --find-renames[=&lt;n&gt;]</span></span>\n<span class=\"line\"><span>                          detect renames, optionally set similarity index</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>switch</h2>\n<details class=\"hint-container details\"><summary>git switch -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git switch [&lt;options&gt;] [&lt;branch&gt;]</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -c, --create &lt;branch&gt;</span></span>\n<span class=\"line\"><span>                          create and switch to a new branch</span></span>\n<span class=\"line\"><span>    -C, --force-create &lt;branch&gt;</span></span>\n<span class=\"line\"><span>                          create/reset and switch to a branch</span></span>\n<span class=\"line\"><span>    --guess               second guess 'git switch &lt;no-such-branch&gt;'</span></span>\n<span class=\"line\"><span>    --discard-changes     throw away local modifications</span></span>\n<span class=\"line\"><span>    -q, --quiet           suppress progress reporting</span></span>\n<span class=\"line\"><span>    --recurse-submodules[=&lt;checkout&gt;]</span></span>\n<span class=\"line\"><span>                          control recursive updating of submodules</span></span>\n<span class=\"line\"><span>    --progress            force progress reporting</span></span>\n<span class=\"line\"><span>    -m, --merge           perform a 3-way merge with the new branch</span></span>\n<span class=\"line\"><span>    --conflict &lt;style&gt;    conflict style (merge, diff3, or zdiff3)</span></span>\n<span class=\"line\"><span>    -d, --detach          detach HEAD at named commit</span></span>\n<span class=\"line\"><span>    -t, --track[=(direct|inherit)]</span></span>\n<span class=\"line\"><span>                          set branch tracking configuration</span></span>\n<span class=\"line\"><span>    -f, --force           force checkout (throw away local modifications)</span></span>\n<span class=\"line\"><span>    --orphan &lt;new-branch&gt;</span></span>\n<span class=\"line\"><span>                          new unparented branch</span></span>\n<span class=\"line\"><span>    --overwrite-ignore    update ignored files (default)</span></span>\n<span class=\"line\"><span>    --ignore-other-worktrees</span></span>\n<span class=\"line\"><span>                          do not check if another worktree is holding the given ref</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<h2>tag</h2>\n<details class=\"hint-container details\"><summary>git tag -h</summary>\n<div class=\"language- line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"\" data-title=\"\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span>usage: git tag [-a | -s | -u &lt;key-id&gt;] [-f] [-m &lt;msg&gt; | -F &lt;file&gt;] [-e]</span></span>\n<span class=\"line\"><span>               &lt;tagname&gt; [&lt;commit&gt; | &lt;object&gt;]</span></span>\n<span class=\"line\"><span>   or: git tag -d &lt;tagname&gt;...</span></span>\n<span class=\"line\"><span>   or: git tag [-n[&lt;num&gt;]] -l [--contains &lt;commit&gt;] [--no-contains &lt;commit&gt;]</span></span>\n<span class=\"line\"><span>               [--points-at &lt;object&gt;] [--column[=&lt;options&gt;] | --no-column]</span></span>\n<span class=\"line\"><span>               [--create-reflog] [--sort=&lt;key&gt;] [--format=&lt;format&gt;]</span></span>\n<span class=\"line\"><span>               [--merged &lt;commit&gt;] [--no-merged &lt;commit&gt;] [&lt;pattern&gt;...]</span></span>\n<span class=\"line\"><span>   or: git tag -v [--format=&lt;format&gt;] &lt;tagname&gt;...</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>    -l, --list            list tag names</span></span>\n<span class=\"line\"><span>    -n[&lt;n&gt;]               print &lt;n&gt; lines of each tag message</span></span>\n<span class=\"line\"><span>    -d, --delete          delete tags</span></span>\n<span class=\"line\"><span>    -v, --verify          verify tags</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Tag creation options</span></span>\n<span class=\"line\"><span>    -a, --annotate        annotated tag, needs a message</span></span>\n<span class=\"line\"><span>    -m, --message &lt;message&gt;</span></span>\n<span class=\"line\"><span>                          tag message</span></span>\n<span class=\"line\"><span>    -F, --file &lt;file&gt;     read message from file</span></span>\n<span class=\"line\"><span>    -e, --edit            force edit of tag message</span></span>\n<span class=\"line\"><span>    -s, --sign            annotated and GPG-signed tag</span></span>\n<span class=\"line\"><span>    --cleanup &lt;mode&gt;      how to strip spaces and #comments from message</span></span>\n<span class=\"line\"><span>    -u, --local-user &lt;key-id&gt;</span></span>\n<span class=\"line\"><span>                          use another key to sign the tag</span></span>\n<span class=\"line\"><span>    -f, --force           replace the tag if exists</span></span>\n<span class=\"line\"><span>    --create-reflog       create a reflog</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Tag listing options</span></span>\n<span class=\"line\"><span>    --column[=&lt;style&gt;]    show tag list in columns</span></span>\n<span class=\"line\"><span>    --contains &lt;commit&gt;   print only tags that contain the commit</span></span>\n<span class=\"line\"><span>    --no-contains &lt;commit&gt;</span></span>\n<span class=\"line\"><span>                          print only tags that don't contain the commit</span></span>\n<span class=\"line\"><span>    --merged &lt;commit&gt;     print only tags that are merged</span></span>\n<span class=\"line\"><span>    --no-merged &lt;commit&gt;  print only tags that are not merged</span></span>\n<span class=\"line\"><span>    --sort &lt;key&gt;          field name to sort on</span></span>\n<span class=\"line\"><span>    --points-at &lt;object&gt;  print only tags of the object</span></span>\n<span class=\"line\"><span>    --format &lt;format&gt;     format to use for the output</span></span>\n<span class=\"line\"><span>    --color[=&lt;when&gt;]      respect format colors</span></span>\n<span class=\"line\"><span>    -i, --ignore-case     sorting and filtering are case insensitive</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></details>\n<p><code>tag</code> 命令对提交记录添加标签标识。 如每次发行版本之后，对最新的提交记录打上标签。</p>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -a</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'tag name'</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'tag message'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 对最新的提交添加 tag name, 并记为 tag message</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'tag name'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'commit id'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 对指定的提交记录添加 tag name，而后需要动态输入 tag message</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 列出全部 tag name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 列出全部 tag name 和 tag message</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> tag</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'tag name'</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 删除指定的 tag</span></span></code></pre>\n</div>",
      "date_published": "2024-10-05T04:23:00.000Z",
      "date_modified": "2024-10-20T12:57:05.000Z",
      "authors": [],
      "tags": [
        "Note"
      ]
    },
    {
      "title": "Ubuntu 开箱配置",
      "url": "https://vuepress-theme-hope.github.io/ubuntu.html",
      "id": "https://vuepress-theme-hope.github.io/ubuntu.html",
      "summary": "记录 Ubuntu 从零到一的开箱配置。",
      "content_html": "<p>记录 Ubuntu 从零到一的开箱配置。</p>\n<!-- more -->\n<h2>用户与组</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> useradd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -s</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin/bash</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zkf</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 新增用户 zkf</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> usermod</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -a</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -G</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zkf</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 将 zkf 添加到 sudo 组</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># 上述两行命令可以合并成一行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> useradd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -G</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> wheel</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -s</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin/bash</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zkf</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> passwd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zkf</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 设置/修改 zkf 密码</span></span></code></pre>\n</div><h2>编辑器</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> update-alternatives</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --config</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> editor</span></span></code></pre>\n</div><h2>挂载硬盘</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> mount</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /dev/sda1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /media/data</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 将 sda1 分区挂载到 /media/data</span></span></code></pre>\n</div><h2>设置快捷方式</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ln</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -sf</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /media/data</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/workspace</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 对 /media/data 设置链接</span></span></code></pre>\n</div><h2>Git</h2>\n<h3>安装</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> apt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> install</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git</span></span></code></pre>\n</div><h3>配置</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user.name</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"your name\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user.email</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"your email\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> core.autocrlf</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> input</span></span></code></pre>\n</div><h2>GPG</h2>\n<h3>配置</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">gpg</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --full-gen-key</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 选择 rsa，4096，失效日期，姓名和邮箱地址（注意和 git config 设置的一致）</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">gpg</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --list-secret-keys</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --keyid-format</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> LONG</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"your email\"</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 列出 Key 信息。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"># sec   rsa4096/F212D2CFEBF50880 2024-04-20 [SC] 中，是 F212D2CFEBF50880 key id</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">gpg</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --armor</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --export</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> F212D2CFEBF50880</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 导出公钥，配置到 gitlab GPG Keys 页面。</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user.signingkey</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> F212D2CFEBF50880</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 告诉 git，使用此密钥签名</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit.gpgsign</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 设置默认使用 GPG key 签名</span></span></code></pre>\n</div><h2>Python</h2>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> apt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> install</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> python3</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 安装 python</span></span></code></pre>\n</div><p><code>python</code> 通过 <code>pip</code> 管理安装包的依赖关系。安装 <code>pip</code> 有两种方式。</p>\n<h3>virtual env</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> apt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> install</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> python3-venv</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\">  # 安装 virtual env</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">python3</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> venv</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"virtual env name\"</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 创建虚拟环境</span></span></code></pre>\n</div><h3>get-pip</h3>\n<div class=\"language-shell\" data-highlighter=\"shiki\" data-ext=\"shell\" data-title=\"shell\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">curl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> https://bootstrap.pypa.io/get-pip.py</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -o</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> get-pip.py</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sudo</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> python3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> get-pip.py</span><span style=\"--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic\"> # 安装 pip</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">rm</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -rf</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> get-pip.py</span></span></code></pre>\n</div>",
      "date_published": "2024-10-01T05:00:32.000Z",
      "date_modified": "2024-10-05T14:00:02.000Z",
      "authors": [],
      "tags": [
        "Linux",
        "Note"
      ]
    }
  ]
}